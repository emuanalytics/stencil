"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var fs$1=require("./graceful-fs.js"),fs$1__default=_interopDefault(fs$1),path$2=require("path"),path$2__default=_interopDefault(path$2),fs$2=require("fs"),fs$2__default=_interopDefault(fs$2),mockDoc=require("../../mock-doc"),utils$4=require("../../utils"),crypto$1=require("crypto"),crypto$1__default=_interopDefault(crypto$1),ts=_interopDefault(require("typescript")),https$1=require("https"),util$1=_interopDefault(require("util")),events$1=require("events"),events$1__default=_interopDefault(events$1),assert$2=_interopDefault(require("assert")),child_process$1=require("child_process"),child_process$1__default=_interopDefault(child_process$1),module$2=_interopDefault(require("module")),os$1=require("os"),os$1__default=_interopDefault(os$1),_0777=parseInt("0777",8),mkdirp=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;function mkdirP(e,t,r,s){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var n=t.mode,i=t.fs||fs$2__default;void 0===n&&(n=_0777&~process.umask()),s||(s=null);var a=r||function(){};e=path$2__default.resolve(e),i.mkdir(e,n,(function(r){if(!r)return a(null,s=s||e);switch(r.code){case"ENOENT":mkdirP(path$2__default.dirname(e),t,(function(r,s){r?a(r,s):mkdirP(e,t,a,s)}));break;default:i.stat(e,(function(e,t){e||!t.isDirectory()?a(r,s):a(null,s)}))}}))}mkdirP.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var n=r.mode,i=r.fs||fs$2__default;void 0===n&&(n=_0777&~process.umask()),s||(s=null),t=path$2__default.resolve(t);try{i.mkdirSync(t,n),s=s||t}catch(n){switch(n.code){case"ENOENT":s=e(path$2__default.dirname(t),r,s),e(t,r,s);break;default:var a;try{a=i.statSync(t)}catch(e){throw n}if(!a.isDirectory())throw n}}return s};class NodeFs{constructor(e){this.supportsMkdirRecursive=!1,this.supportsCOPYFILE_FICLONE=!1;try{const t=e.version.split(".").map(e=>parseInt(e,10)),r=t[0],s=t[1];this.supportsMkdirRecursive=r>=11||10===r&&s>=12,this.supportsCOPYFILE_FICLONE=r>=12}catch(e){}}access(e){return new Promise((t,r)=>{fs$1__default.access(e,e=>{e?r(e):t()})})}copyFile(e,t){return new Promise((r,s)=>{const n=this.supportsCOPYFILE_FICLONE?fs$1__default.constants.COPYFILE_FICLONE:0;return fs$1__default.copyFile(e,t,n,e=>{e?s(e):r()})})}createReadStream(e){return fs$1__default.createReadStream(e)}mkdir(e,t={}){return t.recursive?this.supportsMkdirRecursive?new Promise((r,s)=>{fs$1__default.mkdir(e,t,e=>{e?s(e):r()})}):new Promise((t,r)=>{mkdirp(e,e=>{e?r(e):t()})}):new Promise((r,s)=>{fs$1__default.mkdir(e,t,e=>{e?s(e):r()})})}mkdirSync(e,t={}){t.recursive?this.supportsMkdirRecursive?fs$1__default.mkdirSync(e,t):mkdirp.sync(e,t):fs$1__default.mkdirSync(e,t)}readdir(e){return new Promise((t,r)=>{fs$1__default.readdir(e,(e,s)=>{e?r(e):t(s)})})}readdirSync(e){return fs$1__default.readdirSync(e)}readFile(e,t="utf8"){return new Promise((r,s)=>{fs$1__default.readFile(e,t,(e,t)=>{e?s(e):r(t)})})}exists(e){return new Promise(t=>{fs$1__default.exists(e,t)})}existsSync(e){return fs$1__default.existsSync(e)}readFileSync(e,t="utf8"){return fs$1__default.readFileSync(e,t)}rmdir(e){return new Promise((t,r)=>{fs$1__default.rmdir(e,e=>{e?r(e):t()})})}stat(e){return new Promise((t,r)=>{fs$1__default.stat(e,(e,s)=>{e?r(e):t(s)})})}statSync(e){return fs$1__default.statSync(e)}unlink(e){return new Promise((t,r)=>{fs$1__default.unlink(e,e=>{e?r(e):t()})})}writeFile(e,t){return new Promise((r,s)=>{fs$1__default.writeFile(e,t,{encoding:"utf8"},e=>{e?s(e):r()})})}writeFileSync(e,t){return fs$1__default.writeFileSync(e,t,{encoding:"utf8"})}}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var symbols=createCommonjsModule((function(e){const t="Hyper"===process.env.TERM_PROGRAM,r="win32"===process.platform,s="linux"===process.platform,n={ballotDisabled:"☒",ballotOff:"☐",ballotOn:"☑",bullet:"•",bulletWhite:"◦",fullBlock:"█",heart:"❤",identicalTo:"≡",line:"─",mark:"※",middot:"·",minus:"－",multiplication:"×",obelus:"÷",pencilDownRight:"✎",pencilRight:"✏",pencilUpRight:"✐",percent:"%",pilcrow2:"❡",pilcrow:"¶",plusMinus:"±",section:"§",starsOff:"☆",starsOn:"★",upDownArrow:"↕"},i=Object.assign({},n,{check:"√",cross:"×",ellipsisLarge:"...",ellipsis:"...",info:"i",question:"?",questionSmall:"?",pointer:">",pointerSmall:"»",radioOff:"( )",radioOn:"(*)",warning:"‼"}),a=Object.assign({},n,{ballotCross:"✘",check:"✔",cross:"✖",ellipsisLarge:"⋯",ellipsis:"…",info:"ℹ",question:"?",questionFull:"？",questionSmall:"﹖",pointer:s?"▸":"❯",pointerSmall:s?"‣":"›",radioOff:"◯",radioOn:"◉",warning:"⚠"});e.exports=r&&!t?i:a,Reflect.defineProperty(e.exports,"common",{enumerable:!1,value:n}),Reflect.defineProperty(e.exports,"windows",{enumerable:!1,value:i}),Reflect.defineProperty(e.exports,"other",{enumerable:!1,value:a})}));const isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),ANSI_REGEX=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,create=()=>{const e={enabled:!0,visible:!0,styles:{},keys:{}};"FORCE_COLOR"in process.env&&(e.enabled="0"!==process.env.FORCE_COLOR);const t=(e,t,r)=>"function"==typeof e?e(t):e.wrap(t,r),r=(r,s)=>{if(""===r||null==r)return"";if(!1===e.enabled)return r;if(!1===e.visible)return"";let n=""+r,i=n.includes("\n"),a=s.length;for(a>0&&s.includes("unstyle")&&(s=[...new Set(["unstyle",...s])].reverse());a-- >0;)n=t(e.styles[s[a]],n,i);return n},s=(t,s,n)=>{e.styles[t]=(e=>{let t=e.open=`[${e.codes[0]}m`,r=e.close=`[${e.codes[1]}m`,s=e.regex=new RegExp(`\\u001b\\[${e.codes[1]}m`,"g");return e.wrap=(e,n)=>{e.includes(r)&&(e=e.replace(s,r+t));let i=t+e+r;return n?i.replace(/\r*\n/g,`${r}$&${t}`):i},e})({name:t,codes:s}),(e.keys[n]||(e.keys[n]=[])).push(t),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(r){e.alias(t,r)},get(){let s=e=>r(e,s.stack);return Reflect.setPrototypeOf(s,e),s.stack=this.stack?this.stack.concat(t):[t],s}})};return s("reset",[0,0],"modifier"),s("bold",[1,22],"modifier"),s("dim",[2,22],"modifier"),s("italic",[3,23],"modifier"),s("underline",[4,24],"modifier"),s("inverse",[7,27],"modifier"),s("hidden",[8,28],"modifier"),s("strikethrough",[9,29],"modifier"),s("black",[30,39],"color"),s("red",[31,39],"color"),s("green",[32,39],"color"),s("yellow",[33,39],"color"),s("blue",[34,39],"color"),s("magenta",[35,39],"color"),s("cyan",[36,39],"color"),s("white",[37,39],"color"),s("gray",[90,39],"color"),s("grey",[90,39],"color"),s("bgBlack",[40,49],"bg"),s("bgRed",[41,49],"bg"),s("bgGreen",[42,49],"bg"),s("bgYellow",[43,49],"bg"),s("bgBlue",[44,49],"bg"),s("bgMagenta",[45,49],"bg"),s("bgCyan",[46,49],"bg"),s("bgWhite",[47,49],"bg"),s("blackBright",[90,39],"bright"),s("redBright",[91,39],"bright"),s("greenBright",[92,39],"bright"),s("yellowBright",[93,39],"bright"),s("blueBright",[94,39],"bright"),s("magentaBright",[95,39],"bright"),s("cyanBright",[96,39],"bright"),s("whiteBright",[97,39],"bright"),s("bgBlackBright",[100,49],"bgBright"),s("bgRedBright",[101,49],"bgBright"),s("bgGreenBright",[102,49],"bgBright"),s("bgYellowBright",[103,49],"bgBright"),s("bgBlueBright",[104,49],"bgBright"),s("bgMagentaBright",[105,49],"bgBright"),s("bgCyanBright",[106,49],"bgBright"),s("bgWhiteBright",[107,49],"bgBright"),e.ansiRegex=ANSI_REGEX,e.hasColor=e.hasAnsi=t=>(e.ansiRegex.lastIndex=0,"string"==typeof t&&""!==t&&e.ansiRegex.test(t)),e.alias=(t,s)=>{let n="string"==typeof s?e[s]:s;if("function"!=typeof n)throw new TypeError("Expected alias to be the name of an existing color (string) or a function");n.stack||(Reflect.defineProperty(n,"name",{value:t}),e.styles[t]=n,n.stack=[t]),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(r){e.alias(t,r)},get(){let t=e=>r(e,t.stack);return Reflect.setPrototypeOf(t,e),t.stack=this.stack?this.stack.concat(n.stack):n.stack,t}})},e.theme=t=>{if(!isObject(t))throw new TypeError("Expected theme to be an object");for(let r of Object.keys(t))e.alias(r,t[r]);return e},e.alias("unstyle",t=>"string"==typeof t&&""!==t?(e.ansiRegex.lastIndex=0,t.replace(e.ansiRegex,"")):""),e.alias("noop",e=>e),e.none=e.clear=e.noop,e.stripColor=e.unstyle,e.symbols=symbols,e.define=s,e};var ansiColors=create(),create_1=create;ansiColors.create=create_1;class NodeLogger{constructor(){this._level="info",this.writeLogQueue=[],this.buildLogFilePath=null}get level(){return this._level}set level(e){"string"==typeof e&&(e=e.toLowerCase().trim(),-1===LOG_LEVELS.indexOf(e)?this.error(`Invalid log level '${ansiColors.bold(e)}' (choose from: ${LOG_LEVELS.map(e=>ansiColors.bold(e)).join(", ")})`):this._level=e)}info(...e){if(this.shouldLog("info")){const t=wordWrap(e,getColumns());this.infoPrefix(t),console.log(t.join("\n"))}this.queueWriteLog("I",e)}infoPrefix(e){if(e.length){const t=new Date,r="["+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+Math.floor(t.getMilliseconds()/1e3*10)+"]";e[0]=this.dim(r)+e[0].substr(r.length)}}warn(...e){if(this.shouldLog("warn")){const t=wordWrap(e,getColumns());this.warnPrefix(t),console.warn("\n"+t.join("\n")+"\n")}this.queueWriteLog("W",e)}warnPrefix(e){if(e.length){const t="[ WARN  ]";e[0]=this.bold(ansiColors.yellow(t))+e[0].substr(t.length)}}error(...e){for(let t=0;t<e.length;t++)if(e[t]instanceof Error){const r=e[t];e[t]=r.message,r.stack&&(e[t]+="\n"+r.stack)}if(this.shouldLog("error")){const t=wordWrap(e,getColumns());this.errorPrefix(t),console.error("\n"+t.join("\n")+"\n")}this.queueWriteLog("E",e)}errorPrefix(e){if(e.length){const t="[ ERROR ]";e[0]=this.bold(ansiColors.red(t))+e[0].substr(t.length)}}debug(...e){if(this.shouldLog("debug")){e.push(this.dim(` MEM: ${(process.memoryUsage().rss/1e6).toFixed(1)}MB`));const t=wordWrap(e,getColumns());this.debugPrefix(t),console.log(t.join("\n"))}this.queueWriteLog("D",e)}debugPrefix(e){if(e.length){const t=new Date,r="["+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+Math.floor(t.getMilliseconds()/1e3*10)+"]";e[0]=ansiColors.cyan(r)+e[0].substr(r.length)}}timespanStart(e,t,r){const s=[`${e} ${this.dim("...")}`];if(t){if(this.shouldLog("debug")){s.push(this.dim(` MEM: ${(process.memoryUsage().rss/1e6).toFixed(1)}MB`));const t=wordWrap(s,getColumns());this.debugPrefix(t),console.log(t.join("\n")),this.queueWriteLog("D",[`${e} ...`])}}else{const t=wordWrap(s,getColumns());this.infoPrefix(t),console.log(t.join("\n")),this.queueWriteLog("I",[`${e} ...`]),r&&r.push(`${e} ...`)}}timespanFinish(e,t,r,s,n,i,a){let o=e;if(r&&(o=this.color(e,r)),s&&(o=this.bold(o)),o+=" "+this.dim(t),i){if(this.shouldLog("debug")){const e=[o];e.push(this.dim(` MEM: ${(process.memoryUsage().rss/1e6).toFixed(1)}MB`));const t=wordWrap(e,getColumns());this.debugPrefix(t),console.log(t.join("\n"))}this.queueWriteLog("D",[`${e} ${t}`])}else{const r=wordWrap([o],getColumns());this.infoPrefix(r),console.log(r.join("\n")),this.queueWriteLog("I",[`${e} ${t}`]),a&&a.push(`${e} ${t}`)}n&&console.log("")}queueWriteLog(e,t){if(this.buildLogFilePath){const r=new Date,s=("0"+r.getHours()).slice(-2)+":"+("0"+r.getMinutes()).slice(-2)+":"+("0"+r.getSeconds()).slice(-2)+".0"+Math.floor(r.getMilliseconds()/1e3*10)+"  "+("000"+(process.memoryUsage().rss/1e6).toFixed(1)).slice(-6)+"MB  "+e+"  "+t.join(", ");this.writeLogQueue.push(s)}}writeLogs(e){if(this.buildLogFilePath)try{this.queueWriteLog("F",["--------------------------------------"]);const t=this.writeLogQueue.join("\n");if(e)try{fs$1__default.accessSync(this.buildLogFilePath)}catch(t){e=!1}e?fs$1__default.appendFileSync(this.buildLogFilePath,t):fs$1__default.writeFileSync(this.buildLogFilePath,t)}catch(e){}this.writeLogQueue.length=0}color(e,t){return ansiColors[t](e)}red(e){return ansiColors.red(e)}green(e){return ansiColors.green(e)}yellow(e){return ansiColors.yellow(e)}blue(e){return ansiColors.blue(e)}magenta(e){return ansiColors.magenta(e)}cyan(e){return ansiColors.cyan(e)}gray(e){return ansiColors.gray(e)}bold(e){return ansiColors.bold(e)}dim(e){return ansiColors.dim(e)}shouldLog(e){return LOG_LEVELS.indexOf(e)>=LOG_LEVELS.indexOf(this.level)}createTimeSpan(e,t=!1,r){return new CmdTimeSpan(this,e,t,r)}printDiagnostics(e,t){if(!e||0===e.length)return;let r=[""];e.forEach(e=>{r=r.concat(this.printDiagnostic(e,t))}),console.log(r.join("\n"))}printDiagnostic(e,t){const r=wordWrap([e.messageText],getColumns());let s="";e.header&&"Build Error"!==e.header&&(s+=e.header),"string"==typeof e.absFilePath&&"string"!=typeof e.relFilePath&&("string"!=typeof t&&(t=process.cwd()),e.relFilePath=path$2__default.relative(t,e.absFilePath),e.relFilePath.includes("/")||(e.relFilePath="./"+e.relFilePath));let n=e.relFilePath;if("string"!=typeof n&&(n=e.absFilePath),"string"==typeof n&&(s.length>0&&(s+=": "),s+=ansiColors.cyan(n),"number"==typeof e.lineNumber&&e.lineNumber>-1&&(s+=ansiColors.dim(":"),s+=ansiColors.yellow(`${e.lineNumber}`),"number"==typeof e.columnNumber&&e.columnNumber>-1&&(s+=ansiColors.dim(":"),s+=ansiColors.yellow(`${e.columnNumber}`)))),s.length>0&&r.unshift(INDENT+s),r.push(""),e.lines&&e.lines.length){prepareLines(e.lines).forEach(t=>{if(!isMeaningfulLine(t.text))return;let s="";for(t.lineNumber>-1&&(s=`L${t.lineNumber}:  `);s.length<INDENT.length;)s=" "+s;let n=t.text;t.errorCharStart>-1&&(n=this.highlightError(n,t.errorCharStart,t.errorLength)),s=this.dim(s),"typescript"===e.language||"javascript"===e.language?s+=this.javaScriptSyntaxHighlight(n):"scss"===e.language||"css"===e.language?s+=this.cssSyntaxHighlight(n):s+=n,r.push(s)}),r.push("")}return"error"===e.level?this.errorPrefix(r):"warn"===e.level?this.warnPrefix(r):"debug"===e.level?this.debugPrefix(r):this.infoPrefix(r),null!=e.debugText&&"debug"===this.level&&(r.push(e.debugText),this.debugPrefix(wordWrap([e.debugText],getColumns()))),r}highlightError(e,t,r){let s=e.length-t+r-1;for(;e.length+INDENT.length>MAX_COLUMNS;)if(t>e.length-t+r&&t>5)e=e.substr(1),t--;else{if(!(s>1))break;e=e.substr(0,e.length-1),s--}const n=[],i=Math.max(e.length,t+r);for(var a=0;a<i;a++){var o=e.charAt(a);a>=t&&a<t+r&&(o=ansiColors.bgRed(""===o?" ":o)),n.push(o)}return n.join("")}javaScriptSyntaxHighlight(e){if(e.trim().startsWith("//"))return this.dim(e);return e.split(" ").map(e=>JS_KEYWORDS.indexOf(e)>-1?ansiColors.cyan(e):e).join(" ")}cssSyntaxHighlight(e){let t=!0;const r=[];for(var s=0;s<e.length;s++){const n=e.charAt(s);";"===n||"{"===n?t=!0:".#,:}@$[]/*".indexOf(n)>-1&&(t=!1),t&&"abcdefghijklmnopqrstuvwxyz-_".indexOf(n.toLowerCase())>-1?r.push(ansiColors.cyan(n)):r.push(n)}return r.join("")}}class CmdTimeSpan{constructor(e,t,r,s){this.debug=r,this.appendTo=s,this.logger=e,this.start=Date.now(),this.logger.timespanStart(t,r,this.appendTo)}duration(){return Date.now()-this.start}finish(e,t,r,s){const n=this.duration();let i;if(n>1e3)i="in "+(n/1e3).toFixed(2)+" s";else{i=parseFloat(n.toFixed(3))>0?"in "+n+" ms":"in less than 1 ms"}return this.logger.timespanFinish(e,i,t,r,s,this.debug,this.appendTo),n}}const LOG_LEVELS=["debug","info","warn","error"];function getColumns(){const e=process.stdout&&process.stdout.columns||80;return Math.max(Math.min(MAX_COLUMNS,e),MIN_COLUMNS)}function wordWrap(e,t){const r=[],s=[];e.forEach(e=>{null===e?s.push("null"):void 0===e?s.push("undefined"):"string"==typeof e?e.replace(/\s/gm," ").split(" ").forEach(e=>{e.trim().length&&s.push(e.trim())}):"number"==typeof e||"boolean"==typeof e||"function"==typeof e?s.push(e.toString()):Array.isArray(e)?s.push(()=>e.toString()):Object(e)===e?s.push(()=>e.toString()):s.push(e.toString())});let n=INDENT;return s.forEach(e=>{r.length>25||("function"==typeof e?(n.trim().length&&r.push(n),r.push(e()),n=INDENT):INDENT.length+e.length>t-1?(n.trim().length&&r.push(n),r.push(INDENT+e),n=INDENT):e.length+n.length>t-1?(r.push(n),n=INDENT+e+" "):n+=e+" ")}),n.trim().length&&r.push(n),r.map(e=>e.trimRight())}function prepareLines(e){const t=JSON.parse(JSON.stringify(e));for(let e=0;e<100;e++){if(!eachLineHasLeadingWhitespace(t))return t;for(let e=0;e<t.length;e++)if(t[e].text=t[e].text.substr(1),t[e].errorCharStart--,!t[e].text.length)return t}return t}function eachLineHasLeadingWhitespace(e){if(!e.length)return!1;for(var t=0;t<e.length;t++){if(!e[t].text||e[t].text.length<1)return!1;const r=e[t].text.charAt(0);if(" "!==r&&"\t"!==r)return!1}return!0}function isMeaningfulLine(e){return!!e&&(e=e.trim()).length>0}const JS_KEYWORDS=["abstract","any","as","break","boolean","case","catch","class","console","const","continue","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","import","in","implements","Infinity","instanceof","let","module","namespace","NaN","new","number","null","public","private","protected","require","return","static","set","string","super","switch","this","throw","try","true","type","typeof","undefined","var","void","with","while","yield"],INDENT="           ",MIN_COLUMNS=60,MAX_COLUMNS=120,GENERATED_DTS="components.d.ts";class FsWatcher{constructor(e,t,r){this.config=e,this.fs=t,this.events=r,this.dirsAdded=[],this.dirsDeleted=[],this.filesAdded=[],this.filesDeleted=[],this.filesUpdated=new Map,this.dirWatchers=new Map,this.fileWatchers=new Map,this.dirItems=new Map}async addDirectory(e,t=!1){const r=await this.addDirectoryRecursive(e,t);return t&&r&&this.queue(),r}async addDirectoryRecursive(e,t=!1){if(e=utils$4.normalizePath(e),this.shouldIgnore(e))return!1;let r=!1;if(t&&!this.dirsAdded.includes(e)&&(this.dirsAdded.push(e),this.log("directory added",e)),!this.dirWatchers.has(e)){const t=ts.sys.watchDirectory(e,this.onDirectoryWatch.bind(this),!1);this.dirWatchers.set(e,t),r=!0}const s=await this.fs.readdir(e);return await Promise.all(s.map(async s=>{const n=path$2__default.join(e,s),i=await this.fs.stat(n);if(i.isFile()){await this.addFile(n,t,!1)&&(r=!0)}else if(i.isDirectory()){this.addDirItem(e,n),await this.addDirectoryRecursive(n,t)&&(r=!0)}})),r}removeDirectory(e,t=!1){this.removeDirectoryRecursive(e),t&&!this.dirsDeleted.includes(e)&&(this.log("directory deleted",e),this.dirsDeleted.push(e),this.queue())}removeDirectoryRecursive(e){e=utils$4.normalizePath(e);const t=this.dirWatchers.get(e);null!=t&&(this.dirWatchers.delete(e),t.close());const r=this.fileWatchers.get(e);null!=r&&(this.fileWatchers.delete(e),r.close());const s=this.dirItems.get(e);null!=s&&(s.forEach(e=>{this.removeDirectoryRecursive(e)}),this.dirItems.delete(e))}addDirItem(e,t){const r=this.dirItems.get(e);null==r?this.dirItems.set(e,new Set([t])):r.add(t)}async addFile(e,t=!1,r=!0){if(e=utils$4.normalizePath(e),this.shouldIgnore(e))return!1;let s=!1;if(!this.fileWatchers.has(e)){const t=ts.sys.watchFile(e,this.onFileWatch.bind(this));this.fileWatchers.set(e,t),this.addDirItem(utils$4.normalizePath(path$2__default.dirname(e)),e)}if(t&&!this.filesAdded.includes(e)){const t=await this.fs.readFile(e),n=crypto$1__default.createHash("md5").update(t).digest("base64");this.filesUpdated.get(e)===n?this.log("file already added",e):(this.log("file added",e),this.filesUpdated.set(e,n),this.filesAdded.push(e),r&&this.queue(),s=!0)}return s}removeFile(e,t=!1){e=utils$4.normalizePath(e);const r=this.fileWatchers.get(e);null!=r&&(this.fileWatchers.delete(e),r.close()),t&&!this.filesDeleted.includes(e)&&(this.log("file deleted",e),this.filesDeleted.push(e),this.queue())}async onFileChanged(e){if(e=utils$4.normalizePath(e),this.filesUpdated.has(e))this.log("file already queued to update",e);else try{const t=await this.fs.readFile(e),r=crypto$1__default.createHash("md5").update(t).digest("base64");this.filesUpdated.get(e)===r?this.log("file unchanged",e):(this.log("file updated",e),this.filesUpdated.set(e,r),this.queue())}catch(t){this.log(`onFileChanged: ${t}`,e)}}async onDirectoryWatch(e){if(e=utils$4.normalizePath(e),null==this.dirWatchers.get(e))if(null==this.fileWatchers.get(e))try{const t=await this.fs.stat(e);t.isDirectory()?this.addDirectory(e,!0):t.isFile()&&this.addFile(e,!0)}catch(t){this.log("onDirectoryWatch, no access",e)}else try{await this.fs.access(e)}catch(t){this.removeFile(e,!0)}else try{await this.fs.access(e)}catch(t){this.removeDirectory(e,!0)}}onFileWatch(e,t){switch(t){case ts.FileWatcherEventKind.Changed:this.onFileChanged(e);break;case ts.FileWatcherEventKind.Deleted:this.removeFile(e,!0);break;case ts.FileWatcherEventKind.Created:this.addFile(e,!0);break;default:this.log(`onFileWatch, unknown event: ${t}`,e)}}queue(){clearTimeout(this.flushTmrId),this.flushTmrId=setTimeout(this.flush.bind(this),FLUSH_TIMEOUT)}flush(){if(0===this.dirsAdded.length&&0===this.dirsDeleted.length&&0===this.filesAdded.length&&0===this.filesDeleted.length&&0===this.filesUpdated.size)return void this.log("flush, empty queue",this.config.rootDir);const e={dirsAdded:this.dirsAdded.slice(),dirsDeleted:this.dirsDeleted.slice(),filesAdded:this.filesAdded.slice(),filesDeleted:this.filesDeleted.slice(),filesUpdated:Array.from(this.filesUpdated.keys())};this.reset(),this.events.emit("fsChange",e)}reset(){this.dirsAdded.length=0,this.dirsDeleted.length=0,this.filesAdded.length=0,this.filesDeleted.length=0,this.filesUpdated.clear()}close(){clearTimeout(this.flushTmrId),this.reset(),this.dirWatchers.forEach(e=>{e.close()}),this.dirWatchers.clear(),this.fileWatchers.forEach(e=>{e.close()}),this.fileWatchers.clear()}shouldIgnore(e){for(let t=0;t<IGNORES.length;t++)if(e.endsWith(IGNORES[t]))return!0;return!(null==this.config.watchIgnoredRegex||!this.config.watchIgnoredRegex.test(e))}log(e,t){if(null!=this.config.logger){const r=path$2__default.relative(this.config.rootDir,t);this.config.logger.debug(`fs-watcher, ${e}: ${r}, ${Date.now().toString().substring(6)}`)}}}const FLUSH_TIMEOUT=50,IGNORES=[GENERATED_DTS,".log",".sql",".sqlite",".DS_Store",".Spotlight-V100",".Trashes","ehthumbs.db","Thumbs.db",".gitignore","package-lock.json"];async function getLatestCompilerVersion(e,t,r){try{if(!r){const t=await getLastCheck(e);if(null==t)return await setLastCheck(e),null;if(!requiresCheck(Date.now(),t,CHECK_INTERVAL))return null}await setLastCheck(e);const t=await requestUrl(REGISTRY_URL);return JSON.parse(t)["dist-tags"].latest}catch(e){t.debug(`checkVersion error: ${e}`)}return null}async function requestUrl(e){return new Promise((t,r)=>{const s=https$1.request(e,s=>{if(s.statusCode>299)return void r(`url: ${e}, staus: ${s.statusCode}`);s.once("error",r);const n=[];s.once("end",()=>{t(n.join(""))}),s.on("data",e=>{n.push(e)})});s.once("error",r),s.end()})}const REGISTRY_URL="https://registry.npmjs.org/@stencil/core";function requiresCheck(e,t,r){return t+r<e}const CHECK_INTERVAL=6048e5;function getLastCheck(e){return e.get(STORAGE_KEY)}function setLastCheck(e){return e.set(STORAGE_KEY,Date.now())}const STORAGE_KEY="last_version_check";var isWindows="win32"===process.platform,DEBUG=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function rethrow(){var e;if(DEBUG){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}function maybeCallback(e){return"function"==typeof e?e:rethrow()}var normalize=path$2__default.normalize;if(isWindows)var nextPartRe=/(.*?)(?:[\/\\]+|$)/g;else nextPartRe=/(.*?)(?:[\/]+|$)/g;if(isWindows)var splitRootRe=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else splitRootRe=/^[\/]*/;var realpathSync=function(e,t){if(e=path$2__default.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,s,n,i,a=e,o={},l={};function c(){var t=splitRootRe.exec(e);r=t[0].length,s=t[0],n=t[0],i="",isWindows&&!l[n]&&(fs$2__default.lstatSync(n),l[n]=!0)}for(c();r<e.length;){nextPartRe.lastIndex=r;var h=nextPartRe.exec(e);if(i=s,s+=h[0],n=i+h[1],r=nextPartRe.lastIndex,!(l[n]||t&&t[n]===n)){var u;if(t&&Object.prototype.hasOwnProperty.call(t,n))u=t[n];else{var p=fs$2__default.lstatSync(n);if(!p.isSymbolicLink()){l[n]=!0,t&&(t[n]=n);continue}var d=null;if(!isWindows){var f=p.dev.toString(32)+":"+p.ino.toString(32);o.hasOwnProperty(f)&&(d=o[f])}null===d&&(fs$2__default.statSync(n),d=fs$2__default.readlinkSync(n)),u=path$2__default.resolve(i,d),t&&(t[n]=u),isWindows||(o[f]=d)}e=path$2__default.resolve(u,e.slice(r)),c()}}return t&&(t[a]=e),e},realpath=function(e,t,r){if("function"!=typeof r&&(r=maybeCallback(t),t=null),e=path$2__default.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var s,n,i,a,o=e,l={},c={};function h(){var t=splitRootRe.exec(e);s=t[0].length,n=t[0],i=t[0],a="",isWindows&&!c[i]?fs$2__default.lstat(i,(function(e){if(e)return r(e);c[i]=!0,u()})):process.nextTick(u)}function u(){if(s>=e.length)return t&&(t[o]=e),r(null,e);nextPartRe.lastIndex=s;var l=nextPartRe.exec(e);return a=n,n+=l[0],i=a+l[1],s=nextPartRe.lastIndex,c[i]||t&&t[i]===i?process.nextTick(u):t&&Object.prototype.hasOwnProperty.call(t,i)?f(t[i]):fs$2__default.lstat(i,p)}function p(e,s){if(e)return r(e);if(!s.isSymbolicLink())return c[i]=!0,t&&(t[i]=i),process.nextTick(u);if(!isWindows){var n=s.dev.toString(32)+":"+s.ino.toString(32);if(l.hasOwnProperty(n))return d(null,l[n],i)}fs$2__default.stat(i,(function(e){if(e)return r(e);fs$2__default.readlink(i,(function(e,t){isWindows||(l[n]=t),d(e,t)}))}))}function d(e,s,n){if(e)return r(e);var i=path$2__default.resolve(a,s);t&&(t[n]=i),f(i)}function f(t){e=path$2__default.resolve(t,e.slice(s)),h()}h()},old={realpathSync:realpathSync,realpath:realpath},fs_realpath=realpath$1;realpath$1.realpath=realpath$1,realpath$1.sync=realpathSync$1,realpath$1.realpathSync=realpathSync$1,realpath$1.monkeypatch=monkeypatch,realpath$1.unmonkeypatch=unmonkeypatch;var origRealpath=fs$2__default.realpath,origRealpathSync=fs$2__default.realpathSync,version=process.version,ok=/^v[0-5]\./.test(version);function newError(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function realpath$1(e,t,r){if(ok)return origRealpath(e,t,r);"function"==typeof t&&(r=t,t=null),origRealpath(e,t,(function(s,n){newError(s)?old.realpath(e,t,r):r(s,n)}))}function realpathSync$1(e,t){if(ok)return origRealpathSync(e,t);try{return origRealpathSync(e,t)}catch(r){if(newError(r))return old.realpathSync(e,t);throw r}}function monkeypatch(){fs$2__default.realpath=realpath$1,fs$2__default.realpathSync=realpathSync$1}function unmonkeypatch(){fs$2__default.realpath=origRealpath,fs$2__default.realpathSync=origRealpathSync}var concatMap=function(e,t){for(var r=[],s=0;s<e.length;s++){var n=t(e[s],s);isArray(n)?r.push.apply(r,n):r.push(n)}return r},isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},balancedMatch=balanced;function balanced(e,t,r){e instanceof RegExp&&(e=maybeMatch(e,r)),t instanceof RegExp&&(t=maybeMatch(t,r));var s=range(e,t,r);return s&&{start:s[0],end:s[1],pre:r.slice(0,s[0]),body:r.slice(s[0]+e.length,s[1]),post:r.slice(s[1]+t.length)}}function maybeMatch(e,t){var r=t.match(e);return r?r[0]:null}function range(e,t,r){var s,n,i,a,o,l=r.indexOf(e),c=r.indexOf(t,l+1),h=l;if(l>=0&&c>0){for(s=[],i=r.length;h>=0&&!o;)h==l?(s.push(h),l=r.indexOf(e,h+1)):1==s.length?o=[s.pop(),c]:((n=s.pop())<i&&(i=n,a=c),c=r.indexOf(t,h+1)),h=l<c&&l>=0?l:c;s.length&&(o=[i,a])}return o}balanced.range=range;var braceExpansion=expandTop,escSlash="\0SLASH"+Math.random()+"\0",escOpen="\0OPEN"+Math.random()+"\0",escClose="\0CLOSE"+Math.random()+"\0",escComma="\0COMMA"+Math.random()+"\0",escPeriod="\0PERIOD"+Math.random()+"\0";function numeric(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(e){return e.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(e){if(!e)return[""];var t=[],r=balancedMatch("{","}",e);if(!r)return e.split(",");var s=r.pre,n=r.body,i=r.post,a=s.split(",");a[a.length-1]+="{"+n+"}";var o=parseCommaParts(i);return i.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),t.push.apply(t,a),t}function expandTop(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),expand(escapeBraces(e),!0).map(unescapeBraces)):[]}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,t){return e<=t}function gte(e,t){return e>=t}function expand(e,t){var r=[],s=balancedMatch("{","}",e);if(!s||/\$$/.test(s.pre))return[e];var n,i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),o=i||a,l=s.body.indexOf(",")>=0;if(!o&&!l)return s.post.match(/,.*\}/)?expand(e=s.pre+"{"+s.body+escClose+s.post):[e];if(o)n=s.body.split(/\.\./);else if(1===(n=parseCommaParts(s.body)).length&&1===(n=expand(n[0],!1).map(embrace)).length)return(u=s.post.length?expand(s.post,!1):[""]).map((function(e){return s.pre+n[0]+e}));var c,h=s.pre,u=s.post.length?expand(s.post,!1):[""];if(o){var p=numeric(n[0]),d=numeric(n[1]),f=Math.max(n[0].length,n[1].length),m=3==n.length?Math.abs(numeric(n[2])):1,g=lte;d<p&&(m*=-1,g=gte);var E=n.some(isPadded);c=[];for(var y=p;g(y,d);y+=m){var _;if(a)"\\"===(_=String.fromCharCode(y))&&(_="");else if(_=String(y),E){var x=f-_.length;if(x>0){var b=new Array(x+1).join("0");_=y<0?"-"+b+_.slice(1):b+_}}c.push(_)}}else c=concatMap(n,(function(e){return expand(e,!1)}));for(var S=0;S<c.length;S++)for(var v=0;v<u.length;v++){var C=h+c[S]+u[v];(!t||o||C)&&r.push(C)}return r}var minimatch_1=minimatch;minimatch.Minimatch=Minimatch;var path={sep:"/"};try{path=path$2__default}catch(e){}var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!");function charSet(e){return e.split("").reduce((function(e,t){return e[t]=!0,e}),{})}var slashSplit=/\/+/;function filter(e,t){return t=t||{},function(r,s,n){return minimatch(r,e,t)}}function ext(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function minimatch(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new Minimatch(t,r).match(e))}function Minimatch(e,t){if(!(this instanceof Minimatch))return new Minimatch(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==path.sep&&(e=e.split(path.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function make(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(slashSplit)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}}function parseNegate(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var s=0,n=e.length;s<n&&"!"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}}function braceExpand(e,t){if(t||(t=this instanceof Minimatch?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:braceExpansion(e)}minimatch.filter=filter,minimatch.defaults=function(e){if(!e||!Object.keys(e).length)return minimatch;var t=minimatch,r=function(r,s,n){return t.minimatch(r,s,ext(e,n))};return r.Minimatch=function(r,s){return new t.Minimatch(r,ext(e,s))},r},Minimatch.defaults=function(e){return e&&Object.keys(e).length?minimatch.defaults(e).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=make,Minimatch.prototype.parseNegate=parseNegate,minimatch.braceExpand=function(e,t){return braceExpand(e,t)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return GLOBSTAR;if(""===e)return"";var s,n="",i=!!r.nocase,a=!1,o=[],l=[],c=!1,h=-1,u=-1,p="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function f(){if(s){switch(s){case"*":n+=star,i=!0;break;case"?":n+=qmark,i=!0;break;default:n+="\\"+s}d.debug("clearStateChar %j %j",s,n),s=!1}}for(var m,g=0,E=e.length;g<E&&(m=e.charAt(g));g++)if(this.debug("%s\t%s %s %j",e,g,n,m),a&&reSpecials[m])n+="\\"+m,a=!1;else switch(m){case"/":return!1;case"\\":f(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,g,n,m),c){this.debug("  in class"),"!"===m&&g===u+1&&(m="^"),n+=m;continue}d.debug("call clearStateChar %j",s),f(),s=m,r.noext&&f();continue;case"(":if(c){n+="(";continue}if(!s){n+="\\(";continue}o.push({type:s,start:g-1,reStart:n.length,open:plTypes[s].open,close:plTypes[s].close}),n+="!"===s?"(?:(?!(?:":"(?:",this.debug("plType %j %j",s,n),s=!1;continue;case")":if(c||!o.length){n+="\\)";continue}f(),i=!0;var y=o.pop();n+=y.close,"!"===y.type&&l.push(y),y.reEnd=n.length;continue;case"|":if(c||!o.length||a){n+="\\|",a=!1;continue}f(),n+="|";continue;case"[":if(f(),c){n+="\\"+m;continue}c=!0,u=g,h=n.length,n+=m;continue;case"]":if(g===u+1||!c){n+="\\"+m,a=!1;continue}if(c){var _=e.substring(u+1,g);try{RegExp("["+_+"]")}catch(e){var x=this.parse(_,SUBPARSE);n=n.substr(0,h)+"\\["+x[0]+"\\]",i=i||x[1],c=!1;continue}}i=!0,c=!1,n+=m;continue;default:f(),a?a=!1:!reSpecials[m]||"^"===m&&c||(n+="\\"),n+=m}for(c&&(_=e.substr(u+1),x=this.parse(_,SUBPARSE),n=n.substr(0,h)+"\\["+x[0],i=i||x[1]),y=o.pop();y;y=o.pop()){var b=n.slice(y.reStart+y.open.length);this.debug("setting tail",n,y),b=b.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",b,b,y,n);var S="*"===y.type?star:"?"===y.type?qmark:"\\"+y.type;i=!0,n=n.slice(0,y.reStart)+S+"\\("+b}f(),a&&(n+="\\\\");var v=!1;switch(n.charAt(0)){case".":case"[":case"(":v=!0}for(var C=l.length-1;C>-1;C--){var A=l[C],$=n.slice(0,A.reStart),R=n.slice(A.reStart,A.reEnd-8),N=n.slice(A.reEnd-8,A.reEnd),P=n.slice(A.reEnd);N+=P;var I=$.split("(").length-1,k=P;for(g=0;g<I;g++)k=k.replace(/\)[+*?]?/,"");var w="";""===(P=k)&&t!==SUBPARSE&&(w="$"),n=$+R+P+w+N}if(""!==n&&i&&(n="(?=.)"+n),v&&(n=p+n),t===SUBPARSE)return[n,i];if(!i)return globUnescape(e);var O=r.nocase?"i":"";try{var T=new RegExp("^"+n+"$",O)}catch(e){return new RegExp("$.")}return T._glob=e,T._src=n,T}function makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?star:t.dot?twoStarDot:twoStarNoDot,s=t.nocase?"i":"",n=e.map((function(e){return e.map((function(e){return e===GLOBSTAR?r:"string"==typeof e?regExpEscape(e):e._src})).join("\\/")})).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,s)}catch(e){this.regexp=!1}return this.regexp}function match(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==path.sep&&(e=e.split(path.sep).join("/")),e=e.split(slashSplit),this.debug(this.pattern,"split",e);var s,n,i=this.set;for(this.debug(this.pattern,"set",i),n=e.length-1;n>=0&&!(s=e[n]);n--);for(n=0;n<i.length;n++){var a=i[n],o=e;if(r.matchBase&&1===a.length&&(o=[s]),this.matchOne(o,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}function globUnescape(e){return e.replace(/\\(.)/g,"$1")}function regExpEscape(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}minimatch.makeRe=function(e,t){return new Minimatch(e,t||{}).makeRe()},Minimatch.prototype.makeRe=makeRe,minimatch.match=function(e,t,r){var s=new Minimatch(t,r=r||{});return e=e.filter((function(e){return s.match(e)})),s.options.nonull&&!e.length&&e.push(t),e},Minimatch.prototype.match=match,Minimatch.prototype.matchOne=function(e,t,r){var s=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var n=0,i=0,a=e.length,o=t.length;n<a&&i<o;n++,i++){this.debug("matchOne loop");var l,c=t[i],h=e[n];if(this.debug(t,c,h),!1===c)return!1;if(c===GLOBSTAR){this.debug("GLOBSTAR",[t,c,h]);var u=n,p=i+1;if(p===o){for(this.debug("** at the end");n<a;n++)if("."===e[n]||".."===e[n]||!s.dot&&"."===e[n].charAt(0))return!1;return!0}for(;u<a;){var d=e[u];if(this.debug("\nglobstar while",e,u,t,p,d),this.matchOne(e.slice(u),t.slice(p),r))return this.debug("globstar found match!",u,a,d),!0;if("."===d||".."===d||!s.dot&&"."===d.charAt(0)){this.debug("dot detected!",e,u,t,p);break}this.debug("globstar swallow a segment, and continue"),u++}return!(!r||(this.debug("\n>>> no match, partial?",e,u,t,p),u!==a))}if("string"==typeof c?(l=s.nocase?h.toLowerCase()===c.toLowerCase():h===c,this.debug("string match",c,h,l)):(l=h.match(c),this.debug("pattern match",c,h,l)),!l)return!1}if(n===a&&i===o)return!0;if(n===a)return r;if(i===o)return n===a-1&&""===e[n];throw new Error("wtf?")};var inherits_browser=createCommonjsModule((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),inherits=createCommonjsModule((function(e){try{var t=util$1;if("function"!=typeof t.inherits)throw"";e.exports=t.inherits}catch(t){e.exports=inherits_browser}}));function posix(e){return"/"===e.charAt(0)}function win32(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",s=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||s)}var pathIsAbsolute="win32"===process.platform?win32:posix,posix_1=posix,win32_1=win32;pathIsAbsolute.posix=posix_1,pathIsAbsolute.win32=win32_1;var alphasort_1=alphasort,alphasorti_1=alphasorti,setopts_1=setopts,ownProp_1=ownProp,makeAbs_1=makeAbs,finish_1=finish,mark_1=mark,isIgnored_1=isIgnored,childrenIgnored_1=childrenIgnored;function ownProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Minimatch$1=minimatch_1.Minimatch;function alphasorti(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function alphasort(e,t){return e.localeCompare(t)}function setupIgnores(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(ignoreMap))}function ignoreMap(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new Minimatch$1(r,{dot:!0})}return{matcher:new Minimatch$1(e,{dot:!0}),gmatcher:t}}function setopts(e,t,r){if(r||(r={}),r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),setupIgnores(e,r),e.changedCwd=!1;var s=process.cwd();ownProp(r,"cwd")?(e.cwd=path$2__default.resolve(r.cwd),e.changedCwd=e.cwd!==s):e.cwd=s,e.root=r.root||path$2__default.resolve(e.cwd,"/"),e.root=path$2__default.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=pathIsAbsolute(e.cwd)?e.cwd:makeAbs(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new Minimatch$1(t,r),e.options=e.minimatch.options}function finish(e){for(var t=e.nounique,r=t?[]:Object.create(null),s=0,n=e.matches.length;s<n;s++){var i=e.matches[s];if(i&&0!==Object.keys(i).length){var a=Object.keys(i);t?r.push.apply(r,a):a.forEach((function(e){r[e]=!0}))}else if(e.nonull){var o=e.minimatch.globSet[s];t?r.push(o):r[o]=!0}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(e.nocase?alphasorti:alphasort)),e.mark){for(s=0;s<r.length;s++)r[s]=e._mark(r[s]);e.nodir&&(r=r.filter((function(t){var r=!/\/$/.test(t),s=e.cache[t]||e.cache[makeAbs(e,t)];return r&&s&&(r="DIR"!==s&&!Array.isArray(s)),r})))}e.ignore.length&&(r=r.filter((function(t){return!isIgnored(e,t)}))),e.found=r}function mark(e,t){var r=makeAbs(e,t),s=e.cache[r],n=t;if(s){var i="DIR"===s||Array.isArray(s),a="/"===t.slice(-1);if(i&&!a?n+="/":!i&&a&&(n=n.slice(0,-1)),n!==t){var o=makeAbs(e,n);e.statCache[o]=e.statCache[r],e.cache[o]=e.cache[r]}}return n}function makeAbs(e,t){var r=t;return r="/"===t.charAt(0)?path$2__default.join(e.root,t):pathIsAbsolute(t)||""===t?t:e.changedCwd?path$2__default.resolve(e.cwd,t):path$2__default.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function isIgnored(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}function childrenIgnored(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))}var common={alphasort:alphasort_1,alphasorti:alphasorti_1,setopts:setopts_1,ownProp:ownProp_1,makeAbs:makeAbs_1,finish:finish_1,mark:mark_1,isIgnored:isIgnored_1,childrenIgnored:childrenIgnored_1},sync=globSync;globSync.GlobSync=GlobSync;var setopts$1=common.setopts,ownProp$1=common.ownProp,childrenIgnored$1=common.childrenIgnored,isIgnored$1=common.isIgnored;function globSync(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(e,t).found}function GlobSync(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(e,t);if(setopts$1(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1);this._finish()}GlobSync.prototype._finish=function(){if(assert$2(this instanceof GlobSync),this.realpath){var e=this;this.matches.forEach((function(t,r){var s=e.matches[r]=Object.create(null);for(var n in t)try{n=e._makeAbs(n),s[fs_realpath.realpathSync(n,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;s[e._makeAbs(n)]=!0}}))}common.finish(this)},GlobSync.prototype._process=function(e,t,r){assert$2(this instanceof GlobSync);for(var s,n=0;"string"==typeof e[n];)n++;switch(n){case e.length:return void this._processSimple(e.join("/"),t);case 0:s=null;break;default:s=e.slice(0,n).join("/")}var i,a=e.slice(n);null===s?i=".":pathIsAbsolute(s)||pathIsAbsolute(e.join("/"))?(s&&pathIsAbsolute(s)||(s="/"+s),i=s):i=s;var o=this._makeAbs(i);childrenIgnored$1(this,i)||(a[0]===minimatch_1.GLOBSTAR?this._processGlobStar(s,i,o,a,t,r):this._processReaddir(s,i,o,a,t,r))},GlobSync.prototype._processReaddir=function(e,t,r,s,n,i){var a=this._readdir(r,i);if(a){for(var o=s[0],l=!!this.minimatch.negate,c=o._glob,h=this.dot||"."===c.charAt(0),u=[],p=0;p<a.length;p++){if("."!==(m=a[p]).charAt(0)||h)(l&&!e?!m.match(o):m.match(o))&&u.push(m)}var d=u.length;if(0!==d)if(1!==s.length||this.mark||this.stat){s.shift();for(p=0;p<d;p++){var f;m=u[p];f=e?[e,m]:[m],this._process(f.concat(s),n,i)}}else{this.matches[n]||(this.matches[n]=Object.create(null));for(var p=0;p<d;p++){var m=u[p];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=path$2__default.join(this.root,m)),this._emitMatch(n,m)}}}},GlobSync.prototype._emitMatch=function(e,t){if(!isIgnored$1(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var s=this.cache[r];if("DIR"===s||Array.isArray(s))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},GlobSync.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=fs$2__default.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var s=r&&r.isSymbolicLink();return this.symlinks[e]=s,s||!r||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},GlobSync.prototype._readdir=function(e,t){if(t&&!ownProp$1(this.symlinks,e))return this._readdirInGlobStar(e);if(ownProp$1(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,fs$2__default.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},GlobSync.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s="/"===e?e+s:e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,t},GlobSync.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);throw s.path=this.cwd,s.code=t.code,s}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},GlobSync.prototype._processGlobStar=function(e,t,r,s,n,i){var a=this._readdir(r,i);if(a){var o=s.slice(1),l=e?[e]:[],c=l.concat(o);this._process(c,n,!1);var h=a.length;if(!this.symlinks[r]||!i)for(var u=0;u<h;u++){if("."!==a[u].charAt(0)||this.dot){var p=l.concat(a[u],o);this._process(p,n,!0);var d=l.concat(a[u],s);this._process(d,n,!0)}}}},GlobSync.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&pathIsAbsolute(e)&&!this.nomount){var s=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=path$2__default.join(this.root,e):(e=path$2__default.resolve(this.root,e),s&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},GlobSync.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&ownProp$1(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||"DIR"===s)return s;if(r&&"FILE"===s)return!1}var n=this.statCache[t];if(!n){var i;try{i=fs$2__default.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(i&&i.isSymbolicLink())try{n=fs$2__default.statSync(t)}catch(e){n=i}else n=i}this.statCache[t]=n;s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,(!r||"FILE"!==s)&&s},GlobSync.prototype._mark=function(e){return common.mark(this,e)},GlobSync.prototype._makeAbs=function(e){return common.makeAbs(this,e)};var wrappy_1=wrappy;function wrappy(e,t){if(e&&t)return wrappy(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){r[t]=e[t]})),r;function r(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var s=e.apply(this,t),n=t[t.length-1];return"function"==typeof s&&s!==n&&Object.keys(n).forEach((function(e){s[e]=n[e]})),s}}var once_1=wrappy_1(once),strict=wrappy_1(onceStrict);function once(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function onceStrict(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}once.proto=once((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})})),once_1.strict=strict;var reqs=Object.create(null),inflight_1=wrappy_1(inflight);function inflight(e,t){return reqs[e]?(reqs[e].push(t),null):(reqs[e]=[t],makeres(e))}function makeres(e){return once_1((function t(){var r=reqs[e],s=r.length,n=slice(arguments);try{for(var i=0;i<s;i++)r[i].apply(null,n)}finally{r.length>s?(r.splice(0,s),process.nextTick((function(){t.apply(null,n)}))):delete reqs[e]}}))}function slice(e){for(var t=e.length,r=[],s=0;s<t;s++)r[s]=e[s];return r}var glob_1=glob,EE=events$1__default.EventEmitter,setopts$2=common.setopts,ownProp$2=common.ownProp,childrenIgnored$2=common.childrenIgnored,isIgnored$2=common.isIgnored;function glob(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return sync(e,t)}return new Glob(e,t,r)}glob.sync=sync;var GlobSync$1=glob.GlobSync=sync.GlobSync;function extend(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),s=r.length;s--;)e[r[s]]=t[r[s]];return e}function Glob(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new GlobSync$1(e,t)}if(!(this instanceof Glob))return new Glob(e,t,r);setopts$2(this,e,t),this._didRealPath=!1;var s=this.minimatch.set.length;this.matches=new Array(s),"function"==typeof r&&(r=once_1(r),this.on("error",r),this.on("end",(function(e){r(null,e)})));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===s)return o();for(var i=!0,a=0;a<s;a++)this._process(this.minimatch.set[a],a,!1,o);function o(){--n._processing,n._processing<=0&&(i?process.nextTick((function(){n._finish()})):n._finish())}i=!1}function readdirCb(e,t,r){return function(s,n){s?e._readdirError(t,s,r):e._readdirEntries(t,n,r)}}function loadConfigFile(e,t,r){let s,n="";r&&(r.cwd&&(n=r.cwd()),r.env&&"string"==typeof r.env.PWD&&(n=r.env.PWD));let i=!1;if("string"==typeof t){if(!path$2__default.isAbsolute(t))throw new Error(`Stencil configuration file "${t}" must be an absolute path.`);try{const r=e.statSync(t);r.isFile()?i=!0:r.isDirectory()&&(i=null!=(t=getConfigPathFromDirectory(e,t)))}catch(e){}}if(i){const r=requireConfigFile(e,t);if(!r.config)throw new Error(`Invalid Stencil configuration file "${t}". Missing "config" property.`);(s=r.config).configPath=t,t&&(s.rootDir=utils$4.normalizePath(path$2__default.dirname(t)))}else s={rootDir:n};return s.cwd=utils$4.normalizePath(n),s}function getConfigPathFromDirectory(e,t){for(let r=0;r<CONFIG_FILENAMES.length;r++)try{const s=path$2__default.join(t,CONFIG_FILENAMES[r]);if(e.statSync(s).isFile())return s}catch(e){}return null}glob.glob=glob,glob.hasMagic=function(e,t){var r=extend({},t);r.noprocess=!0;var s=new Glob(e,r).minimatch.set;if(!e)return!1;if(s.length>1)return!0;for(var n=0;n<s[0].length;n++)if("string"!=typeof s[0][n])return!0;return!1},glob.Glob=Glob,inherits(Glob,EE),Glob.prototype._finish=function(){if(assert$2(this instanceof Glob),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();common.finish(this),this.emit("end",this.found)}},Glob.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,s)}function s(){0==--e&&t._finish()}},Glob.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var s=Object.keys(r),n=this,i=s.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);s.forEach((function(r,s){r=n._makeAbs(r),fs_realpath.realpath(r,n.realpathCache,(function(s,o){s?"stat"===s.syscall?a[r]=!0:n.emit("error",s):a[o]=!0,0==--i&&(n.matches[e]=a,t())}))}))},Glob.prototype._mark=function(e){return common.mark(this,e)},Glob.prototype._makeAbs=function(e){return common.makeAbs(this,e)},Glob.prototype.abort=function(){this.aborted=!0,this.emit("abort")},Glob.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},Glob.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var s=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<s.length;t++){var n=s[t];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}},Glob.prototype._process=function(e,t,r,s){if(assert$2(this instanceof Glob),assert$2("function"==typeof s),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,s]);else{for(var n,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t,s);case 0:n=null;break;default:n=e.slice(0,i).join("/")}var a,o=e.slice(i);null===n?a=".":pathIsAbsolute(n)||pathIsAbsolute(e.join("/"))?(n&&pathIsAbsolute(n)||(n="/"+n),a=n):a=n;var l=this._makeAbs(a);if(childrenIgnored$2(this,a))return s();o[0]===minimatch_1.GLOBSTAR?this._processGlobStar(n,a,l,o,t,r,s):this._processReaddir(n,a,l,o,t,r,s)}},Glob.prototype._processReaddir=function(e,t,r,s,n,i,a){var o=this;this._readdir(r,i,(function(l,c){return o._processReaddir2(e,t,r,s,n,i,c,a)}))},Glob.prototype._processReaddir2=function(e,t,r,s,n,i,a,o){if(!a)return o();for(var l=s[0],c=!!this.minimatch.negate,h=l._glob,u=this.dot||"."===h.charAt(0),p=[],d=0;d<a.length;d++){if("."!==(m=a[d]).charAt(0)||u)(c&&!e?!m.match(l):m.match(l))&&p.push(m)}var f=p.length;if(0===f)return o();if(1===s.length&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(d=0;d<f;d++){var m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=path$2__default.join(this.root,m)),this._emitMatch(n,m)}return o()}s.shift();for(d=0;d<f;d++){m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(s),n,i,o)}o()},Glob.prototype._emitMatch=function(e,t){if(!this.aborted&&!isIgnored$2(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=pathIsAbsolute(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var s=this.cache[r];if("DIR"===s||Array.isArray(s))return}this.matches[e][t]=!0;var n=this.statCache[r];n&&this.emit("stat",t,n),this.emit("match",t)}}},Glob.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,s=inflight_1("lstat\0"+e,(function(s,n){if(s&&"ENOENT"===s.code)return t();var i=n&&n.isSymbolicLink();r.symlinks[e]=i,i||!n||n.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())}));s&&fs$2__default.lstat(e,s)}},Glob.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=inflight_1("readdir\0"+e+"\0"+t,r))){if(t&&!ownProp$2(this.symlinks,e))return this._readdirInGlobStar(e,r);if(ownProp$2(this.cache,e)){var s=this.cache[e];if(!s||"FILE"===s)return r();if(Array.isArray(s))return r(null,s)}fs$2__default.readdir(e,readdirCb(this,e,r))}},Glob.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var s=0;s<t.length;s++){var n=t[s];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,r(null,t)}},Glob.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var s=this._makeAbs(e);if(this.cache[s]="FILE",s===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=t.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},Glob.prototype._processGlobStar=function(e,t,r,s,n,i,a){var o=this;this._readdir(r,i,(function(l,c){o._processGlobStar2(e,t,r,s,n,i,c,a)}))},Glob.prototype._processGlobStar2=function(e,t,r,s,n,i,a,o){if(!a)return o();var l=s.slice(1),c=e?[e]:[],h=c.concat(l);this._process(h,n,!1,o);var u=this.symlinks[r],p=a.length;if(u&&i)return o();for(var d=0;d<p;d++){if("."!==a[d].charAt(0)||this.dot){var f=c.concat(a[d],l);this._process(f,n,!0,o);var m=c.concat(a[d],s);this._process(m,n,!0,o)}}o()},Glob.prototype._processSimple=function(e,t,r){var s=this;this._stat(e,(function(n,i){s._processSimple2(e,t,n,i,r)}))},Glob.prototype._processSimple2=function(e,t,r,s,n){if(this.matches[t]||(this.matches[t]=Object.create(null)),!s)return n();if(e&&pathIsAbsolute(e)&&!this.nomount){var i=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=path$2__default.join(this.root,e):(e=path$2__default.resolve(this.root,e),i&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),n()},Glob.prototype._stat=function(e,t){var r=this._makeAbs(e),s="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&ownProp$2(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!s||"DIR"===n)return t(null,n);if(s&&"FILE"===n)return t()}var i=this.statCache[r];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?t():t(null,a,i)}var o=this,l=inflight_1("stat\0"+r,(function(s,n){if(n&&n.isSymbolicLink())return fs$2__default.stat(r,(function(s,i){s?o._stat2(e,r,null,n,t):o._stat2(e,r,s,i,t)}));o._stat2(e,r,s,n,t)}));l&&fs$2__default.lstat(r,l)},Glob.prototype._stat2=function(e,t,r,s,n){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[t]=!1,n();var i="/"===e.slice(-1);if(this.statCache[t]=s,"/"===t.slice(-1)&&s&&!s.isDirectory())return n(null,!1,s);var a=!0;return s&&(a=s.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,i&&"FILE"===a?n():n(null,a,s)};const CONFIG_FILENAMES=["stencil.config.ts","stencil.config.js"];function requireConfigFile(e,t){delete require.cache[path$2__default.resolve(t)],require.extensions[".ts"]=(t,r)=>{let s=e.readFileSync(r);s=convertSourceConfig(s,r),t._compile(s,r)};const r=require(t);return require.extensions[".ts"]=void 0,r}function convertSourceConfig(e,t){return e=t.endsWith(".ts")?transpileTypedConfig(e,t):e.replace(/export\s+\w+\s+(\w+)/gm,"exports.$1")}function transpileTypedConfig(e,t){const r={fileName:t,compilerOptions:{module:ts.ModuleKind.CommonJS,moduleResolution:ts.ModuleResolutionKind.NodeJs,esModuleInterop:!0,target:ts.ScriptTarget.ES5},reportDiagnostics:!1};return ts.transpileModule(e,r).outputText}class NodeLazyRequire{constructor(e,t,r){this.semver=e,this.nodeResolveModule=t,this.stencilPackageJson=r,this.moduleData=new Map}async ensure(e,t,r){if(!this.stencilPackageJson||!this.stencilPackageJson.lazyDependencies)return Promise.resolve();if(!this.stencilPackageJson.lazyDependencies)return Promise.resolve();const s=[];let n=!1;const i=r.map(async e=>{const r=this.moduleData.get(e);if(r&&r.fromDir&&r.modulePath)return;const i=this.stencilPackageJson.lazyDependencies[e];try{const r=this.nodeResolveModule.resolveModule(t,e),s=await readPackageJson(r);if(n=!0,this.semver.satisfies(s.version,i))return void this.moduleData.set(e,{fromDir:t,modulePath:path$2.dirname(r)})}catch(e){}s.push({moduleId:e,requiredVersionRange:i})});if(await Promise.all(i),0===s.length)return Promise.resolve();const a=`Please wait while required dependencies are ${n?"updated":"installed"}. This may take a few moments and will only be required for the initial run.`;e.info(e.magenta(a));const o=s.map(e=>e.moduleId),l=e.createTimeSpan(`installing dependenc${o.length>1?"ies":"y"}: ${o.join(", ")}`);try{const r=s.map(e=>{let t=e.moduleId;return e.requiredVersionRange&&(t+="@"+e.requiredVersionRange),t});await npmInstall(e,t,r),s.forEach(e=>{this.moduleData.set(e.moduleId,{fromDir:t,modulePath:null})}),l.finish("installing dependencies finished")}catch(t){e.error(`lazy require failed: ${t}`)}}require(e){const t=this.moduleData.get(e);if(!t)throw new Error(`lazy required module has not been ensured: ${e}`);if(!t.modulePath){const r=this.nodeResolveModule.resolveModule(t.fromDir,e);t.modulePath=path$2.dirname(r),this.moduleData.set(e,t)}return require(t.modulePath)}getModulePath(e){const t=this.moduleData.get(e);if(!t)throw new Error(`lazy required module has not been ensured: ${e}`);if(!t.modulePath){const r=this.nodeResolveModule.resolveModule(t.fromDir,e);t.modulePath=path$2.dirname(r),this.moduleData.set(e,t)}return t.modulePath}}function npmInstall(e,t,r){return new Promise((s,n)=>{const i=["install",...r,"--no-audit","--save-exact","--save-dev"],a={shell:!0,cwd:t,env:Object.assign({},process.env)};a.env.NODE_ENV="development","debug"===e.level&&i.push("--verbose"),e.debug(`npm ${i.join(" ")}`),e.debug(`npm, cwd: ${t}`);const o=child_process$1.spawn("npm",i,a);let l="";o.stdout&&(o.stdout.setEncoding("utf8"),o.stdout.on("data",e=>{l+=e})),o.stderr&&(o.stderr.setEncoding("utf8"),o.stderr.on("data",e=>{l+=e})),o.once("exit",t=>{"debug"===e.level&&e.debug(`npm, exit ${t}`),0===t?s():n(`failed to install: ${r.join(", ")}${l?", "+l:""}`)})})}function readPackageJson(e){return new Promise((t,r)=>{fs$1.readFile(e,"utf8",(e,s)=>{if(e)r(e);else try{t(JSON.parse(s))}catch(e){r(e)}})})}class NodeResolveModule{constructor(){this.resolveModuleCache=new Map}resolveModule(e,t,r){const s=`${e}:${t}`,n=this.resolveModuleCache.get(s);if(n)return n;if(r&&r.manuallyResolve)return this.resolveModuleManually(e,t,s);if(t.startsWith("@types/"))return this.resolveTypesModule(e,t,s);const i=require("module");e=path$2__default.resolve(e);const a=path$2__default.join(e,"noop.js");let o=utils$4.normalizePath(i._resolveFilename(t,{id:a,filename:a,paths:i._nodeModulePaths(e)}));const l=utils$4.normalizePath(path$2__default.parse(e).root);let c;for(;o!==l;)if(o=utils$4.normalizePath(path$2__default.dirname(o)),hasAccess(c=path$2__default.join(o,"package.json")))return this.resolveModuleCache.set(s,c),c;throw new Error(`error loading "${t}" from "${e}"`)}resolveTypesModule(e,t,r){const s=t.split("/"),n=utils$4.normalizePath(path$2__default.parse(e).root);let i,a=utils$4.normalizePath(path$2__default.join(e,"noop.js"));for(;a!==n;)if(a=utils$4.normalizePath(path$2__default.dirname(a)),hasAccess(i=path$2__default.join(a,"node_modules",s[0],s[1],"package.json")))return this.resolveModuleCache.set(r,i),i;throw new Error(`error loading "${t}" from "${e}"`)}resolveModuleManually(e,t,r){const s=utils$4.normalizePath(path$2__default.parse(e).root);let n,i=utils$4.normalizePath(path$2__default.join(e,"noop.js"));for(;i!==s;)if(i=utils$4.normalizePath(path$2__default.dirname(i)),hasAccess(n=path$2__default.join(i,"node_modules",t,"package.json")))return this.resolveModuleCache.set(r,n),n;throw new Error(`error loading "${t}" from "${e}"`)}}function hasAccess(e){let t=!1;try{fs$1__default.accessSync(e),t=!0}catch(e){}return t}var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function isInAstralSet(e,t){for(var r=65536,s=0;s<t.length;s+=2){if((r+=t[s])>e)return!1;if((r+=t[s+1])>=e)return!0}}function isIdentifierStart(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)):!1!==t&&isInAstralSet(e,astralIdentifierStartCodes)))}function isIdentifierChar(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&nonASCIIidentifier.test(String.fromCharCode(e)):!1!==t&&(isInAstralSet(e,astralIdentifierStartCodes)||isInAstralSet(e,astralIdentifierCodes)))))}var TokenType=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function binop(e,t){return new TokenType(e,{beforeExpr:!0,binop:t})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords$1={};function kw(e,t){return void 0===t&&(t={}),t.keyword=e,keywords$1[e]=new TokenType(e,t)}var types={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString=ref.toString;function has(e,t){return hasOwnProperty.call(e,t)}var isArray$1=Array.isArray||function(e){return"[object Array]"===toString.call(e)};function wordsRegexp(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var Position=function(e,t){this.line=e,this.column=t};Position.prototype.offset=function(e){return new Position(this.line,this.column+e)};var SourceLocation=function(e,t,r){this.start=t,this.end=r,null!==e.sourceFile&&(this.source=e.sourceFile)};function getLineInfo(e,t){for(var r=1,s=0;;){lineBreakG.lastIndex=s;var n=lineBreakG.exec(e);if(!(n&&n.index<t))return new Position(r,t-s);++r,s=n.index+n[0].length}}var defaultOptions={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function getOptions(e){var t={};for(var r in defaultOptions)t[r]=e&&has(e,r)?e[r]:defaultOptions[r];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),isArray$1(t.onToken)){var s=t.onToken;t.onToken=function(e){return s.push(e)}}return isArray$1(t.onComment)&&(t.onComment=pushComment(t,t.onComment)),t}function pushComment(e,t){return function(r,s,n,i,a,o){var l={type:r?"Block":"Line",value:s,start:n,end:i};e.locations&&(l.loc=new SourceLocation(this,a,o)),e.ranges&&(l.range=[n,i]),t.push(l)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128;function functionFlags(e,t){return SCOPE_FUNCTION|(e?SCOPE_ASYNC:0)|(t?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function(e,t,r){this.options=e=getOptions(e),this.sourceFile=e.sourceFile,this.keywords=wordsRegexp(keywords[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var s="";if(!0!==e.allowReserved){for(var n=e.ecmaVersion;!(s=reservedWords[n]);n--);"module"===e.sourceType&&(s+=" await")}this.reservedWords=wordsRegexp(s);var i=(s?s+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(i),this.reservedWordsStrictBind=wordsRegexp(i+" "+reservedWords.strictBind),this.input=String(t),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf("\n",r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};Parser.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0},prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0},prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0},prototypeAccessors.allowSuper.get=function(){return(this.currentThisScope().flags&SCOPE_SUPER)>0},prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0},prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Parser.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&SCOPE_FUNCTION)>0},Parser.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=this,s=0;s<e.length;s++)r=e[s](r);return r},Parser.parse=function(e,t){return new this(t,e).parse()},Parser.parseExpressionAt=function(e,t,r){var s=new this(r,e,t);return s.nextToken(),s.parseExpression()},Parser.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(Parser.prototype,prototypeAccessors);var pp=Parser.prototype,literal=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}pp.strictDirective=function(e){for(;;){skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length;var t=literal.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length,skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length,";"===this.input[e]&&e++}},pp.eat=function(e){return this.type===e&&(this.next(),!0)},pp.isContextual=function(e){return this.type===types.name&&this.value===e&&!this.containsEsc},pp.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},pp.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},pp.canInsertSemicolon=function(){return this.type===types.eof||this.type===types.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pp.semicolon=function(){this.eat(types.semi)||this.insertSemicolon()||this.unexpected()},pp.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},pp.expect=function(e){this.eat(e)||this.unexpected()},pp.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},pp.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}},pp.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,s=e.doubleProto;if(!t)return r>=0||s>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")},pp.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},pp.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var pp$1=Parser.prototype;pp$1.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==types.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var s=0,n=Object.keys(this.undefinedExports);s<n.length;s+=1){var i=n[s];this.raiseRecoverable(this.undefinedExports[i].start,"Export '"+i+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$1.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var t=skipWhiteSpace.exec(this.input),r=this.pos+t[0].length,s=this.input.charCodeAt(r);if(91===s)return!0;if(e)return!1;if(123===s)return!0;if(isIdentifierStart(s,!0)){for(var n=r+1;isIdentifierChar(this.input.charCodeAt(n),!0);)++n;var i=this.input.slice(r,n);if(!keywordRelationalOperator.test(i))return!0}return!1},pp$1.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var e=skipWhiteSpace.exec(this.input),t=this.pos+e[0].length;return!(lineBreak.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&isIdentifierChar(this.input.charAt(t+8)))},pp$1.parseStatement=function(e,t,r){var s,n=this.type,i=this.startNode();switch(this.isLet(e)&&(n=types._var,s="let"),n){case types._break:case types._continue:return this.parseBreakContinueStatement(i,n.keyword);case types._debugger:return this.parseDebuggerStatement(i);case types._do:return this.parseDoStatement(i);case types._for:return this.parseForStatement(i);case types._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case types._class:return e&&this.unexpected(),this.parseClass(i,!0);case types._if:return this.parseIfStatement(i);case types._return:return this.parseReturnStatement(i);case types._switch:return this.parseSwitchStatement(i);case types._throw:return this.parseThrowStatement(i);case types._try:return this.parseTryStatement(i);case types._const:case types._var:return s=s||this.value,e&&"var"!==s&&this.unexpected(),this.parseVarStatement(i,s);case types._while:return this.parseWhileStatement(i);case types._with:return this.parseWithStatement(i);case types.braceL:return this.parseBlock(!0,i);case types.semi:return this.parseEmptyStatement(i);case types._export:case types._import:if(this.options.ecmaVersion>10&&n===types._import){skipWhiteSpace.lastIndex=this.pos;var a=skipWhiteSpace.exec(this.input),o=this.pos+a[0].length;if(40===this.input.charCodeAt(o))return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===types._import?this.parseImport(i):this.parseExport(i,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return n===types.name&&"Identifier"===c.type&&this.eat(types.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}},pp$1.parseBreakContinueStatement=function(e,t){var r="break"===t;this.next(),this.eat(types.semi)||this.insertSemicolon()?e.label=null:this.type!==types.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var n=this.labels[s];if(null==e.label||n.name===e.label.name){if(null!=n.kind&&(r||"loop"===n.kind))break;if(e.label&&r)break}}return s===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")},pp$1.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},pp$1.parseDoStatement=function(e){return this.next(),this.labels.push(loopLabel),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(types._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},pp$1.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types.parenL),this.type===types.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===types._var||this.type===types._const||r){var s=this.startNode(),n=r?"let":this.value;return this.next(),this.parseVar(s,!0,n),this.finishNode(s,"VariableDeclaration"),(this.type===types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===s.declarations.length?(this.options.ecmaVersion>=9&&(this.type===types._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,s)):(t>-1&&this.unexpected(t),this.parseFor(e,s))}var i=new DestructuringErrors,a=this.parseExpression(!0,i);return this.type===types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===types._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(a,!1,i),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(i,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},pp$1.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,FUNC_STATEMENT|(r?0:FUNC_HANGING_STATEMENT),!1,t)},pp$1.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(types._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},pp$1.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},pp$1.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(types.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var r=!1;this.type!==types.braceR;)if(this.type===types._case||this.type===types._default){var s=this.type===types._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),s?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(types.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},pp$1.parseThrowStatement=function(e){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var empty=[];pp$1.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===types._catch){var t=this.startNode();if(this.next(),this.eat(types.parenL)){t.param=this.parseBindingAtom();var r="Identifier"===t.param.type;this.enterScope(r?SCOPE_SIMPLE_CATCH:0),this.checkLVal(t.param,r?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(types._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},pp$1.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},pp$1.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(loopLabel),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},pp$1.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},pp$1.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},pp$1.parseLabeledStatement=function(e,t,r,s){for(var n=0,i=this.labels;n<i.length;n+=1){i[n].name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===types._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var l=this.labels[o];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(s?-1===s.indexOf("label")?s+"label":s:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},pp$1.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},pp$1.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(types.braceL),e&&this.enterScope(0);!this.eat(types.braceR);){var r=this.parseStatement(null);t.body.push(r)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},pp$1.parseFor=function(e,t){return e.init=t,this.expect(types.semi),e.test=this.type===types.semi?null:this.parseExpression(),this.expect(types.semi),e.update=this.type===types.parenR?null:this.parseExpression(),this.expect(types.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},pp$1.parseForIn=function(e,t){var r=this.type===types._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!r||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(types.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")},pp$1.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var s=this.startNode();if(this.parseVarId(s,r),this.eat(types.eq)?s.init=this.parseMaybeAssign(t):"const"!==r||this.type===types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===s.id.type||t&&(this.type===types._in||this.isContextual("of"))?s.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(types.comma))break}return e},pp$1.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$1.parseFunction=function(e,t,r,s){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===types.star&&t&FUNC_HANGING_STATEMENT&&this.unexpected(),e.generator=this.eat(types.star)),this.options.ecmaVersion>=8&&(e.async=!!s),t&FUNC_STATEMENT&&(e.id=t&FUNC_NULLABLE_ID&&this.type!==types.name?null:this.parseIdent(),!e.id||t&FUNC_HANGING_STATEMENT||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var n=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e.async,e.generator)),t&FUNC_STATEMENT||(e.id=this.type===types.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1),this.yieldPos=n,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(e,t&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")},pp$1.parseFunctionParams=function(e){this.expect(types.parenL),e.params=this.parseBindingList(types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},pp$1.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var s=this.startNode(),n=!1;for(s.body=[],this.expect(types.braceL);!this.eat(types.braceR);){var i=this.parseClassElement(null!==e.superClass);i&&(s.body.push(i),"MethodDefinition"===i.type&&"constructor"===i.kind&&(n&&this.raise(i.start,"Duplicate constructor in the same class"),n=!0))}return e.body=this.finishNode(s,"ClassBody"),this.strict=r,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},pp$1.parseClassElement=function(e){var t=this;if(this.eat(types.semi))return null;var r=this.startNode(),s=function(e,s){void 0===s&&(s=!1);var n=t.start,i=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===types.parenL||s&&t.canInsertSemicolon())||(r.key&&t.unexpected(),r.computed=!1,r.key=t.startNodeAt(n,i),r.key.name=e,t.finishNode(r.key,"Identifier"),!1))};r.kind="method",r.static=s("static");var n=this.eat(types.star),i=!1;n||(this.options.ecmaVersion>=8&&s("async",!0)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(types.star)):s("get")?r.kind="get":s("set")&&(r.kind="set")),r.key||this.parsePropertyName(r);var a=r.key,o=!1;return r.computed||r.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?r.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),n&&this.raise(a.start,"Constructor can't be a generator"),i&&this.raise(a.start,"Constructor can't be an async method"),r.kind="constructor",o=e),this.parseClassMethod(r,n,i,o),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r},pp$1.parseClassMethod=function(e,t,r,s){return e.value=this.parseMethod(t,r,s),this.finishNode(e,"MethodDefinition")},pp$1.parseClassId=function(e,t){this.type===types.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,BIND_LEXICAL,!1)):(!0===t&&this.unexpected(),e.id=null)},pp$1.parseClassSuper=function(e){e.superClass=this.eat(types._extends)?this.parseExprSubscripts():null},pp$1.parseExport=function(e,t){if(this.next(),this.eat(types.star))return this.expectContextual("from"),this.type!==types.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(types._default)){var r;if(this.checkExport(t,"default",this.lastTokStart),this.type===types._function||(r=this.isAsyncFunction())){var s=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(s,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,r)}else if(this.type===types._class){var n=this.startNode();e.declaration=this.parseClass(n,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==types.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var i=0,a=e.specifiers;i<a.length;i+=1){var o=a[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},pp$1.checkExport=function(e,t,r){e&&(has(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)},pp$1.checkPatternExport=function(e,t){var r=t.type;if("Identifier"===r)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===r)for(var s=0,n=t.properties;s<n.length;s+=1){var i=n[s];this.checkPatternExport(e,i)}else if("ArrayPattern"===r)for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(e,l)}else"Property"===r?this.checkPatternExport(e,t.value):"AssignmentPattern"===r?this.checkPatternExport(e,t.left):"RestElement"===r?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===r&&this.checkPatternExport(e,t.expression)},pp$1.checkVariableExport=function(e,t){if(e)for(var r=0,s=t;r<s.length;r+=1){var n=s[r];this.checkPatternExport(e,n.id)}},pp$1.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},pp$1.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(types.braceL);!this.eat(types.braceR);){if(r)r=!1;else if(this.expect(types.comma),this.afterTrailingComma(types.braceR))break;var s=this.startNode();s.local=this.parseIdent(!0),s.exported=this.eatContextual("as")?this.parseIdent(!0):s.local,this.checkExport(e,s.exported.name,s.exported.start),t.push(this.finishNode(s,"ExportSpecifier"))}return t},pp$1.parseImport=function(e){return this.next(),this.type===types.string?(e.specifiers=empty,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===types.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},pp$1.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===types.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLVal(r.local,BIND_LEXICAL),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(types.comma))return e}if(this.type===types.star){var s=this.startNode();return this.next(),this.expectContextual("as"),s.local=this.parseIdent(),this.checkLVal(s.local,BIND_LEXICAL),e.push(this.finishNode(s,"ImportNamespaceSpecifier")),e}for(this.expect(types.braceL);!this.eat(types.braceR);){if(t)t=!1;else if(this.expect(types.comma),this.afterTrailingComma(types.braceR))break;var n=this.startNode();n.imported=this.parseIdent(!0),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLVal(n.local,BIND_LEXICAL),e.push(this.finishNode(n,"ImportSpecifier"))}return e},pp$1.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},pp$1.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var pp$2=Parser.prototype;pp$2.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var s=0,n=e.properties;s<n.length;s+=1){var i=n[s];this.toAssignable(i,t),"RestElement"!==i.type||"ArrayPattern"!==i.argument.type&&"ObjectPattern"!==i.argument.type||this.raise(i.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e},pp$2.toAssignableList=function(e,t){for(var r=e.length,s=0;s<r;s++){var n=e[s];n&&this.toAssignable(n,t)}if(r){var i=e[r-1];6===this.options.ecmaVersion&&t&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start)}return e},pp$2.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},pp$2.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==types.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},pp$2.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(types.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case types.braceL:return this.parseObj(!0)}return this.parseIdent()},pp$2.parseBindingList=function(e,t,r){for(var s=[],n=!0;!this.eat(e);)if(n?n=!1:this.expect(types.comma),t&&this.type===types.comma)s.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===types.ellipsis){var i=this.parseRestBinding();this.parseBindingListItem(i),s.push(i),this.type===types.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),s.push(a)}return s},pp$2.parseBindingListItem=function(e){return e},pp$2.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types.eq))return r;var s=this.startNodeAt(e,t);return s.left=r,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")},pp$2.checkLVal=function(e,t,r){switch(void 0===t&&(t=BIND_NONE),e.type){case"Identifier":t===BIND_LEXICAL&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(has(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),t!==BIND_NONE&&t!==BIND_OUTSIDE&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var s=0,n=e.properties;s<n.length;s+=1){var i=n[s];this.checkLVal(i,t,r)}break;case"Property":this.checkLVal(e.value,t,r);break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLVal(l,t,r)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r);break;case"RestElement":this.checkLVal(e.argument,t,r);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var pp$3=Parser.prototype;pp$3.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var s,n=e.key;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var i=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===s&&"init"===i&&(t.proto&&(r&&r.doubleProto<0?r.doubleProto=n.start:this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[s="$"+s];if(a)("init"===i?this.strict&&a.init||a.get||a.set:a.init||a[i])&&this.raiseRecoverable(n.start,"Redefinition of property");else a=t[s]={init:!1,get:!1,set:!1};a[i]=!0}}},pp$3.parseExpression=function(e,t){var r=this.start,s=this.startLoc,n=this.parseMaybeAssign(e,t);if(this.type===types.comma){var i=this.startNodeAt(r,s);for(i.expressions=[n];this.eat(types.comma);)i.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(i,"SequenceExpression")}return n},pp$3.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var s=!1,n=-1,i=-1,a=-1;t?(n=t.parenthesizedAssign,i=t.trailingComma,a=t.shorthandAssign,t.parenthesizedAssign=t.trailingComma=t.shorthandAssign=-1):(t=new DestructuringErrors,s=!0);var o=this.start,l=this.startLoc;this.type!==types.parenL&&this.type!==types.name||(this.potentialArrowAt=this.start);var c=this.parseMaybeConditional(e,t);if(r&&(c=r.call(this,c,o,l)),this.type.isAssign){var h=this.startNodeAt(o,l);return h.operator=this.value,h.left=this.type===types.eq?this.toAssignable(c,!1,t):c,s||DestructuringErrors.call(t),t.shorthandAssign=-1,this.checkLVal(c),this.next(),h.right=this.parseMaybeAssign(e),this.finishNode(h,"AssignmentExpression")}return s&&this.checkExpressionErrors(t,!0),n>-1&&(t.parenthesizedAssign=n),i>-1&&(t.trailingComma=i),a>-1&&(t.shorthandAssign=a),c},pp$3.parseMaybeConditional=function(e,t){var r=this.start,s=this.startLoc,n=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return n;if(this.eat(types.question)){var i=this.startNodeAt(r,s);return i.test=n,i.consequent=this.parseMaybeAssign(),this.expect(types.colon),i.alternate=this.parseMaybeAssign(e),this.finishNode(i,"ConditionalExpression")}return n},pp$3.parseExprOps=function(e,t){var r=this.start,s=this.startLoc,n=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?n:n.start===r&&"ArrowFunctionExpression"===n.type?n:this.parseExprOp(n,r,s,-1,e)},pp$3.parseExprOp=function(e,t,r,s,n){var i=this.type.binop;if(null!=i&&(!n||this.type!==types._in)&&i>s){var a=this.type===types.logicalOR||this.type===types.logicalAND,o=this.value;this.next();var l=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1),l,c,i,n),u=this.buildBinary(t,r,e,h,o,a);return this.parseExprOp(u,t,r,s,n)}return e},pp$3.buildBinary=function(e,t,r,s,n,i){var a=this.startNodeAt(e,t);return a.left=r,a.operator=n,a.right=s,this.finishNode(a,i?"LogicalExpression":"BinaryExpression")},pp$3.parseMaybeUnary=function(e,t){var r,s=this.start,n=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.type.prefix){var i=this.startNode(),a=this.type===types.incDec;i.operator=this.value,i.prefix=!0,this.next(),i.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(i.argument):this.strict&&"delete"===i.operator&&"Identifier"===i.argument.type?this.raiseRecoverable(i.start,"Deleting local variable in strict mode"):t=!0,r=this.finishNode(i,a?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(s,n);o.operator=this.value,o.prefix=!1,o.argument=r,this.checkLVal(r),this.next(),r=this.finishNode(o,"UpdateExpression")}}return!t&&this.eat(types.starstar)?this.buildBinary(s,n,r,this.parseMaybeUnary(null,!1),"**",!1):r},pp$3.parseExprSubscripts=function(e){var t=this.start,r=this.startLoc,s=this.parseExprAtom(e),n="ArrowFunctionExpression"===s.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||n)return s;var i=this.parseSubscripts(s,t,r);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},pp$3.parseSubscripts=function(e,t,r,s){for(var n=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var i=this.parseSubscript(e,t,r,s,n);if(i===e||"ArrowFunctionExpression"===i.type)return i;e=i}},pp$3.parseSubscript=function(e,t,r,s,n){var i=this.eat(types.bracketL);if(i||this.eat(types.dot)){var a=this.startNodeAt(t,r);a.object=e,a.property=i?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),a.computed=!!i,i&&this.expect(types.bracketR),e=this.finishNode(a,"MemberExpression")}else if(!s&&this.eat(types.parenL)){var o=new DestructuringErrors,l=this.yieldPos,c=this.awaitPos,h=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var u=this.parseExprList(types.parenR,this.options.ecmaVersion>=8,!1,o);if(n&&!this.canInsertSemicolon()&&this.eat(types.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=c,this.awaitIdentPos=h,this.parseArrowExpression(this.startNodeAt(t,r),u,!0);this.checkExpressionErrors(o,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=c||this.awaitPos,this.awaitIdentPos=h||this.awaitIdentPos;var p=this.startNodeAt(t,r);p.callee=e,p.arguments=u,e=this.finishNode(p,"CallExpression")}else if(this.type===types.backQuote){var d=this.startNodeAt(t,r);d.tag=e,d.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(d,"TaggedTemplateExpression")}return e},pp$3.parseExprAtom=function(e){this.type===types.slash&&this.readRegexp();var t,r=this.potentialArrowAt===this.start;switch(this.type){case types._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==types.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==types.dot&&this.type!==types.bracketL&&this.type!==types.parenL&&this.unexpected(),this.finishNode(t,"Super");case types._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case types.name:var s=this.start,n=this.startLoc,i=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!i&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(types._function))return this.parseFunction(this.startNodeAt(s,n),0,!1,!0);if(r&&!this.canInsertSemicolon()){if(this.eat(types.arrow))return this.parseArrowExpression(this.startNodeAt(s,n),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===types.name&&!i)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(types.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,n),[a],!0)}return a;case types.regexp:var o=this.value;return(t=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},t;case types.num:case types.string:return this.parseLiteral(this.value);case types._null:case types._true:case types._false:return(t=this.startNode()).value=this.type===types._null?null:this.type===types._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case types.parenL:var l=this.start,c=this.parseParenAndDistinguishExpression(r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),c;case types.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(types.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case types.braceL:return this.parseObj(!1,e);case types._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case types._class:return this.parseClass(this.startNode(),!1);case types._new:return this.parseNew();case types.backQuote:return this.parseTemplate();case types._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},pp$3.parseExprImport=function(){var e=this.startNode();switch(this.next(),this.type){case types.parenL:return this.parseDynamicImport(e);default:this.unexpected()}},pp$3.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(types.parenR)){var t=this.start;this.eat(types.comma)&&this.eat(types.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},pp$3.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},pp$3.parseParenExpression=function(){this.expect(types.parenL);var e=this.parseExpression();return this.expect(types.parenR),e},pp$3.parseParenAndDistinguishExpression=function(e){var t,r=this.start,s=this.startLoc,n=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var i,a=this.start,o=this.startLoc,l=[],c=!0,h=!1,u=new DestructuringErrors,p=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==types.parenR;){if(c?c=!1:this.expect(types.comma),n&&this.afterTrailingComma(types.parenR,!0)){h=!0;break}if(this.type===types.ellipsis){i=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===types.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var f=this.start,m=this.startLoc;if(this.expect(types.parenR),e&&!this.canInsertSemicolon()&&this.eat(types.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(r,s,l);l.length&&!h||this.unexpected(this.lastTokStart),i&&this.unexpected(i),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?((t=this.startNodeAt(a,o)).expressions=l,this.finishNodeAt(t,"SequenceExpression",f,m)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(r,s);return g.expression=t,this.finishNode(g,"ParenthesizedExpression")}return t},pp$3.parseParenItem=function(e){return e},pp$3.parseParenArrowList=function(e,t,r){return this.parseArrowExpression(this.startNodeAt(e,t),r)};var empty$1=[];pp$3.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(types.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||r)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var s=this.start,n=this.startLoc,i=this.type===types._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),s,n,!0),i&&"ImportExpression"===e.callee.type&&this.raise(s,"Cannot use new with import()"),this.eat(types.parenL)?e.arguments=this.parseExprList(types.parenR,this.options.ecmaVersion>=8,!1):e.arguments=empty$1,this.finishNode(e,"NewExpression")},pp$3.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===types.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),r.tail=this.type===types.backQuote,this.finishNode(r,"TemplateElement")},pp$3.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var s=this.parseTemplateElement({isTagged:t});for(r.quasis=[s];!s.tail;)this.type===types.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(types.braceR),r.quasis.push(s=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")},pp$3.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===types.name||this.type===types.num||this.type===types.string||this.type===types.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp$3.parseObj=function(e,t){var r=this.startNode(),s=!0,n={};for(r.properties=[],this.next();!this.eat(types.braceR);){if(s)s=!1;else if(this.expect(types.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types.braceR))break;var i=this.parseProperty(e,t);e||this.checkPropClash(i,n,t),r.properties.push(i)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")},pp$3.parseProperty=function(e,t){var r,s,n,i,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(types.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===types.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===types.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===types.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(n=this.start,i=this.startLoc),e||(r=this.eat(types.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(a)?(s=!0,r=this.options.ecmaVersion>=9&&this.eat(types.star),this.parsePropertyName(a,t)):s=!1,this.parsePropertyValue(a,e,r,s,n,i,t,o),this.finishNode(a,"Property")},pp$3.parsePropertyValue=function(e,t,r,s,n,i,a,o){if((r||s)&&this.type===types.colon&&this.unexpected(),this.eat(types.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===types.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,s);else if(t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===types.comma||this.type===types.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((r||s)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=n),e.kind="init",t?e.value=this.parseMaybeDefault(n,i,e.key):this.type===types.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(n,i,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(r||s)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var c=e.value.start;"get"===e.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},pp$3.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(types.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(types.bracketR),e.key;e.computed=!1}return e.key=this.type===types.num||this.type===types.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},pp$3.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},pp$3.parseMethod=function(e,t,r){var s=this.startNode(),n=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=e),this.options.ecmaVersion>=8&&(s.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(t,s.generator)|SCOPE_SUPER|(r?SCOPE_DIRECT_SUPER:0)),this.expect(types.parenL),s.params=this.parseBindingList(types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0),this.yieldPos=n,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(s,"FunctionExpression")},pp$3.parseArrowExpression=function(e,t,r){var s=this.yieldPos,n=this.awaitPos,i=this.awaitIdentPos;return this.enterScope(functionFlags(r,!1)|SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=s,this.awaitPos=n,this.awaitIdentPos=i,this.finishNode(e,"ArrowFunctionExpression")},pp$3.parseFunctionBody=function(e,t,r){var s=t&&this.type!==types.braceL,n=this.strict,i=!1;if(s)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);n&&!a||(i=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],i&&(this.strict=!0),this.checkParams(e,!n&&!i&&!t&&!r&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,BIND_OUTSIDE),this.strict=n},pp$3.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1){if("Identifier"!==r[t].type)return!1}return!0},pp$3.checkParams=function(e,t){for(var r={},s=0,n=e.params;s<n.length;s+=1){var i=n[s];this.checkLVal(i,BIND_VAR,t?null:r)}},pp$3.parseExprList=function(e,t,r,s){for(var n=[],i=!0;!this.eat(e);){if(i)i=!1;else if(this.expect(types.comma),t&&this.afterTrailingComma(e))break;var a=void 0;r&&this.type===types.comma?a=null:this.type===types.ellipsis?(a=this.parseSpread(s),s&&this.type===types.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):a=this.parseMaybeAssign(!1,s),n.push(a)}return n},pp$3.checkUnreserved=function(e){var t=e.start,r=e.end,s=e.name;(this.inGenerator&&"yield"===s&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===s&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(s)&&this.raise(t,"Unexpected keyword '"+s+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,r).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(s)&&(this.inAsync||"await"!==s||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+s+"' is reserved"))},pp$3.parseIdent=function(e,t){var r=this.startNode();return this.type===types.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,"class"!==r.name&&"function"!==r.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),"await"!==r.name||this.awaitIdentPos||(this.awaitIdentPos=r.start)),r},pp$3.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===types.semi||this.canInsertSemicolon()||this.type!==types.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(types.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},pp$3.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(e,t){var r=getLineInfo(this.input,e);t+=" ("+r.line+":"+r.column+")";var s=new SyntaxError(t);throw s.pos=e,s.loc=r,s.raisedAt=this.pos,s},pp$4.raiseRecoverable=pp$4.raise,pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$5=Parser.prototype,Scope=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};pp$5.enterScope=function(e){this.scopeStack.push(new Scope(e))},pp$5.exitScope=function(){this.scopeStack.pop()},pp$5.treatFunctionsAsVarInScope=function(e){return e.flags&SCOPE_FUNCTION||!this.inModule&&e.flags&SCOPE_TOP},pp$5.declareName=function(e,t,r){var s=!1;if(t===BIND_LEXICAL){var n=this.currentScope();s=n.lexical.indexOf(e)>-1||n.functions.indexOf(e)>-1||n.var.indexOf(e)>-1,n.lexical.push(e),this.inModule&&n.flags&SCOPE_TOP&&delete this.undefinedExports[e]}else if(t===BIND_SIMPLE_CATCH){this.currentScope().lexical.push(e)}else if(t===BIND_FUNCTION){var i=this.currentScope();s=this.treatFunctionsAsVar?i.lexical.indexOf(e)>-1:i.lexical.indexOf(e)>-1||i.var.indexOf(e)>-1,i.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(o.flags&SCOPE_SIMPLE_CATCH&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){s=!0;break}if(o.var.push(e),this.inModule&&o.flags&SCOPE_TOP&&delete this.undefinedExports[e],o.flags&SCOPE_VAR)break}s&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")},pp$5.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},pp$5.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},pp$5.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SCOPE_VAR)return t}},pp$5.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SCOPE_VAR&&!(t.flags&SCOPE_ARROW))return t}};var Node=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new SourceLocation(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},pp$6=Parser.prototype;function finishNodeAt(e,t,r,s){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=s),this.options.ranges&&(e.range[1]=r),e}pp$6.startNode=function(){return new Node(this,this.start,this.startLoc)},pp$6.startNodeAt=function(e,t){return new Node(this,e,t)},pp$6.finishNode=function(e,t){return finishNodeAt.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},pp$6.finishNodeAt=function(e,t,r,s){return finishNodeAt.call(this,e,t,r,s)};var TokContext=function(e,t,r,s,n){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=s,this.generator=!!n},types$1={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$7=Parser.prototype;pp$7.initialContext=function(){return[types$1.b_stat]},pp$7.braceIsBlock=function(e){var t=this.curContext();return t===types$1.f_expr||t===types$1.f_stat||(e!==types.colon||t!==types$1.b_stat&&t!==types$1.b_expr?e===types._return||e===types.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===types._else||e===types.semi||e===types.eof||e===types.parenR||e===types.arrow||(e===types.braceL?t===types$1.b_stat:e!==types._var&&e!==types._const&&e!==types.name&&!this.exprAllowed):!t.isExpr)},pp$7.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},pp$7.updateContext=function(e){var t,r=this.type;r.keyword&&e===types.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr},types.parenR.updateContext=types.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===types$1.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},types.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?types$1.b_stat:types$1.b_expr),this.exprAllowed=!0},types.dollarBraceL.updateContext=function(){this.context.push(types$1.b_tmpl),this.exprAllowed=!0},types.parenL.updateContext=function(e){var t=e===types._if||e===types._for||e===types._with||e===types._while;this.context.push(t?types$1.p_stat:types$1.p_expr),this.exprAllowed=!0},types.incDec.updateContext=function(){},types._function.updateContext=types._class.updateContext=function(e){!e.beforeExpr||e===types.semi||e===types._else||e===types._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start))||(e===types.colon||e===types.braceL)&&this.curContext()===types$1.b_stat?this.context.push(types$1.f_stat):this.context.push(types$1.f_expr),this.exprAllowed=!1},types.backQuote.updateContext=function(){this.curContext()===types$1.q_tmpl?this.context.pop():this.context.push(types$1.q_tmpl),this.exprAllowed=!1},types.star.updateContext=function(e){if(e===types._function){var t=this.context.length-1;this.context[t]===types$1.f_expr?this.context[t]=types$1.f_expr_gen:this.context[t]=types$1.f_gen}this.exprAllowed=!0},types.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==types.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues},data={};function buildUnicodeData(e){var t=data[e]={binary:wordsRegexp(unicodeBinaryProperties[e]+" "+unicodeGeneralCategoryValues),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}buildUnicodeData(9),buildUnicodeData(10),buildUnicodeData(11);var pp$8=Parser.prototype,RegExpValidationState=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=data[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function isSyntaxCharacter(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function isRegExpIdentifierStart(e){return isIdentifierStart(e,!0)||36===e||95===e}function isRegExpIdentifierPart(e){return isIdentifierChar(e,!0)||36===e||95===e||8204===e||8205===e}function isControlLetter(e){return e>=65&&e<=90||e>=97&&e<=122}function isValidUnicode(e){return e>=0&&e<=1114111}function isCharacterClassEscape(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function isUnicodePropertyNameCharacter(e){return isControlLetter(e)||95===e}function isUnicodePropertyValueCharacter(e){return isUnicodePropertyNameCharacter(e)||isDecimalDigit(e)}function isDecimalDigit(e){return e>=48&&e<=57}function isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function hexToInt(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function isOctalDigit(e){return e>=48&&e<=55}RegExpValidationState.prototype.reset=function(e,t,r){var s=-1!==r.indexOf("u");this.start=0|e,this.source=t+"",this.flags=r,this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchN=s&&this.parser.options.ecmaVersion>=9},RegExpValidationState.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},RegExpValidationState.prototype.at=function(e){var t=this.source,r=t.length;if(e>=r)return-1;var s=t.charCodeAt(e);return!this.switchU||s<=55295||s>=57344||e+1>=r?s:(s<<10)+t.charCodeAt(e+1)-56613888},RegExpValidationState.prototype.nextIndex=function(e){var t=this.source,r=t.length;if(e>=r)return r;var s=t.charCodeAt(e);return!this.switchU||s<=55295||s>=57344||e+1>=r?e+1:e+2},RegExpValidationState.prototype.current=function(){return this.at(this.pos)},RegExpValidationState.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},RegExpValidationState.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},RegExpValidationState.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},pp$8.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,s=0;s<r.length;s++){var n=r.charAt(s);-1===t.indexOf(n)&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(n,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},pp$8.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},pp$8.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var s=r[t];-1===e.groupNames.indexOf(s)&&e.raise("Invalid named capture referenced")}},pp$8.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},pp$8.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},pp$8.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!(e.switchU?!this.regexp_eatAtom(e):!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},pp$8.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1},pp$8.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},pp$8.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},pp$8.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var s=0,n=-1;if(this.regexp_eatDecimalDigits(e)&&(s=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue),e.eat(125)))return-1!==n&&n<s&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1},pp$8.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},pp$8.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},pp$8.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},pp$8.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},pp$8.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},pp$8.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},pp$8.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!isSyntaxCharacter(t)&&(e.lastIntValue=t,e.advance(),!0)},pp$8.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;-1!==(r=e.current())&&!isSyntaxCharacter(r);)e.advance();return e.pos!==t},pp$8.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},pp$8.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},pp$8.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},pp$8.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=codePointToString(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=codePointToString(e.lastIntValue);return!0}return!1},pp$8.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),isRegExpIdentifierStart(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},pp$8.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),isRegExpIdentifierPart(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},pp$8.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},pp$8.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1},pp$8.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},pp$8.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},pp$8.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},pp$8.regexp_eatZero=function(e){return 48===e.current()&&!isDecimalDigit(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},pp$8.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},pp$8.regexp_eatControlLetter=function(e){var t=e.current();return!!isControlLetter(t)&&(e.lastIntValue=t%32,e.advance(),!0)},pp$8.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(e.switchU&&r>=55296&&r<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(n>=56320&&n<=57343)return e.lastIntValue=1024*(r-55296)+(n-56320)+65536,!0}e.pos=s,e.lastIntValue=r}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&isValidUnicode(e.lastIntValue))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=t}return!1},pp$8.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},pp$8.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},pp$8.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(isCharacterClassEscape(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},pp$8.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var s=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,s),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,n),!0}return!1},pp$8.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){has(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")},pp$8.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},pp$8.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(t=e.current());)e.lastStringValue+=codePointToString(t),e.advance();return""!==e.lastStringValue},pp$8.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyValueCharacter(t=e.current());)e.lastStringValue+=codePointToString(t),e.advance();return""!==e.lastStringValue},pp$8.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},pp$8.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},pp$8.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;!e.switchU||-1!==t&&-1!==r||e.raise("Invalid character class"),-1!==t&&-1!==r&&t>r&&e.raise("Range out of order in character class")}}},pp$8.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(99===r||isOctalDigit(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var s=e.current();return 93!==s&&(e.lastIntValue=s,e.advance(),!0)},pp$8.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},pp$8.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!isDecimalDigit(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},pp$8.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},pp$8.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;isDecimalDigit(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t},pp$8.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;isHexDigit(r=e.current());)e.lastIntValue=16*e.lastIntValue+hexToInt(r),e.advance();return e.pos!==t},pp$8.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*r+e.lastIntValue:e.lastIntValue=8*t+r}else e.lastIntValue=t;return!0}return!1},pp$8.regexp_eatOctalDigit=function(e){var t=e.current();return isOctalDigit(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},pp$8.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var s=0;s<t;++s){var n=e.current();if(!isHexDigit(n))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+hexToInt(n),e.advance()}return!0};var Token=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new SourceLocation(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},pp$9=Parser.prototype;function codePointToString$1(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}pp$9.next=function(){this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},pp$9.getToken=function(){return this.next(),new Token(this)},"undefined"!=typeof Symbol&&(pp$9[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===types.eof,value:t}}}}),pp$9.curContext=function(){return this.context[this.context.length-1]},pp$9.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(types.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},pp$9.readToken=function(e){return isIdentifierStart(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},pp$9.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},pp$9.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),r=this.pos,s=this.input.indexOf("*/",this.pos+=2);if(-1===s&&this.raise(this.pos-2,"Unterminated comment"),this.pos=s+2,this.options.locations)for(lineBreakG.lastIndex=r;(e=lineBreakG.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,s),r,this.pos,t,this.curPosition())},pp$9.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!isNewLine(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())},pp$9.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&nonASCIIwhitespace.test(String.fromCharCode(e))))break e;++this.pos}}},pp$9.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)},pp$9.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(types.ellipsis)):(++this.pos,this.finishToken(types.dot))},pp$9.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(types.assign,2):this.finishOp(types.slash,1)},pp$9.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,s=42===e?types.star:types.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++r,s=types.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(types.assign,r+1):this.finishOp(s,r)},pp$9.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?types.logicalOR:types.logicalAND,2):61===t?this.finishOp(types.assign,2):this.finishOp(124===e?types.bitwiseOR:types.bitwiseAND,1)},pp$9.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(types.assign,2):this.finishOp(types.bitwiseXOR,1)},pp$9.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(types.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(types.assign,2):this.finishOp(types.plusMin,1)},pp$9.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+r)?this.finishOp(types.assign,r+1):this.finishOp(types.bitShift,r)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(r=2),this.finishOp(types.relational,r)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},pp$9.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(types.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types.arrow)):this.finishOp(61===e?types.eq:types.prefix,1)},pp$9.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types.parenL);case 41:return++this.pos,this.finishToken(types.parenR);case 59:return++this.pos,this.finishToken(types.semi);case 44:return++this.pos,this.finishToken(types.comma);case 91:return++this.pos,this.finishToken(types.bracketL);case 93:return++this.pos,this.finishToken(types.bracketR);case 123:return++this.pos,this.finishToken(types.braceL);case 125:return++this.pos,this.finishToken(types.braceR);case 58:return++this.pos,this.finishToken(types.colon);case 63:return++this.pos,this.finishToken(types.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(types.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString$1(e)+"'")},pp$9.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)},pp$9.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(lineBreak.test(s)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if("["===s)t=!0;else if("]"===s&&t)t=!1;else if("/"===s&&!t)break;e="\\"===s}++this.pos}var n=this.input.slice(r,this.pos);++this.pos;var i=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(i);var o=this.regexpState||(this.regexpState=new RegExpValidationState(this));o.reset(r,n,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(n,a)}catch(e){}return this.finishToken(types.regexp,{pattern:n,flags:a,value:l})},pp$9.readInt=function(e,t){for(var r=this.pos,s=0,n=0,i=null==t?1/0:t;n<i;++n){var a=this.input.charCodeAt(this.pos),o=void 0;if((o=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0)>=e)break;++this.pos,s=s*e+o}return this.pos===r||null!=t&&this.pos-r!==t?null:s},pp$9.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types.num,r)},pp$9.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number"),r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1);var s=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===s){var n=this.input.slice(t,this.pos),i="undefined"!=typeof BigInt?BigInt(n):null;return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types.num,i)}46!==s||r||(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),69!==s&&101!==s||r||(43!==(s=this.input.charCodeAt(++this.pos))&&45!==s||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(t,this.pos),o=r?parseInt(a,8):parseFloat(a);return this.finishToken(types.num,o)},pp$9.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},pp$9.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===e)break;92===s?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):(isNewLine(s,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(types.string,t)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp$9.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==INVALID_TEMPLATE_ESCAPE_ERROR)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},pp$9.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(e,t)},pp$9.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(96===r||36===r&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==types.template&&this.type!==types.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(types.template,e)):36===r?(this.pos+=2,this.finishToken(types.dollarBraceL)):(++this.pos,this.finishToken(types.backQuote));if(92===r)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(isNewLine(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(r)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},pp$9.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(types.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},pp$9.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString$1(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(r,8);return s>255&&(r=r.slice(0,-1),s=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return isNewLine(t)?"":String.fromCharCode(t)}},pp$9.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return null===r&&this.invalidStringToken(t,"Bad character escape sequence"),r},pp$9.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(isIdentifierChar(n,s))this.pos+=n<=65535?1:2;else{if(92!==n)break;this.containsEsc=!0,e+=this.input.slice(r,this.pos);var i=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?isIdentifierStart:isIdentifierChar)(a,s)||this.invalidStringToken(i,"Invalid Unicode escape"),e+=codePointToString$1(a),r=this.pos}t=!1}return e+this.input.slice(r,this.pos)},pp$9.readWord=function(){var e=this.readWord1(),t=types.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=keywords$1[e]),this.finishToken(t,e)};var version$1="7.1.0";
/*
  @license
	Rollup.js v1.24.0
	Tue, 15 Oct 2019 05:57:37 GMT - commit 4fd918fc8b7925471e00bd947191d850dea21ca5


	https://github.com/rollup/rollup

	Released under the MIT License.
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function __awaiter(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(a,o)}l((s=s.apply(e,t||[])).next())}))}Parser.acorn={Parser:Parser,version:version$1,defaultOptions:defaultOptions,Position:Position,SourceLocation:SourceLocation,getLineInfo:getLineInfo,Node:Node,TokenType:TokenType,tokTypes:types,keywordTypes:keywords$1,TokContext:TokContext,tokContexts:types$1,isIdentifierChar:isIdentifierChar,isIdentifierStart:isIdentifierStart,Token:Token,isNewLine:isNewLine,lineBreak:lineBreak,lineBreakG:lineBreakG,nonASCIIwhitespace:nonASCIIwhitespace};var version$2="1.24.0",minimalisticAssert=assert;function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function createCommonjsModule$1(e,t){return e(t={exports:{}},t.exports),t.exports}assert.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var inherits_browser$1=createCommonjsModule$1((function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}})),inherits$1=createCommonjsModule$1((function(e){try{var t=util$1;if("function"!=typeof t.inherits)throw"";e.exports=t.inherits}catch(t){e.exports=inherits_browser$1}})),inherits_1=inherits$1;function isSurrogatePair(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var s=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?r[s++]=i:i<2048?(r[s++]=i>>6|192,r[s++]=63&i|128):isSurrogatePair(e,n)?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),r[s++]=i>>18|240,r[s++]=i>>12&63|128,r[s++]=i>>6&63|128,r[s++]=63&i|128):(r[s++]=i>>12|224,r[s++]=i>>6&63|128,r[s++]=63&i|128)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r}var toArray_1=toArray;function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}var toHex_1=toHex;function htonl(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}var htonl_1=htonl;function toHex32(e,t){for(var r="",s=0;s<e.length;s++){var n=e[s];"little"===t&&(n=htonl(n)),r+=zero8(n.toString(16))}return r}var toHex32_1=toHex32;function zero2(e){return 1===e.length?"0"+e:e}var zero2_1=zero2;function zero8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var zero8_1=zero8;function join32(e,t,r,s){var n=r-t;minimalisticAssert(n%4==0);for(var i=new Array(n/4),a=0,o=t;a<i.length;a++,o+=4){var l;l="big"===s?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],i[a]=l>>>0}return i}var join32_1=join32;function split32(e,t){for(var r=new Array(4*e.length),s=0,n=0;s<e.length;s++,n+=4){var i=e[s];"big"===t?(r[n]=i>>>24,r[n+1]=i>>>16&255,r[n+2]=i>>>8&255,r[n+3]=255&i):(r[n+3]=i>>>24,r[n+2]=i>>>16&255,r[n+1]=i>>>8&255,r[n]=255&i)}return r}var split32_1=split32;function rotr32(e,t){return e>>>t|e<<32-t}var rotr32_1=rotr32;function rotl32(e,t){return e<<t|e>>>32-t}var rotl32_1=rotl32;function sum32(e,t){return e+t>>>0}var sum32_1=sum32;function sum32_3(e,t,r){return e+t+r>>>0}var sum32_3_1=sum32_3;function sum32_4(e,t,r,s){return e+t+r+s>>>0}var sum32_4_1=sum32_4;function sum32_5(e,t,r,s,n){return e+t+r+s+n>>>0}var sum32_5_1=sum32_5;function sum64(e,t,r,s){var n=e[t],i=s+e[t+1]>>>0,a=(i<s?1:0)+r+n;e[t]=a>>>0,e[t+1]=i}var sum64_1=sum64;function sum64_hi(e,t,r,s){return(t+s>>>0<t?1:0)+e+r>>>0}var sum64_hi_1=sum64_hi;function sum64_lo(e,t,r,s){return t+s>>>0}var sum64_lo_1=sum64_lo;function sum64_4_hi(e,t,r,s,n,i,a,o){var l=0,c=t;return l+=(c=c+s>>>0)<t?1:0,l+=(c=c+i>>>0)<i?1:0,e+r+n+a+(l+=(c=c+o>>>0)<o?1:0)>>>0}var sum64_4_hi_1=sum64_4_hi;function sum64_4_lo(e,t,r,s,n,i,a,o){return t+s+i+o>>>0}var sum64_4_lo_1=sum64_4_lo;function sum64_5_hi(e,t,r,s,n,i,a,o,l,c){var h=0,u=t;return h+=(u=u+s>>>0)<t?1:0,h+=(u=u+i>>>0)<i?1:0,h+=(u=u+o>>>0)<o?1:0,e+r+n+a+l+(h+=(u=u+c>>>0)<c?1:0)>>>0}var sum64_5_hi_1=sum64_5_hi;function sum64_5_lo(e,t,r,s,n,i,a,o,l,c){return t+s+i+o+c>>>0}var sum64_5_lo_1=sum64_5_lo;function rotr64_hi(e,t,r){return(t<<32-r|e>>>r)>>>0}var rotr64_hi_1=rotr64_hi;function rotr64_lo(e,t,r){return(e<<32-r|t>>>r)>>>0}var rotr64_lo_1=rotr64_lo;function shr64_hi(e,t,r){return e>>>r}var shr64_hi_1=shr64_hi;function shr64_lo(e,t,r){return(e<<32-r|t>>>r)>>>0}var shr64_lo_1=shr64_lo,utils={inherits:inherits_1,toArray:toArray_1,toHex:toHex_1,htonl:htonl_1,toHex32:toHex32_1,zero2:zero2_1,zero8:zero8_1,join32:join32_1,split32:split32_1,rotr32:rotr32_1,rotl32:rotl32_1,sum32:sum32_1,sum32_3:sum32_3_1,sum32_4:sum32_4_1,sum32_5:sum32_5_1,sum64:sum64_1,sum64_hi:sum64_hi_1,sum64_lo:sum64_lo_1,sum64_4_hi:sum64_4_hi_1,sum64_4_lo:sum64_4_lo_1,sum64_5_hi:sum64_5_hi_1,sum64_5_lo:sum64_5_lo_1,rotr64_hi:rotr64_hi_1,rotr64_lo:rotr64_lo_1,shr64_hi:shr64_hi_1,shr64_lo:shr64_lo_1};function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var BlockHash_1=BlockHash;BlockHash.prototype.update=function(e,t){if(e=utils.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=utils.join32(e,0,e.length-r,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this},BlockHash.prototype.digest=function(e){return this.update(this._pad()),minimalisticAssert(null===this.pending),this._digest(e)},BlockHash.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,s=new Array(r+this.padLength);s[0]=128;for(var n=1;n<r;n++)s[n]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)s[n++]=0;s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=e>>>24&255,s[n++]=e>>>16&255,s[n++]=e>>>8&255,s[n++]=255&e}else for(s[n++]=255&e,s[n++]=e>>>8&255,s[n++]=e>>>16&255,s[n++]=e>>>24&255,s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=0,i=8;i<this.padLength;i++)s[n++]=0;return s};var common$1={BlockHash:BlockHash_1},rotr32$1=utils.rotr32;function ft_1(e,t,r,s){return 0===e?ch32(t,r,s):1===e||3===e?p32(t,r,s):2===e?maj32(t,r,s):void 0}var ft_1_1=ft_1;function ch32(e,t,r){return e&t^~e&r}var ch32_1=ch32;function maj32(e,t,r){return e&t^e&r^t&r}var maj32_1=maj32;function p32(e,t,r){return e^t^r}var p32_1=p32;function s0_256(e){return rotr32$1(e,2)^rotr32$1(e,13)^rotr32$1(e,22)}var s0_256_1=s0_256;function s1_256(e){return rotr32$1(e,6)^rotr32$1(e,11)^rotr32$1(e,25)}var s1_256_1=s1_256;function g0_256(e){return rotr32$1(e,7)^rotr32$1(e,18)^e>>>3}var g0_256_1=g0_256;function g1_256(e){return rotr32$1(e,17)^rotr32$1(e,19)^e>>>10}var g1_256_1=g1_256,common$1$1={ft_1:ft_1_1,ch32:ch32_1,maj32:maj32_1,p32:p32_1,s0_256:s0_256_1,s1_256:s1_256_1,g0_256:g0_256_1,g1_256:g1_256_1},sum32$1=utils.sum32,sum32_4$1=utils.sum32_4,sum32_5$1=utils.sum32_5,ch32$1=common$1$1.ch32,maj32$1=common$1$1.maj32,s0_256$1=common$1$1.s0_256,s1_256$1=common$1$1.s1_256,g0_256$1=common$1$1.g0_256,g1_256$1=common$1$1.g1_256,BlockHash$1=common$1.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash$1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils.inherits(SHA256,BlockHash$1);var _256=SHA256;SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(e,t){for(var r=this.W,s=0;s<16;s++)r[s]=e[t+s];for(;s<r.length;s++)r[s]=sum32_4$1(g1_256$1(r[s-2]),r[s-7],g0_256$1(r[s-15]),r[s-16]);var n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],l=this.h[4],c=this.h[5],h=this.h[6],u=this.h[7];for(minimalisticAssert(this.k.length===r.length),s=0;s<r.length;s++){var p=sum32_5$1(u,s1_256$1(l),ch32$1(l,c,h),this.k[s],r[s]),d=sum32$1(s0_256$1(n),maj32$1(n,i,a));u=h,h=c,c=l,l=sum32$1(o,p),o=a,a=i,i=n,n=sum32$1(p,d)}this.h[0]=sum32$1(this.h[0],n),this.h[1]=sum32$1(this.h[1],i),this.h[2]=sum32$1(this.h[2],a),this.h[3]=sum32$1(this.h[3],o),this.h[4]=sum32$1(this.h[4],l),this.h[5]=sum32$1(this.h[5],c),this.h[6]=sum32$1(this.h[6],h),this.h[7]=sum32$1(this.h[7],u)},SHA256.prototype._digest=function(e){return"hex"===e?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")};for(var charToInteger={},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0;i<chars.length;i++)charToInteger[chars.charCodeAt(i)]=i;function decode(e){for(var t=0,r=0,s=0,n=0,i=0,a=[],o=[],l=[],c=0,h=0,u=0,p=0,d=e.length;c<d;c++){var f=e.charCodeAt(c);if(44===f)l.length&&o.push(l),l=[],h=0;else if(59===f)l.length&&o.push(l),l=[],h=0,a.push(o),o=[],t=0;else{var m=charToInteger[f];if(void 0===m)throw new Error("Invalid character ("+String.fromCharCode(f)+")");var g=32&m;if(p+=(m&=31)<<u,g)u+=5;else{var E=1&p;p>>>=1,E&&0===(p=-p)&&(p=-2147483648),0==h?(t+=p,l.push(t)):1===h?(r+=p,l.push(r)):2===h?(s+=p,l.push(s)):3===h?(n+=p,l.push(n)):4===h&&(i+=p,l.push(i)),h++,p=u=0}}}return l.length&&o.push(l),a.push(o),a}function encode(e){for(var t=0,r=0,s=0,n=0,i="",a=0;a<e.length;a++){var o=e[a];if(a>0&&(i+=";"),0!==o.length){for(var l=0,c=[],h=0,u=o;h<u.length;h++){var p=u[h],d=encodeInteger(p[0]-l);l=p[0],p.length>1&&(d+=encodeInteger(p[1]-t)+encodeInteger(p[2]-r)+encodeInteger(p[3]-s),t=p[1],r=p[2],s=p[3]),5===p.length&&(d+=encodeInteger(p[4]-n),n=p[4]),c.push(d)}i+=c.join(",")}}return i}function encodeInteger(e){var t="";e=e<0?-e<<1|1:e<<1;do{var r=31&e;(e>>>=5)>0&&(r|=32),t+=chars[r]}while(e>0);return t}var Chunk=function(e,t,r){this.start=e,this.end=t,this.original=r,this.intro="",this.outro="",this.content=r,this.storeName=!1,this.edited=!1,Object.defineProperties(this,{previous:{writable:!0,value:null},next:{writable:!0,value:null}})};Chunk.prototype.appendLeft=function(e){this.outro+=e},Chunk.prototype.appendRight=function(e){this.intro=this.intro+e},Chunk.prototype.clone=function(){var e=new Chunk(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e},Chunk.prototype.contains=function(e){return this.start<e&&e<this.end},Chunk.prototype.eachNext=function(e){for(var t=this;t;)e(t),t=t.next},Chunk.prototype.eachPrevious=function(e){for(var t=this;t;)e(t),t=t.previous},Chunk.prototype.edit=function(e,t,r){return this.content=e,r||(this.intro="",this.outro=""),this.storeName=t,this.edited=!0,this},Chunk.prototype.prependLeft=function(e){this.outro=e+this.outro},Chunk.prototype.prependRight=function(e){this.intro=e+this.intro},Chunk.prototype.split=function(e){var t=e-this.start,r=this.original.slice(0,t),s=this.original.slice(t);this.original=r;var n=new Chunk(e,this.end,s);return n.outro=this.outro,this.outro="",this.end=e,this.edited?(n.edit("",!1),this.content=""):this.content=r,n.next=this.next,n.next&&(n.next.previous=n),n.previous=this,this.next=n,n},Chunk.prototype.toString=function(){return this.intro+this.content+this.outro},Chunk.prototype.trimEnd=function(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var t=this.content.replace(e,"");return t.length?(t!==this.content&&this.split(this.start+t.length).edit("",void 0,!0),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),!!this.intro.length||void 0)},Chunk.prototype.trimStart=function(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var t=this.content.replace(e,"");return t.length?(t!==this.content&&(this.split(this.end-t.length),this.edit("",void 0,!0)),!0):(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),!!this.outro.length||void 0)};var btoa=function(){throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")};"undefined"!=typeof window&&"function"==typeof window.btoa?btoa=function(e){return window.btoa(unescape(encodeURIComponent(e)))}:"function"==typeof Buffer&&(btoa=function(e){return Buffer.from(e,"utf-8").toString("base64")});var SourceMap=function(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=encode(e.mappings)};function guessIndent(e){var t=e.split("\n"),r=t.filter((function(e){return/^\t+/.test(e)})),s=t.filter((function(e){return/^ {2,}/.test(e)}));if(0===r.length&&0===s.length)return null;if(r.length>=s.length)return"\t";var n=s.reduce((function(e,t){var r=/^ +/.exec(t)[0].length;return Math.min(r,e)}),1/0);return new Array(n+1).join(" ")}function getRelativePath(e,t){var r=e.split(/[/\\]/),s=t.split(/[/\\]/);for(r.pop();r[0]===s[0];)r.shift(),s.shift();if(r.length)for(var n=r.length;n--;)r[n]="..";return r.concat(s).join("/")}SourceMap.prototype.toString=function(){return JSON.stringify(this)},SourceMap.prototype.toUrl=function(){return"data:application/json;charset=utf-8;base64,"+btoa(this.toString())};var toString$1=Object.prototype.toString;function isObject$1(e){return"[object Object]"===toString$1.call(e)}function getLocator(e){for(var t=e.split("\n"),r=[],s=0,n=0;s<t.length;s++)r.push(n),n+=t[s].length+1;return function(e){for(var t=0,s=r.length;t<s;){var n=t+s>>1;e<r[n]?s=n:t=n+1}var i=t-1;return{line:i,column:e-r[i]}}}var Mappings=function(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null};Mappings.prototype.addEdit=function(e,t,r,s){if(t.length){var n=[this.generatedCodeColumn,e,r.line,r.column];s>=0&&n.push(s),this.rawSegments.push(n)}else this.pending&&this.rawSegments.push(this.pending);this.advance(t),this.pending=null},Mappings.prototype.addUneditedChunk=function(e,t,r,s,n){for(var i=t.start,a=!0;i<t.end;)(this.hires||a||n[i])&&this.rawSegments.push([this.generatedCodeColumn,e,s.line,s.column]),"\n"===r[i]?(s.line+=1,s.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0):(s.column+=1,this.generatedCodeColumn+=1),i+=1,a=!1;this.pending=[this.generatedCodeColumn,e,s.line,s.column]},Mappings.prototype.advance=function(e){if(e){var t=e.split("\n");if(t.length>1){for(var r=0;r<t.length-1;r++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=t[t.length-1].length}};var n="\n",warned={insertLeft:!1,insertRight:!1,storeName:!1},MagicString=function(e,t){void 0===t&&(t={});var r=new Chunk(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:r},lastChunk:{writable:!0,value:r},lastSearchedChunk:{writable:!0,value:r},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:t.filename},indentExclusionRanges:{writable:!0,value:t.indentExclusionRanges},sourcemapLocations:{writable:!0,value:{}},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:guessIndent(e)}}),this.byStart[0]=r,this.byEnd[e.length]=r};MagicString.prototype.addSourcemapLocation=function(e){this.sourcemapLocations[e]=!0},MagicString.prototype.append=function(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.outro+=e,this},MagicString.prototype.appendLeft=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byEnd[e];return r?r.appendLeft(t):this.intro+=t,this},MagicString.prototype.appendRight=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byStart[e];return r?r.appendRight(t):this.outro+=t,this},MagicString.prototype.clone=function(){for(var e=new MagicString(this.original,{filename:this.filename}),t=this.firstChunk,r=e.firstChunk=e.lastSearchedChunk=t.clone();t;){e.byStart[r.start]=r,e.byEnd[r.end]=r;var s=t.next,n=s&&s.clone();n&&(r.next=n,n.previous=r,r=n),t=s}return e.lastChunk=r,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),Object.keys(this.sourcemapLocations).forEach((function(t){e.sourcemapLocations[t]=!0})),e.intro=this.intro,e.outro=this.outro,e},MagicString.prototype.generateDecodedMap=function(e){var t=this;e=e||{};var r=Object.keys(this.storedNames),s=new Mappings(e.hires),n=getLocator(this.original);return this.intro&&s.advance(this.intro),this.firstChunk.eachNext((function(e){var i=n(e.start);e.intro.length&&s.advance(e.intro),e.edited?s.addEdit(0,e.content,i,e.storeName?r.indexOf(e.original):-1):s.addUneditedChunk(0,e,t.original,i,t.sourcemapLocations),e.outro.length&&s.advance(e.outro)})),{file:e.file?e.file.split(/[/\\]/).pop():null,sources:[e.source?getRelativePath(e.file||"",e.source):null],sourcesContent:e.includeContent?[this.original]:[null],names:r,mappings:s.raw}},MagicString.prototype.generateMap=function(e){return new SourceMap(this.generateDecodedMap(e))},MagicString.prototype.getIndentString=function(){return null===this.indentStr?"\t":this.indentStr},MagicString.prototype.indent=function(e,t){var r=/^[^\r\n]/gm;if(isObject$1(e)&&(t=e,e=void 0),""===(e=void 0!==e?e:this.indentStr||"\t"))return this;var s={};(t=t||{}).exclude&&("number"==typeof t.exclude[0]?[t.exclude]:t.exclude).forEach((function(e){for(var t=e[0];t<e[1];t+=1)s[t]=!0}));var n=!1!==t.indentStart,i=function(t){return n?""+e+t:(n=!0,t)};this.intro=this.intro.replace(r,i);for(var a=0,o=this.firstChunk;o;){var l=o.end;if(o.edited)s[a]||(o.content=o.content.replace(r,i),o.content.length&&(n="\n"===o.content[o.content.length-1]));else for(a=o.start;a<l;){if(!s[a]){var c=this.original[a];"\n"===c?n=!0:"\r"!==c&&n&&(n=!1,a===o.start?o.prependRight(e):(this._splitChunk(o,a),(o=o.next).prependRight(e)))}a+=1}a=o.end,o=o.next}return this.outro=this.outro.replace(r,i),this},MagicString.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")},MagicString.prototype.insertLeft=function(e,t){return warned.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),warned.insertLeft=!0),this.appendLeft(e,t)},MagicString.prototype.insertRight=function(e,t){return warned.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),warned.insertRight=!0),this.prependRight(e,t)},MagicString.prototype.move=function(e,t,r){if(r>=e&&r<=t)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(t),this._split(r);var s=this.byStart[e],n=this.byEnd[t],i=s.previous,a=n.next,o=this.byStart[r];if(!o&&n===this.lastChunk)return this;var l=o?o.previous:this.lastChunk;return i&&(i.next=a),a&&(a.previous=i),l&&(l.next=s),o&&(o.previous=n),s.previous||(this.firstChunk=n.next),n.next||(this.lastChunk=s.previous,this.lastChunk.next=null),s.previous=l,n.next=o||null,l||(this.firstChunk=s),o||(this.lastChunk=n),this},MagicString.prototype.overwrite=function(e,t,r,s){if("string"!=typeof r)throw new TypeError("replacement content must be a string");for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(t>this.original.length)throw new Error("end is out of bounds");if(e===t)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(e),this._split(t),!0===s&&(warned.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),warned.storeName=!0),s={storeName:!0});var n=void 0!==s&&s.storeName,i=void 0!==s&&s.contentOnly;if(n){var a=this.original.slice(e,t);this.storedNames[a]=!0}var o=this.byStart[e],l=this.byEnd[t];if(o){if(t>o.end&&o.next!==this.byStart[o.end])throw new Error("Cannot overwrite across a split point");if(o.edit(r,n,i),o!==l){for(var c=o.next;c!==l;)c.edit("",!1),c=c.next;c.edit("",!1)}}else{var h=new Chunk(e,t,"").edit(r,n);l.next=h,h.previous=l}return this},MagicString.prototype.prepend=function(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this},MagicString.prototype.prependLeft=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byEnd[e];return r?r.prependLeft(t):this.intro=t+this.intro,this},MagicString.prototype.prependRight=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byStart[e];return r?r.prependRight(t):this.outro=t+this.outro,this},MagicString.prototype.remove=function(e,t){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(e===t)return this;if(e<0||t>this.original.length)throw new Error("Character is out of bounds");if(e>t)throw new Error("end must be greater than start");this._split(e),this._split(t);for(var r=this.byStart[e];r;)r.intro="",r.outro="",r.edit(""),r=t>r.end?this.byStart[r.end]:null;return this},MagicString.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""},MagicString.prototype.lastLine=function(){var e=this.outro.lastIndexOf(n);if(-1!==e)return this.outro.substr(e+1);var t=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(-1!==(e=r.outro.lastIndexOf(n)))return r.outro.substr(e+1)+t;t=r.outro+t}if(r.content.length>0){if(-1!==(e=r.content.lastIndexOf(n)))return r.content.substr(e+1)+t;t=r.content+t}if(r.intro.length>0){if(-1!==(e=r.intro.lastIndexOf(n)))return r.intro.substr(e+1)+t;t=r.intro+t}}while(r=r.previous);return-1!==(e=this.intro.lastIndexOf(n))?this.intro.substr(e+1)+t:this.intro+t},MagicString.prototype.slice=function(e,t){for(void 0===e&&(e=0),void 0===t&&(t=this.original.length);e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;for(var r="",s=this.firstChunk;s&&(s.start>e||s.end<=e);){if(s.start<t&&s.end>=t)return r;s=s.next}if(s&&s.edited&&s.start!==e)throw new Error("Cannot use replaced character "+e+" as slice start anchor.");for(var n=s;s;){!s.intro||n===s&&s.start!==e||(r+=s.intro);var i=s.start<t&&s.end>=t;if(i&&s.edited&&s.end!==t)throw new Error("Cannot use replaced character "+t+" as slice end anchor.");var a=n===s?e-s.start:0,o=i?s.content.length+t-s.end:s.content.length;if(r+=s.content.slice(a,o),!s.outro||i&&s.end!==t||(r+=s.outro),i)break;s=s.next}return r},MagicString.prototype.snip=function(e,t){var r=this.clone();return r.remove(0,e),r.remove(t,r.original.length),r},MagicString.prototype._split=function(e){if(!this.byStart[e]&&!this.byEnd[e])for(var t=this.lastSearchedChunk,r=e>t.end;t;){if(t.contains(e))return this._splitChunk(t,e);t=r?this.byStart[t.end]:this.byEnd[t.start]}},MagicString.prototype._splitChunk=function(e,t){if(e.edited&&e.content.length){var r=getLocator(this.original)(t);throw new Error("Cannot split a chunk that has already been edited ("+r.line+":"+r.column+' – "'+e.original+'")')}var s=e.split(t);return this.byEnd[t]=e,this.byStart[t]=s,this.byEnd[s.end]=s,e===this.lastChunk&&(this.lastChunk=s),this.lastSearchedChunk=e,!0},MagicString.prototype.toString=function(){for(var e=this.intro,t=this.firstChunk;t;)e+=t.toString(),t=t.next;return e+this.outro},MagicString.prototype.isEmpty=function(){var e=this.firstChunk;do{if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1}while(e=e.next);return!0},MagicString.prototype.length=function(){var e=this.firstChunk,t=0;do{t+=e.intro.length+e.content.length+e.outro.length}while(e=e.next);return t},MagicString.prototype.trimLines=function(){return this.trim("[\\r\\n]")},MagicString.prototype.trim=function(e){return this.trimStart(e).trimEnd(e)},MagicString.prototype.trimEndAborted=function(e){var t=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;var r=this.lastChunk;do{var s=r.end,n=r.trimEnd(t);if(r.end!==s&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),n)return!0;r=r.previous}while(r);return!1},MagicString.prototype.trimEnd=function(e){return this.trimEndAborted(e),this},MagicString.prototype.trimStartAborted=function(e){var t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;var r=this.firstChunk;do{var s=r.end,n=r.trimStart(t);if(r.end!==s&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),n)return!0;r=r.next}while(r);return!1},MagicString.prototype.trimStart=function(e){return this.trimStartAborted(e),this};var hasOwnProp=Object.prototype.hasOwnProperty,Bundle=function(e){void 0===e&&(e={}),this.intro=e.intro||"",this.separator=void 0!==e.separator?e.separator:"\n",this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}};function relative(e,t){const r=e.split(/[/\\]/).filter(Boolean),s=t.split(/[/\\]/).filter(Boolean);for("."===r[0]&&r.shift(),"."===s[0]&&s.shift();r[0]&&s[0]&&r[0]===s[0];)r.shift(),s.shift();for(;".."===s[0]&&r.length>0;)s.shift(),r.pop();for(;r.pop();)s.unshift("..");return s.join("/")}Bundle.prototype.addSource=function(e){if(e instanceof MagicString)return this.addSource({content:e,filename:e.filename,separator:this.separator});if(!isObject$1(e)||!e.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","indentExclusionRanges","separator"].forEach((function(t){hasOwnProp.call(e,t)||(e[t]=e.content[t])})),void 0===e.separator&&(e.separator=this.separator),e.filename)if(hasOwnProp.call(this.uniqueSourceIndexByFilename,e.filename)){var t=this.uniqueSources[this.uniqueSourceIndexByFilename[e.filename]];if(e.content.original!==t.content)throw new Error("Illegal source: same filename ("+e.filename+"), different contents")}else this.uniqueSourceIndexByFilename[e.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:e.filename,content:e.content.original});return this.sources.push(e),this},Bundle.prototype.append=function(e,t){return this.addSource({content:new MagicString(e),separator:t&&t.separator||""}),this},Bundle.prototype.clone=function(){var e=new Bundle({intro:this.intro,separator:this.separator});return this.sources.forEach((function(t){e.addSource({filename:t.filename,content:t.content.clone(),separator:t.separator})})),e},Bundle.prototype.generateDecodedMap=function(e){var t=this;void 0===e&&(e={});var r=[];this.sources.forEach((function(e){Object.keys(e.content.storedNames).forEach((function(e){~r.indexOf(e)||r.push(e)}))}));var s=new Mappings(e.hires);return this.intro&&s.advance(this.intro),this.sources.forEach((function(e,n){n>0&&s.advance(t.separator);var i=e.filename?t.uniqueSourceIndexByFilename[e.filename]:-1,a=e.content,o=getLocator(a.original);a.intro&&s.advance(a.intro),a.firstChunk.eachNext((function(t){var n=o(t.start);t.intro.length&&s.advance(t.intro),e.filename?t.edited?s.addEdit(i,t.content,n,t.storeName?r.indexOf(t.original):-1):s.addUneditedChunk(i,t,a.original,n,a.sourcemapLocations):s.advance(t.content),t.outro.length&&s.advance(t.outro)})),a.outro&&s.advance(a.outro)})),{file:e.file?e.file.split(/[/\\]/).pop():null,sources:this.uniqueSources.map((function(t){return e.file?getRelativePath(e.file,t.filename):t.filename})),sourcesContent:this.uniqueSources.map((function(t){return e.includeContent?t.content:null})),names:r,mappings:s.raw}},Bundle.prototype.generateMap=function(e){return new SourceMap(this.generateDecodedMap(e))},Bundle.prototype.getIndentString=function(){var e={};return this.sources.forEach((function(t){var r=t.content.indentStr;null!==r&&(e[r]||(e[r]=0),e[r]+=1)})),Object.keys(e).sort((function(t,r){return e[t]-e[r]}))[0]||"\t"},Bundle.prototype.indent=function(e){var t=this;if(arguments.length||(e=this.getIndentString()),""===e)return this;var r=!this.intro||"\n"===this.intro.slice(-1);return this.sources.forEach((function(s,n){var i=void 0!==s.separator?s.separator:t.separator,a=r||n>0&&/\r?\n$/.test(i);s.content.indent(e,{exclude:s.indentExclusionRanges,indentStart:a}),r="\n"===s.content.lastChar()})),this.intro&&(this.intro=e+this.intro.replace(/^[^\n]/gm,(function(t,r){return r>0?e+t:t}))),this},Bundle.prototype.prepend=function(e){return this.intro=e+this.intro,this},Bundle.prototype.toString=function(){var e=this,t=this.sources.map((function(t,r){var s=void 0!==t.separator?t.separator:e.separator;return(r>0?s:"")+t.content.toString()})).join("");return this.intro+t},Bundle.prototype.isEmpty=function(){return(!this.intro.length||!this.intro.trim())&&!this.sources.some((function(e){return!e.content.isEmpty()}))},Bundle.prototype.length=function(){return this.sources.reduce((function(e,t){return e+t.content.length()}),this.intro.length)},Bundle.prototype.trimLines=function(){return this.trim("[\\r\\n]")},Bundle.prototype.trim=function(e){return this.trimStart(e).trimEnd(e)},Bundle.prototype.trimStart=function(e){var t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),!this.intro){var r,s=0;do{if(!(r=this.sources[s++]))break}while(!r.content.trimStartAborted(e))}return this},Bundle.prototype.trimEnd=function(e){var t,r=new RegExp((e||"\\s")+"+$"),s=this.sources.length-1;do{if(!(t=this.sources[s--])){this.intro=this.intro.replace(r,"");break}}while(!t.content.trimEndAborted(e));return this};const UnknownKey=Symbol("Unknown Key"),EMPTY_PATH=[],UNKNOWN_PATH=[UnknownKey],EntitiesKey=Symbol("Entities");class PathTracker{constructor(){this.entityPaths=Object.create(null,{[EntitiesKey]:{value:new Set}})}getEntities(e){let t=this.entityPaths;for(const r of e)t=t[r]=t[r]||Object.create(null,{[EntitiesKey]:{value:new Set}});return t[EntitiesKey]}}const EMPTY_IMMUTABLE_TRACKER=new PathTracker,BREAKFLOW_NONE=!1,BREAKFLOW_ERROR_RETURN=!0;function createInclusionContext(){return{breakFlow:BREAKFLOW_NONE}}function createHasEffectsContext(){return{accessed:new PathTracker,assigned:new PathTracker,breakFlow:BREAKFLOW_NONE,called:new PathTracker,ignore:{breakStatements:!1,labels:new Set,returnAwaitYield:!1},instantiated:new PathTracker,replacedVariableInits:new Map}}const BLANK=Object.create(null),BlockStatement="BlockStatement",CallExpression="CallExpression",ExportAllDeclaration="ExportAllDeclaration",ExpressionStatement="ExpressionStatement",FunctionExpression="FunctionExpression",Identifier="Identifier",ImportDefaultSpecifier="ImportDefaultSpecifier",ImportNamespaceSpecifier="ImportNamespaceSpecifier",Program="Program",Property="Property",ReturnStatement="ReturnStatement",VariableDeclaration="VariableDeclaration";function treeshakeNode(e,t,r,s){if(t.remove(r,s),e.annotations)for(const s of e.annotations){if(!(s.start<r))return;t.remove(s.start,s.end)}}function removeAnnotations(e,t){if(e.annotations||e.parent.type!==ExpressionStatement||(e=e.parent),e.annotations)for(const r of e.annotations)t.remove(r.start,r.end)}const NO_SEMICOLON={isNoStatement:!0};function findFirstOccurrenceOutsideComment(e,t,r=0){let s,n;for(s=e.indexOf(t,r);;){if(-1===(r=e.indexOf("/",r))||r>s)return s;n=e.charCodeAt(++r),++r,(r=47===n?e.indexOf("\n",r)+1:e.indexOf("*/",r)+2)>s&&(s=e.indexOf(t,r))}}function findFirstLineBreakOutsideComment(e){let t,r,s=0;for(t=e.indexOf("\n",s);;){if(-1===(s=e.indexOf("/",s))||s>t)return t;if(47===(r=e.charCodeAt(++s)))return t;(s=e.indexOf("*/",s+2)+2)>t&&(t=e.indexOf("\n",s))}}function renderStatementList(e,t,r,s,n){let i,a,o,l,c=e[0],h=!c.included||c.needsBoundaries;h&&(l=r+findFirstLineBreakOutsideComment(t.original.slice(r,c.start))+1);for(let r=1;r<=e.length;r++)i=c,a=l,o=h,h=void 0!==(c=e[r])&&(!c.included||c.needsBoundaries),o||h?(l=i.end+findFirstLineBreakOutsideComment(t.original.slice(i.end,void 0===c?s:c.start))+1,i.included?o?i.render(t,n,{end:l,start:a}):i.render(t,n):treeshakeNode(i,t,a,l)):i.render(t,n)}function getCommaSeparatedNodesWithBoundaries(e,t,r,s){const n=[];let i,a,o,l,c,h=r-1;for(let s=0;s<e.length;s++){for(a=e[s],void 0!==i&&(h=i.end+findFirstOccurrenceOutsideComment(t.original.slice(i.end,a.start),",")),o=l=h+2+findFirstLineBreakOutsideComment(t.original.slice(h+1,a.start));32===(c=t.original.charCodeAt(o))||9===c||10===c||13===c;)o++;void 0!==i&&n.push({contentEnd:l,end:o,node:i,separator:h,start:r}),i=a,r=o}return n.push({contentEnd:s,end:s,node:i,separator:null,start:r}),n}function removeLineBreaks(e,t,r){for(;;){const s=findFirstLineBreakOutsideComment(e.original.slice(t,r));if(-1===s)break;t=t+s+1,e.remove(t-1,t)}}const chars$1="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",base=64;function toBase64(e){let t="";do{const r=e%base;e=Math.floor(e/base),t=chars$1[r]+t}while(0!==e);return t}const RESERVED_NAMES=Object.assign(Object.create(null),{await:!0,break:!0,case:!0,catch:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,else:!0,enum:!0,eval:!0,export:!0,extends:!0,false:!0,finally:!0,for:!0,function:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,interface:!0,let:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,static:!0,super:!0,switch:!0,this:!0,throw:!0,true:!0,try:!0,typeof:!0,undefined:!0,var:!0,void:!0,while:!0,with:!0,yield:!0});function getSafeName(e,t){let r=e,s=1;for(;t.has(r)||RESERVED_NAMES[r];)r=`${e}$${toBase64(s++)}`;return t.add(r),r}const NO_ARGS=[];function assembleMemberDescriptions(e,t=null){return Object.create(t,e)}const UnknownValue=Symbol("Unknown Value"),UNKNOWN_EXPRESSION={deoptimizePath:()=>{},getLiteralValueAtPath:()=>UnknownValue,getReturnExpressionWhenCalledAtPath:()=>UNKNOWN_EXPRESSION,hasEffectsWhenAccessedAtPath:e=>e.length>0,hasEffectsWhenAssignedAtPath:e=>e.length>0,hasEffectsWhenCalledAtPath:()=>!0,include:()=>{},includeCallArguments(e,t){for(const r of t)r.include(e,!1)},included:!0,toString:()=>"[[UNKNOWN]]"},UNDEFINED_EXPRESSION={deoptimizePath:()=>{},getLiteralValueAtPath:()=>void 0,getReturnExpressionWhenCalledAtPath:()=>UNKNOWN_EXPRESSION,hasEffectsWhenAccessedAtPath:e=>e.length>0,hasEffectsWhenAssignedAtPath:e=>e.length>0,hasEffectsWhenCalledAtPath:()=>!0,include:()=>{},includeCallArguments(){},included:!0,toString:()=>"undefined"},returnsUnknown={value:{callsArgs:null,mutatesSelf:!1,returns:null,returnsPrimitive:UNKNOWN_EXPRESSION}},mutatesSelfReturnsUnknown={value:{returns:null,returnsPrimitive:UNKNOWN_EXPRESSION,callsArgs:null,mutatesSelf:!0}},callsArgReturnsUnknown={value:{returns:null,returnsPrimitive:UNKNOWN_EXPRESSION,callsArgs:[0],mutatesSelf:!1}};class UnknownArrayExpression{constructor(){this.included=!1}deoptimizePath(){}getLiteralValueAtPath(){return UnknownValue}getReturnExpressionWhenCalledAtPath(e){return 1===e.length?getMemberReturnExpressionWhenCalled(arrayMembers,e[0]):UNKNOWN_EXPRESSION}hasEffectsWhenAccessedAtPath(e){return e.length>1}hasEffectsWhenAssignedAtPath(e){return e.length>1}hasEffectsWhenCalledAtPath(e,t,r){return 1!==e.length||hasMemberEffectWhenCalled(arrayMembers,e[0],this.included,t,r)}include(){this.included=!0}includeCallArguments(e,t){for(const r of t)r.include(e,!1)}toString(){return"[[UNKNOWN ARRAY]]"}}const returnsArray={value:{callsArgs:null,mutatesSelf:!1,returns:UnknownArrayExpression,returnsPrimitive:null}},mutatesSelfReturnsArray={value:{callsArgs:null,mutatesSelf:!0,returns:UnknownArrayExpression,returnsPrimitive:null}},callsArgReturnsArray={value:{callsArgs:[0],mutatesSelf:!1,returns:UnknownArrayExpression,returnsPrimitive:null}},callsArgMutatesSelfReturnsArray={value:{callsArgs:[0],mutatesSelf:!0,returns:UnknownArrayExpression,returnsPrimitive:null}},UNKNOWN_LITERAL_BOOLEAN={deoptimizePath:()=>{},getLiteralValueAtPath:()=>UnknownValue,getReturnExpressionWhenCalledAtPath:e=>1===e.length?getMemberReturnExpressionWhenCalled(literalBooleanMembers,e[0]):UNKNOWN_EXPRESSION,hasEffectsWhenAccessedAtPath:e=>e.length>1,hasEffectsWhenAssignedAtPath:e=>e.length>0,hasEffectsWhenCalledAtPath:e=>{if(1===e.length){const t=e[0];return"string"!=typeof t||!literalBooleanMembers[t]}return!0},include:()=>{},includeCallArguments(e,t){for(const r of t)r.include(e,!1)},included:!0,toString:()=>"[[UNKNOWN BOOLEAN]]"},returnsBoolean={value:{callsArgs:null,mutatesSelf:!1,returns:null,returnsPrimitive:UNKNOWN_LITERAL_BOOLEAN}},callsArgReturnsBoolean={value:{callsArgs:[0],mutatesSelf:!1,returns:null,returnsPrimitive:UNKNOWN_LITERAL_BOOLEAN}},UNKNOWN_LITERAL_NUMBER={deoptimizePath:()=>{},getLiteralValueAtPath:()=>UnknownValue,getReturnExpressionWhenCalledAtPath:e=>1===e.length?getMemberReturnExpressionWhenCalled(literalNumberMembers,e[0]):UNKNOWN_EXPRESSION,hasEffectsWhenAccessedAtPath:e=>e.length>1,hasEffectsWhenAssignedAtPath:e=>e.length>0,hasEffectsWhenCalledAtPath:e=>{if(1===e.length){const t=e[0];return"string"!=typeof t||!literalNumberMembers[t]}return!0},include:()=>{},includeCallArguments(e,t){for(const r of t)r.include(e,!1)},included:!0,toString:()=>"[[UNKNOWN NUMBER]]"},returnsNumber={value:{callsArgs:null,mutatesSelf:!1,returns:null,returnsPrimitive:UNKNOWN_LITERAL_NUMBER}},mutatesSelfReturnsNumber={value:{callsArgs:null,mutatesSelf:!0,returns:null,returnsPrimitive:UNKNOWN_LITERAL_NUMBER}},callsArgReturnsNumber={value:{callsArgs:[0],mutatesSelf:!1,returns:null,returnsPrimitive:UNKNOWN_LITERAL_NUMBER}},UNKNOWN_LITERAL_STRING={deoptimizePath:()=>{},getLiteralValueAtPath:()=>UnknownValue,getReturnExpressionWhenCalledAtPath:e=>1===e.length?getMemberReturnExpressionWhenCalled(literalStringMembers,e[0]):UNKNOWN_EXPRESSION,hasEffectsWhenAccessedAtPath:e=>e.length>1,hasEffectsWhenAssignedAtPath:e=>e.length>0,hasEffectsWhenCalledAtPath:(e,t,r)=>1!==e.length||hasMemberEffectWhenCalled(literalStringMembers,e[0],!0,t,r),include:()=>{},includeCallArguments(e,t){for(const r of t)r.include(e,!1)},included:!0,toString:()=>"[[UNKNOWN STRING]]"},returnsString={value:{callsArgs:null,mutatesSelf:!1,returns:null,returnsPrimitive:UNKNOWN_LITERAL_STRING}};class UnknownObjectExpression{constructor(){this.included=!1}deoptimizePath(){}getLiteralValueAtPath(){return UnknownValue}getReturnExpressionWhenCalledAtPath(e){return 1===e.length?getMemberReturnExpressionWhenCalled(objectMembers,e[0]):UNKNOWN_EXPRESSION}hasEffectsWhenAccessedAtPath(e){return e.length>1}hasEffectsWhenAssignedAtPath(e){return e.length>1}hasEffectsWhenCalledAtPath(e,t,r){return 1!==e.length||hasMemberEffectWhenCalled(objectMembers,e[0],this.included,t,r)}include(){this.included=!0}includeCallArguments(e,t){for(const r of t)r.include(e,!1)}toString(){return"[[UNKNOWN OBJECT]]"}}const objectMembers=assembleMemberDescriptions({hasOwnProperty:returnsBoolean,isPrototypeOf:returnsBoolean,propertyIsEnumerable:returnsBoolean,toLocaleString:returnsString,toString:returnsString,valueOf:returnsUnknown}),arrayMembers=assembleMemberDescriptions({concat:returnsArray,copyWithin:mutatesSelfReturnsArray,every:callsArgReturnsBoolean,fill:mutatesSelfReturnsArray,filter:callsArgReturnsArray,find:callsArgReturnsUnknown,findIndex:callsArgReturnsNumber,forEach:callsArgReturnsUnknown,includes:returnsBoolean,indexOf:returnsNumber,join:returnsString,lastIndexOf:returnsNumber,map:callsArgReturnsArray,pop:mutatesSelfReturnsUnknown,push:mutatesSelfReturnsNumber,reduce:callsArgReturnsUnknown,reduceRight:callsArgReturnsUnknown,reverse:mutatesSelfReturnsArray,shift:mutatesSelfReturnsUnknown,slice:returnsArray,some:callsArgReturnsBoolean,sort:callsArgMutatesSelfReturnsArray,splice:mutatesSelfReturnsArray,unshift:mutatesSelfReturnsNumber},objectMembers),literalBooleanMembers=assembleMemberDescriptions({valueOf:returnsBoolean},objectMembers),literalNumberMembers=assembleMemberDescriptions({toExponential:returnsString,toFixed:returnsString,toLocaleString:returnsString,toPrecision:returnsString,valueOf:returnsNumber},objectMembers),literalStringMembers=assembleMemberDescriptions({charAt:returnsString,charCodeAt:returnsNumber,codePointAt:returnsNumber,concat:returnsString,endsWith:returnsBoolean,includes:returnsBoolean,indexOf:returnsNumber,lastIndexOf:returnsNumber,localeCompare:returnsNumber,match:returnsBoolean,normalize:returnsString,padEnd:returnsString,padStart:returnsString,repeat:returnsString,replace:{value:{callsArgs:[1],mutatesSelf:!1,returns:null,returnsPrimitive:UNKNOWN_LITERAL_STRING}},search:returnsNumber,slice:returnsString,split:returnsArray,startsWith:returnsBoolean,substr:returnsString,substring:returnsString,toLocaleLowerCase:returnsString,toLocaleUpperCase:returnsString,toLowerCase:returnsString,toUpperCase:returnsString,trim:returnsString,valueOf:returnsString},objectMembers);function getLiteralMembersForValue(e){switch(typeof e){case"boolean":return literalBooleanMembers;case"number":return literalNumberMembers;case"string":return literalStringMembers;default:return Object.create(null)}}function hasMemberEffectWhenCalled(e,t,r,s,n){if("string"!=typeof t||!e[t]||e[t].mutatesSelf&&r)return!0;if(!e[t].callsArgs)return!1;for(const r of e[t].callsArgs)if(s.args[r]&&s.args[r].hasEffectsWhenCalledAtPath(EMPTY_PATH,{args:NO_ARGS,withNew:!1},n))return!0;return!1}function getMemberReturnExpressionWhenCalled(e,t){return"string"==typeof t&&e[t]?null!==e[t].returnsPrimitive?e[t].returnsPrimitive:new e[t].returns:UNKNOWN_EXPRESSION}class Variable{constructor(e){this.alwaysRendered=!1,this.exportName=null,this.included=!1,this.isId=!1,this.isReassigned=!1,this.renderBaseName=null,this.renderName=null,this.safeExportName=null,this.name=e}addReference(e){}deoptimizePath(e){}getBaseVariableName(){return this.renderBaseName||this.renderName||this.name}getLiteralValueAtPath(e,t,r){return UnknownValue}getName(){const e=this.renderName||this.name;return this.renderBaseName?`${this.renderBaseName}.${e}`:e}getReturnExpressionWhenCalledAtPath(e,t,r){return UNKNOWN_EXPRESSION}hasEffectsWhenAccessedAtPath(e,t){return e.length>0}hasEffectsWhenAssignedAtPath(e,t){return!0}hasEffectsWhenCalledAtPath(e,t,r){return!0}include(e){this.included=!0}includeCallArguments(e,t){for(const r of t)r.include(e,!1)}markCalledFromTryStatement(){}setRenderNames(e,t){this.renderBaseName=e,this.renderName=t}setSafeName(e){this.renderName=e}toString(){return this.name}}class ExternalVariable extends Variable{constructor(e,t){super(t),this.module=e,this.isNamespace="*"===t,this.referenced=!1}addReference(e){this.referenced=!0,"default"!==this.name&&"*"!==this.name||this.module.suggestName(e.name)}include(){this.included||(this.included=!0,this.module.used=!0)}}const reservedWords$1="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public".split(" "),builtins="Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl".split(" "),blacklisted=Object.create(null);reservedWords$1.concat(builtins).forEach(e=>blacklisted[e]=!0);const illegalCharacters=/[^$_a-zA-Z0-9]/g,startsWithDigit=e=>/\d/.test(e[0]);function isLegal(e){return!startsWithDigit(e)&&!blacklisted[e]&&!illegalCharacters.test(e)}function makeLegal(e){return e=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase()).replace(illegalCharacters,"_"),(startsWithDigit(e)||blacklisted[e])&&(e=`_${e}`),e||"_"}const absolutePath=/^(?:\/|(?:[A-Za-z]:)?[\\|/])/,relativePath=/^\.?\.\//;function isAbsolute(e){return absolutePath.test(e)}function isRelative(e){return relativePath.test(e)}function normalize$1(e){return-1==e.indexOf("\\")?e:e.replace(/\\/g,"/")}class ExternalModule{constructor(e,t,r){this.exportsNames=!1,this.exportsNamespace=!1,this.mostCommonSuggestion=0,this.reexported=!1,this.renderPath=void 0,this.renormalizeRenderPath=!1,this.used=!1,this.graph=e,this.id=t,this.execIndex=1/0,this.moduleSideEffects=r;const s=t.split(/[\\/]/);this.variableName=makeLegal(s.pop()),this.nameSuggestions=Object.create(null),this.declarations=Object.create(null),this.exportedVariables=new Map}getVariableForExportName(e){"*"===e?this.exportsNamespace=!0:"default"!==e&&(this.exportsNames=!0);let t=this.declarations[e];return t||(this.declarations[e]=t=new ExternalVariable(this,e),this.exportedVariables.set(t,e),t)}setRenderPath(e,t){return this.renderPath="",e.paths&&(this.renderPath="function"==typeof e.paths?e.paths(this.id):e.paths[this.id]),this.renderPath||(isAbsolute(this.id)?(this.renderPath=normalize$1(path$2.relative(t,this.id)),this.renormalizeRenderPath=!0):this.renderPath=this.id),this.renderPath}suggestName(e){this.nameSuggestions[e]||(this.nameSuggestions[e]=0),this.nameSuggestions[e]+=1,this.nameSuggestions[e]>this.mostCommonSuggestion&&(this.mostCommonSuggestion=this.nameSuggestions[e],this.variableName=e)}warnUnusedImports(){const e=Object.keys(this.declarations).filter(e=>{if("*"===e)return!1;const t=this.declarations[e];return!t.included&&!this.reexported&&!t.referenced});if(0===e.length)return;const t=1===e.length?`'${e[0]}' is`:`${e.slice(0,-1).map(e=>`'${e}'`).join(", ")} and '${e.slice(-1)}' are`;this.graph.warn({code:"UNUSED_EXTERNAL_IMPORT",message:`${t} imported from external module '${this.id}' but never used`,names:e,source:this.id})}}function markModuleAndImpureDependenciesAsExecuted(e){e.isExecuted=!0;const t=[e],r=new Set;for(const e of t)for(const s of e.dependencies)s instanceof ExternalModule||s.isExecuted||!s.moduleSideEffects||r.has(s.id)||(s.isExecuted=!0,r.add(s.id),t.push(s))}const MAX_PATH_DEPTH=7;class LocalVariable extends Variable{constructor(e,t,r,s){super(e),this.additionalInitializers=null,this.calledFromTryStatement=!1,this.expressionsToBeDeoptimized=[],this.declarations=t?[t]:[],this.init=r,this.deoptimizationTracker=s.deoptimizationTracker,this.module=s.module}addDeclaration(e,t){this.declarations.push(e),null===this.additionalInitializers&&(this.additionalInitializers=null===this.init?[]:[this.init],this.init=UNKNOWN_EXPRESSION,this.isReassigned=!0),null!==t&&this.additionalInitializers.push(t)}consolidateInitializers(){if(null!==this.additionalInitializers){for(const e of this.additionalInitializers)e.deoptimizePath(UNKNOWN_PATH);this.additionalInitializers=null}}deoptimizePath(e){if(e.length>MAX_PATH_DEPTH||this.isReassigned)return;const t=this.deoptimizationTracker.getEntities(e);if(!t.has(this))if(t.add(this),0===e.length){if(!this.isReassigned){this.isReassigned=!0;for(const e of this.expressionsToBeDeoptimized)e.deoptimizeCache();this.init&&this.init.deoptimizePath(UNKNOWN_PATH)}}else this.init&&this.init.deoptimizePath(e)}getLiteralValueAtPath(e,t,r){if(this.isReassigned||!this.init||e.length>MAX_PATH_DEPTH)return UnknownValue;const s=t.getEntities(e);if(s.has(this.init))return UnknownValue;this.expressionsToBeDeoptimized.push(r),s.add(this.init);const n=this.init.getLiteralValueAtPath(e,t,r);return s.delete(this.init),n}getReturnExpressionWhenCalledAtPath(e,t,r){if(this.isReassigned||!this.init||e.length>MAX_PATH_DEPTH)return UNKNOWN_EXPRESSION;const s=t.getEntities(e);if(s.has(this.init))return UNKNOWN_EXPRESSION;this.expressionsToBeDeoptimized.push(r),s.add(this.init);const n=this.init.getReturnExpressionWhenCalledAtPath(e,t,r);return s.delete(this.init),n}hasEffectsWhenAccessedAtPath(e,t){if(0===e.length)return!1;if(this.isReassigned||e.length>MAX_PATH_DEPTH)return!0;const r=t.accessed.getEntities(e);return!r.has(this)&&(r.add(this),this.init&&this.init.hasEffectsWhenAccessedAtPath(e,t))}hasEffectsWhenAssignedAtPath(e,t){if(this.included||e.length>MAX_PATH_DEPTH)return!0;if(0===e.length)return!1;if(this.isReassigned)return!0;const r=t.assigned.getEntities(e);return!r.has(this)&&(r.add(this),this.init&&this.init.hasEffectsWhenAssignedAtPath(e,t))}hasEffectsWhenCalledAtPath(e,t,r){if(e.length>MAX_PATH_DEPTH||this.isReassigned)return!0;const s=(t.withNew?r.instantiated:r.called).getEntities(e);return!s.has(this)&&(s.add(this),this.init&&this.init.hasEffectsWhenCalledAtPath(e,t,r))}include(e){if(!this.included){this.included=!0,this.module.isExecuted||markModuleAndImpureDependenciesAsExecuted(this.module);for(const t of this.declarations){t.included||t.include(e,!1);let r=t.parent;for(;!r.included&&(r.included=!0,r.type!==Program);)r=r.parent}}}includeCallArguments(e,t){if(this.isReassigned)for(const r of t)r.include(e,!1);else this.init&&this.init.includeCallArguments(e,t)}markCalledFromTryStatement(){this.calledFromTryStatement=!0}}class Scope$1{constructor(){this.children=[],this.variables=new Map}addDeclaration(e,t,r=null,s){const n=e.name;let i=this.variables.get(n);return i?i.addDeclaration(e,r):(i=new LocalVariable(e.name,e,r||UNDEFINED_EXPRESSION,t),this.variables.set(n,i)),i}contains(e){return this.variables.has(e)}findVariable(e){throw new Error("Internal Error: findVariable needs to be implemented by a subclass")}}class ChildScope extends Scope$1{constructor(e){super(),this.accessedOutsideVariables=new Map,this.parent=e,e.children.push(this)}addAccessedGlobalsByFormat(e){let t=this.accessedGlobalVariablesByFormat;t||(t=this.accessedGlobalVariablesByFormat=new Map);for(const r of Object.keys(e)){let s=t.get(r);s||(s=new Set,t.set(r,s));for(const t of e[r])s.add(t)}this.parent instanceof ChildScope&&this.parent.addAccessedGlobalsByFormat(e)}addNamespaceMemberAccess(e,t){this.accessedOutsideVariables.set(e,t),this.parent instanceof ChildScope&&this.parent.addNamespaceMemberAccess(e,t)}addReturnExpression(e){this.parent instanceof ChildScope&&this.parent.addReturnExpression(e)}contains(e){return this.variables.has(e)||this.parent.contains(e)}deconflict(e){const t=new Set;for(const r of this.accessedOutsideVariables.values())r.included&&(t.add(r.getBaseVariableName()),r.exportName&&"system"===e&&t.add("exports"));const r=this.accessedGlobalVariablesByFormat&&this.accessedGlobalVariablesByFormat.get(e);if(r)for(const e of r)t.add(e);for(const[e,r]of this.variables)(r.included||r.alwaysRendered)&&r.setSafeName(getSafeName(e,t));for(const t of this.children)t.deconflict(e)}findLexicalBoundary(){return this.parent instanceof ChildScope?this.parent.findLexicalBoundary():this}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const r=this.parent.findVariable(e);return this.accessedOutsideVariables.set(e,r),r}}function getLocator$1(e,t){void 0===t&&(t={});var r=t.offsetLine||0,s=t.offsetColumn||0,n=e.split("\n"),i=0,a=n.map((function(e,t){var r=i+e.length+1,s={start:i,end:r,line:t};return i=r,s})),o=0;function l(e,t){return e.start<=t&&t<e.end}function c(e,t){return{line:r+e.line,column:s+t-e.start,character:t}}return function(t,r){"string"==typeof t&&(t=e.indexOf(t,r||0));for(var s=a[o],n=t>=s.end?1:-1;s;){if(l(s,t))return c(s,t);s=a[o+=n]}}}function locate(e,t,r){if("number"==typeof r)throw new Error("locate takes a { startIndex, offsetLine, offsetColumn } object as the third argument");return getLocator$1(e,r)(t,r&&r.startIndex)}const keys={Literal:[],Program:["body"]};function getAndCreateKeys(e){return keys[e.type]=Object.keys(e).filter(t=>"object"==typeof e[t]),keys[e.type]}const INCLUDE_PARAMETERS="variables";class NodeBase{constructor(e,t,r){this.included=!1,this.keys=keys[e.type]||getAndCreateKeys(e),this.parent=t,this.context=t.context,this.createScope(r),this.parseNode(e),this.initialise(),this.context.magicString.addSourcemapLocation(this.start),this.context.magicString.addSourcemapLocation(this.end)}bind(){for(const e of this.keys){const t=this[e];if(null!==t&&"annotations"!==e)if(Array.isArray(t))for(const e of t)null!==e&&e.bind();else t.bind()}}createScope(e){this.scope=e}declare(e,t){return[]}deoptimizePath(e){}getLiteralValueAtPath(e,t,r){return UnknownValue}getReturnExpressionWhenCalledAtPath(e,t,r){return UNKNOWN_EXPRESSION}hasEffects(e){for(const t of this.keys){const r=this[t];if(null!==r&&"annotations"!==t)if(Array.isArray(r)){for(const t of r)if(null!==t&&t.hasEffects(e))return!0}else if(r.hasEffects(e))return!0}return!1}hasEffectsWhenAccessedAtPath(e,t){return e.length>0}hasEffectsWhenAssignedAtPath(e,t){return!0}hasEffectsWhenCalledAtPath(e,t,r){return!0}include(e,t){this.included=!0;for(const r of this.keys){const s=this[r];if(null!==s&&"annotations"!==r)if(Array.isArray(s))for(const r of s)null!==r&&r.include(e,t);else s.include(e,t)}}includeCallArguments(e,t){for(const r of t)r.include(e,!1)}includeWithAllDeclaredVariables(e,t){this.include(t,e)}initialise(){}insertSemicolon(e){";"!==e.original[this.end-1]&&e.appendLeft(this.end,";")}locate(){const e=locate(this.context.code,this.start,{offsetLine:1});return e.file=this.context.fileName,e.toString=()=>JSON.stringify(e),e}parseNode(e){for(const t of Object.keys(e)){if(this.hasOwnProperty(t))continue;const r=e[t];if("object"!=typeof r||null===r||"annotations"===t)this[t]=r;else if(Array.isArray(r)){this[t]=[];for(const e of r)this[t].push(null===e?null:new(this.context.nodeConstructors[e.type]||this.context.nodeConstructors.UnknownNode)(e,this,this.scope))}else this[t]=new(this.context.nodeConstructors[r.type]||this.context.nodeConstructors.UnknownNode)(r,this,this.scope)}}render(e,t){for(const r of this.keys){const s=this[r];if(null!==s&&"annotations"!==r)if(Array.isArray(s))for(const r of s)null!==r&&r.render(e,t);else s.render(e,t)}}shouldBeIncluded(e){return this.included||!e.breakFlow&&this.hasEffects(createHasEffectsContext())}toString(){return this.context.code.slice(this.start,this.end)}}class ClassNode extends NodeBase{createScope(e){this.scope=new ChildScope(e)}hasEffectsWhenAccessedAtPath(e){return e.length>1}hasEffectsWhenAssignedAtPath(e){return e.length>1}hasEffectsWhenCalledAtPath(e,t,r){return!t.withNew||(this.body.hasEffectsWhenCalledAtPath(e,t,r)||null!==this.superClass&&this.superClass.hasEffectsWhenCalledAtPath(e,t,r))}initialise(){null!==this.id&&this.id.declare("class",this)}}class ClassDeclaration extends ClassNode{initialise(){super.initialise(),null!==this.id&&(this.id.variable.isId=!0)}parseNode(e){null!==e.id&&(this.id=new this.context.nodeConstructors.Identifier(e.id,this,this.scope.parent)),super.parseNode(e)}render(e,t){"system"===t.format&&this.id&&this.id.variable.exportName&&e.appendLeft(this.end,` exports('${this.id.variable.exportName}', ${this.id.variable.getName()});`),super.render(e,t)}}class ArgumentsVariable extends LocalVariable{constructor(e){super("arguments",null,UNKNOWN_EXPRESSION,e)}hasEffectsWhenAccessedAtPath(e){return e.length>1}hasEffectsWhenAssignedAtPath(){return!0}hasEffectsWhenCalledAtPath(){return!0}}class ThisVariable extends LocalVariable{constructor(e){super("this",null,null,e)}getLiteralValueAtPath(){return UnknownValue}hasEffectsWhenAccessedAtPath(e,t){return this.getInit(t).hasEffectsWhenAccessedAtPath(e,t)||super.hasEffectsWhenAccessedAtPath(e,t)}hasEffectsWhenAssignedAtPath(e,t){return this.getInit(t).hasEffectsWhenAssignedAtPath(e,t)||super.hasEffectsWhenAssignedAtPath(e,t)}hasEffectsWhenCalledAtPath(e,t,r){return this.getInit(r).hasEffectsWhenCalledAtPath(e,t,r)||super.hasEffectsWhenCalledAtPath(e,t,r)}getInit(e){return e.replacedVariableInits.get(this)||UNKNOWN_EXPRESSION}}class ParameterScope extends ChildScope{constructor(e,t){super(e),this.parameters=[],this.hasRest=!1,this.context=t,this.hoistedBodyVarScope=new ChildScope(this)}addParameterDeclaration(e){const t=e.name;let r=this.hoistedBodyVarScope.variables.get(t);return r?r.addDeclaration(e,null):r=new LocalVariable(t,e,UNKNOWN_EXPRESSION,this.context),this.variables.set(t,r),r}addParameterVariables(e,t){this.parameters=e;for(const t of e)for(const e of t)e.alwaysRendered=!0;this.hasRest=t}includeCallArguments(e,t){let r=!1,s=!1;const n=this.hasRest&&this.parameters[this.parameters.length-1];for(let i=t.length-1;i>=0;i--){const a=this.parameters[i]||n,o=t[i];if(a){r=!1;for(const e of a)e.included&&(s=!0),e.calledFromTryStatement&&(r=!0)}!s&&o.shouldBeIncluded(e)&&(s=!0),s&&o.include(e,r)}}}class ReturnValueScope extends ParameterScope{constructor(){super(...arguments),this.returnExpression=null,this.returnExpressions=[]}addReturnExpression(e){this.returnExpressions.push(e)}getReturnExpression(){return null===this.returnExpression&&this.updateReturnExpression(),this.returnExpression}updateReturnExpression(){if(1===this.returnExpressions.length)this.returnExpression=this.returnExpressions[0];else{this.returnExpression=UNKNOWN_EXPRESSION;for(const e of this.returnExpressions)e.deoptimizePath(UNKNOWN_PATH)}}}class FunctionScope extends ReturnValueScope{constructor(e,t){super(e,t),this.variables.set("arguments",this.argumentsVariable=new ArgumentsVariable(t)),this.variables.set("this",this.thisVariable=new ThisVariable(t))}findLexicalBoundary(){return this}includeCallArguments(e,t){if(super.includeCallArguments(e,t),this.argumentsVariable.included)for(const r of t)r.included||r.include(e,!1)}}function isReference(e,t){if("MemberExpression"===e.type)return!e.computed&&isReference(e.object,e);if("Identifier"===e.type){if(!t)return!0;switch(t.type){case"MemberExpression":return t.computed||e===t.object;case"MethodDefinition":return t.computed;case"Property":return t.computed||e===t.value;case"ExportSpecifier":case"ImportSpecifier":return e===t.local;case"LabeledStatement":case"BreakStatement":case"ContinueStatement":return!1;default:return!0}}return!1}const ValueProperties=Symbol("Value Properties"),PURE={pure:!0},IMPURE={pure:!1},O={__proto__:null,[ValueProperties]:IMPURE},PF={__proto__:null,[ValueProperties]:PURE},C={__proto__:null,[ValueProperties]:IMPURE,prototype:O},PC={__proto__:null,[ValueProperties]:PURE,prototype:O},ARRAY_TYPE={__proto__:null,[ValueProperties]:PURE,from:PF,of:PF,prototype:O},INTL_MEMBER={__proto__:null,[ValueProperties]:PURE,supportedLocalesOf:PC},knownGlobals={global:O,globalThis:O,self:O,window:O,__proto__:null,[ValueProperties]:IMPURE,Array:{__proto__:null,[ValueProperties]:IMPURE,from:PF,isArray:PF,of:PF,prototype:O},ArrayBuffer:{__proto__:null,[ValueProperties]:PURE,isView:PF,prototype:O},Atomics:O,BigInt:C,BigInt64Array:C,BigUint64Array:C,Boolean:PC,constructor:C,DataView:PC,Date:{__proto__:null,[ValueProperties]:PURE,now:PF,parse:PF,prototype:O,UTC:PF},decodeURI:PF,decodeURIComponent:PF,encodeURI:PF,encodeURIComponent:PF,Error:PC,escape:PF,eval:O,EvalError:PC,Float32Array:ARRAY_TYPE,Float64Array:ARRAY_TYPE,Function:C,hasOwnProperty:O,Infinity:O,Int16Array:ARRAY_TYPE,Int32Array:ARRAY_TYPE,Int8Array:ARRAY_TYPE,isFinite:PF,isNaN:PF,isPrototypeOf:O,JSON:O,Map:PC,Math:{__proto__:null,[ValueProperties]:IMPURE,abs:PF,acos:PF,acosh:PF,asin:PF,asinh:PF,atan:PF,atan2:PF,atanh:PF,cbrt:PF,ceil:PF,clz32:PF,cos:PF,cosh:PF,exp:PF,expm1:PF,floor:PF,fround:PF,hypot:PF,imul:PF,log:PF,log10:PF,log1p:PF,log2:PF,max:PF,min:PF,pow:PF,random:PF,round:PF,sign:PF,sin:PF,sinh:PF,sqrt:PF,tan:PF,tanh:PF,trunc:PF},NaN:O,Number:{__proto__:null,[ValueProperties]:PURE,isFinite:PF,isInteger:PF,isNaN:PF,isSafeInteger:PF,parseFloat:PF,parseInt:PF,prototype:O},Object:{__proto__:null,[ValueProperties]:PURE,create:PF,getNotifier:PF,getOwn:PF,getOwnPropertyDescriptor:PF,getOwnPropertyNames:PF,getOwnPropertySymbols:PF,getPrototypeOf:PF,is:PF,isExtensible:PF,isFrozen:PF,isSealed:PF,keys:PF,prototype:O},parseFloat:PF,parseInt:PF,Promise:{__proto__:null,[ValueProperties]:IMPURE,all:PF,prototype:O,race:PF,resolve:PF},propertyIsEnumerable:O,Proxy:O,RangeError:PC,ReferenceError:PC,Reflect:O,RegExp:PC,Set:PC,SharedArrayBuffer:C,String:{__proto__:null,[ValueProperties]:PURE,fromCharCode:PF,fromCodePoint:PF,prototype:O,raw:PF},Symbol:{__proto__:null,[ValueProperties]:PURE,for:PF,keyFor:PF,prototype:O},SyntaxError:PC,toLocaleString:O,toString:O,TypeError:PC,Uint16Array:ARRAY_TYPE,Uint32Array:ARRAY_TYPE,Uint8Array:ARRAY_TYPE,Uint8ClampedArray:ARRAY_TYPE,unescape:PF,URIError:PC,valueOf:O,WeakMap:PC,WeakSet:PC,clearInterval:C,clearTimeout:C,console:O,Intl:{__proto__:null,[ValueProperties]:IMPURE,Collator:INTL_MEMBER,DateTimeFormat:INTL_MEMBER,ListFormat:INTL_MEMBER,NumberFormat:INTL_MEMBER,PluralRules:INTL_MEMBER,RelativeTimeFormat:INTL_MEMBER},setInterval:C,setTimeout:C,TextDecoder:C,TextEncoder:C,URL:C,URLSearchParams:C,AbortController:C,AbortSignal:C,addEventListener:O,alert:O,AnalyserNode:C,Animation:C,AnimationEvent:C,applicationCache:O,ApplicationCache:C,ApplicationCacheErrorEvent:C,atob:O,Attr:C,Audio:C,AudioBuffer:C,AudioBufferSourceNode:C,AudioContext:C,AudioDestinationNode:C,AudioListener:C,AudioNode:C,AudioParam:C,AudioProcessingEvent:C,AudioScheduledSourceNode:C,AudioWorkletNode:C,BarProp:C,BaseAudioContext:C,BatteryManager:C,BeforeUnloadEvent:C,BiquadFilterNode:C,Blob:C,BlobEvent:C,blur:O,BroadcastChannel:C,btoa:O,ByteLengthQueuingStrategy:C,Cache:C,caches:O,CacheStorage:C,cancelAnimationFrame:O,cancelIdleCallback:O,CanvasCaptureMediaStreamTrack:C,CanvasGradient:C,CanvasPattern:C,CanvasRenderingContext2D:C,ChannelMergerNode:C,ChannelSplitterNode:C,CharacterData:C,clientInformation:O,ClipboardEvent:C,close:O,closed:O,CloseEvent:C,Comment:C,CompositionEvent:C,confirm:O,ConstantSourceNode:C,ConvolverNode:C,CountQueuingStrategy:C,createImageBitmap:O,Credential:C,CredentialsContainer:C,crypto:O,Crypto:C,CryptoKey:C,CSS:C,CSSConditionRule:C,CSSFontFaceRule:C,CSSGroupingRule:C,CSSImportRule:C,CSSKeyframeRule:C,CSSKeyframesRule:C,CSSMediaRule:C,CSSNamespaceRule:C,CSSPageRule:C,CSSRule:C,CSSRuleList:C,CSSStyleDeclaration:C,CSSStyleRule:C,CSSStyleSheet:C,CSSSupportsRule:C,CustomElementRegistry:C,customElements:O,CustomEvent:C,DataTransfer:C,DataTransferItem:C,DataTransferItemList:C,defaultstatus:O,defaultStatus:O,DelayNode:C,DeviceMotionEvent:C,DeviceOrientationEvent:C,devicePixelRatio:O,dispatchEvent:O,document:O,Document:C,DocumentFragment:C,DocumentType:C,DOMError:C,DOMException:C,DOMImplementation:C,DOMMatrix:C,DOMMatrixReadOnly:C,DOMParser:C,DOMPoint:C,DOMPointReadOnly:C,DOMQuad:C,DOMRect:C,DOMRectReadOnly:C,DOMStringList:C,DOMStringMap:C,DOMTokenList:C,DragEvent:C,DynamicsCompressorNode:C,Element:C,ErrorEvent:C,Event:C,EventSource:C,EventTarget:C,external:O,fetch:O,File:C,FileList:C,FileReader:C,find:O,focus:O,FocusEvent:C,FontFace:C,FontFaceSetLoadEvent:C,FormData:C,frames:O,GainNode:C,Gamepad:C,GamepadButton:C,GamepadEvent:C,getComputedStyle:O,getSelection:O,HashChangeEvent:C,Headers:C,history:O,History:C,HTMLAllCollection:C,HTMLAnchorElement:C,HTMLAreaElement:C,HTMLAudioElement:C,HTMLBaseElement:C,HTMLBodyElement:C,HTMLBRElement:C,HTMLButtonElement:C,HTMLCanvasElement:C,HTMLCollection:C,HTMLContentElement:C,HTMLDataElement:C,HTMLDataListElement:C,HTMLDetailsElement:C,HTMLDialogElement:C,HTMLDirectoryElement:C,HTMLDivElement:C,HTMLDListElement:C,HTMLDocument:C,HTMLElement:C,HTMLEmbedElement:C,HTMLFieldSetElement:C,HTMLFontElement:C,HTMLFormControlsCollection:C,HTMLFormElement:C,HTMLFrameElement:C,HTMLFrameSetElement:C,HTMLHeadElement:C,HTMLHeadingElement:C,HTMLHRElement:C,HTMLHtmlElement:C,HTMLIFrameElement:C,HTMLImageElement:C,HTMLInputElement:C,HTMLLabelElement:C,HTMLLegendElement:C,HTMLLIElement:C,HTMLLinkElement:C,HTMLMapElement:C,HTMLMarqueeElement:C,HTMLMediaElement:C,HTMLMenuElement:C,HTMLMetaElement:C,HTMLMeterElement:C,HTMLModElement:C,HTMLObjectElement:C,HTMLOListElement:C,HTMLOptGroupElement:C,HTMLOptionElement:C,HTMLOptionsCollection:C,HTMLOutputElement:C,HTMLParagraphElement:C,HTMLParamElement:C,HTMLPictureElement:C,HTMLPreElement:C,HTMLProgressElement:C,HTMLQuoteElement:C,HTMLScriptElement:C,HTMLSelectElement:C,HTMLShadowElement:C,HTMLSlotElement:C,HTMLSourceElement:C,HTMLSpanElement:C,HTMLStyleElement:C,HTMLTableCaptionElement:C,HTMLTableCellElement:C,HTMLTableColElement:C,HTMLTableElement:C,HTMLTableRowElement:C,HTMLTableSectionElement:C,HTMLTemplateElement:C,HTMLTextAreaElement:C,HTMLTimeElement:C,HTMLTitleElement:C,HTMLTrackElement:C,HTMLUListElement:C,HTMLUnknownElement:C,HTMLVideoElement:C,IDBCursor:C,IDBCursorWithValue:C,IDBDatabase:C,IDBFactory:C,IDBIndex:C,IDBKeyRange:C,IDBObjectStore:C,IDBOpenDBRequest:C,IDBRequest:C,IDBTransaction:C,IDBVersionChangeEvent:C,IdleDeadline:C,IIRFilterNode:C,Image:C,ImageBitmap:C,ImageBitmapRenderingContext:C,ImageCapture:C,ImageData:C,indexedDB:O,innerHeight:O,innerWidth:O,InputEvent:C,IntersectionObserver:C,IntersectionObserverEntry:C,isSecureContext:O,KeyboardEvent:C,KeyframeEffect:C,length:O,localStorage:O,location:O,Location:C,locationbar:O,matchMedia:O,MediaDeviceInfo:C,MediaDevices:C,MediaElementAudioSourceNode:C,MediaEncryptedEvent:C,MediaError:C,MediaKeyMessageEvent:C,MediaKeySession:C,MediaKeyStatusMap:C,MediaKeySystemAccess:C,MediaList:C,MediaQueryList:C,MediaQueryListEvent:C,MediaRecorder:C,MediaSettingsRange:C,MediaSource:C,MediaStream:C,MediaStreamAudioDestinationNode:C,MediaStreamAudioSourceNode:C,MediaStreamEvent:C,MediaStreamTrack:C,MediaStreamTrackEvent:C,menubar:O,MessageChannel:C,MessageEvent:C,MessagePort:C,MIDIAccess:C,MIDIConnectionEvent:C,MIDIInput:C,MIDIInputMap:C,MIDIMessageEvent:C,MIDIOutput:C,MIDIOutputMap:C,MIDIPort:C,MimeType:C,MimeTypeArray:C,MouseEvent:C,moveBy:O,moveTo:O,MutationEvent:C,MutationObserver:C,MutationRecord:C,name:O,NamedNodeMap:C,NavigationPreloadManager:C,navigator:O,Navigator:C,NetworkInformation:C,Node:C,NodeFilter:O,NodeIterator:C,NodeList:C,Notification:C,OfflineAudioCompletionEvent:C,OfflineAudioContext:C,offscreenBuffering:O,OffscreenCanvas:C,open:O,openDatabase:O,Option:C,origin:O,OscillatorNode:C,outerHeight:O,outerWidth:O,PageTransitionEvent:C,pageXOffset:O,pageYOffset:O,PannerNode:C,parent:O,Path2D:C,PaymentAddress:C,PaymentRequest:C,PaymentRequestUpdateEvent:C,PaymentResponse:C,performance:O,Performance:C,PerformanceEntry:C,PerformanceLongTaskTiming:C,PerformanceMark:C,PerformanceMeasure:C,PerformanceNavigation:C,PerformanceNavigationTiming:C,PerformanceObserver:C,PerformanceObserverEntryList:C,PerformancePaintTiming:C,PerformanceResourceTiming:C,PerformanceTiming:C,PeriodicWave:C,Permissions:C,PermissionStatus:C,personalbar:O,PhotoCapabilities:C,Plugin:C,PluginArray:C,PointerEvent:C,PopStateEvent:C,postMessage:O,Presentation:C,PresentationAvailability:C,PresentationConnection:C,PresentationConnectionAvailableEvent:C,PresentationConnectionCloseEvent:C,PresentationConnectionList:C,PresentationReceiver:C,PresentationRequest:C,print:O,ProcessingInstruction:C,ProgressEvent:C,PromiseRejectionEvent:C,prompt:O,PushManager:C,PushSubscription:C,PushSubscriptionOptions:C,queueMicrotask:O,RadioNodeList:C,Range:C,ReadableStream:C,RemotePlayback:C,removeEventListener:O,Request:C,requestAnimationFrame:O,requestIdleCallback:O,resizeBy:O,ResizeObserver:C,ResizeObserverEntry:C,resizeTo:O,Response:C,RTCCertificate:C,RTCDataChannel:C,RTCDataChannelEvent:C,RTCDtlsTransport:C,RTCIceCandidate:C,RTCIceTransport:C,RTCPeerConnection:C,RTCPeerConnectionIceEvent:C,RTCRtpReceiver:C,RTCRtpSender:C,RTCSctpTransport:C,RTCSessionDescription:C,RTCStatsReport:C,RTCTrackEvent:C,screen:O,Screen:C,screenLeft:O,ScreenOrientation:C,screenTop:O,screenX:O,screenY:O,ScriptProcessorNode:C,scroll:O,scrollbars:O,scrollBy:O,scrollTo:O,scrollX:O,scrollY:O,SecurityPolicyViolationEvent:C,Selection:C,ServiceWorker:C,ServiceWorkerContainer:C,ServiceWorkerRegistration:C,sessionStorage:O,ShadowRoot:C,SharedWorker:C,SourceBuffer:C,SourceBufferList:C,speechSynthesis:O,SpeechSynthesisEvent:C,SpeechSynthesisUtterance:C,StaticRange:C,status:O,statusbar:O,StereoPannerNode:C,stop:O,Storage:C,StorageEvent:C,StorageManager:C,styleMedia:O,StyleSheet:C,StyleSheetList:C,SubtleCrypto:C,SVGAElement:C,SVGAngle:C,SVGAnimatedAngle:C,SVGAnimatedBoolean:C,SVGAnimatedEnumeration:C,SVGAnimatedInteger:C,SVGAnimatedLength:C,SVGAnimatedLengthList:C,SVGAnimatedNumber:C,SVGAnimatedNumberList:C,SVGAnimatedPreserveAspectRatio:C,SVGAnimatedRect:C,SVGAnimatedString:C,SVGAnimatedTransformList:C,SVGAnimateElement:C,SVGAnimateMotionElement:C,SVGAnimateTransformElement:C,SVGAnimationElement:C,SVGCircleElement:C,SVGClipPathElement:C,SVGComponentTransferFunctionElement:C,SVGDefsElement:C,SVGDescElement:C,SVGDiscardElement:C,SVGElement:C,SVGEllipseElement:C,SVGFEBlendElement:C,SVGFEColorMatrixElement:C,SVGFEComponentTransferElement:C,SVGFECompositeElement:C,SVGFEConvolveMatrixElement:C,SVGFEDiffuseLightingElement:C,SVGFEDisplacementMapElement:C,SVGFEDistantLightElement:C,SVGFEDropShadowElement:C,SVGFEFloodElement:C,SVGFEFuncAElement:C,SVGFEFuncBElement:C,SVGFEFuncGElement:C,SVGFEFuncRElement:C,SVGFEGaussianBlurElement:C,SVGFEImageElement:C,SVGFEMergeElement:C,SVGFEMergeNodeElement:C,SVGFEMorphologyElement:C,SVGFEOffsetElement:C,SVGFEPointLightElement:C,SVGFESpecularLightingElement:C,SVGFESpotLightElement:C,SVGFETileElement:C,SVGFETurbulenceElement:C,SVGFilterElement:C,SVGForeignObjectElement:C,SVGGElement:C,SVGGeometryElement:C,SVGGradientElement:C,SVGGraphicsElement:C,SVGImageElement:C,SVGLength:C,SVGLengthList:C,SVGLinearGradientElement:C,SVGLineElement:C,SVGMarkerElement:C,SVGMaskElement:C,SVGMatrix:C,SVGMetadataElement:C,SVGMPathElement:C,SVGNumber:C,SVGNumberList:C,SVGPathElement:C,SVGPatternElement:C,SVGPoint:C,SVGPointList:C,SVGPolygonElement:C,SVGPolylineElement:C,SVGPreserveAspectRatio:C,SVGRadialGradientElement:C,SVGRect:C,SVGRectElement:C,SVGScriptElement:C,SVGSetElement:C,SVGStopElement:C,SVGStringList:C,SVGStyleElement:C,SVGSVGElement:C,SVGSwitchElement:C,SVGSymbolElement:C,SVGTextContentElement:C,SVGTextElement:C,SVGTextPathElement:C,SVGTextPositioningElement:C,SVGTitleElement:C,SVGTransform:C,SVGTransformList:C,SVGTSpanElement:C,SVGUnitTypes:C,SVGUseElement:C,SVGViewElement:C,TaskAttributionTiming:C,Text:C,TextEvent:C,TextMetrics:C,TextTrack:C,TextTrackCue:C,TextTrackCueList:C,TextTrackList:C,TimeRanges:C,toolbar:O,top:O,Touch:C,TouchEvent:C,TouchList:C,TrackEvent:C,TransitionEvent:C,TreeWalker:C,UIEvent:C,ValidityState:C,visualViewport:O,VisualViewport:C,VTTCue:C,WaveShaperNode:C,WebAssembly:O,WebGL2RenderingContext:C,WebGLActiveInfo:C,WebGLBuffer:C,WebGLContextEvent:C,WebGLFramebuffer:C,WebGLProgram:C,WebGLQuery:C,WebGLRenderbuffer:C,WebGLRenderingContext:C,WebGLSampler:C,WebGLShader:C,WebGLShaderPrecisionFormat:C,WebGLSync:C,WebGLTexture:C,WebGLTransformFeedback:C,WebGLUniformLocation:C,WebGLVertexArrayObject:C,WebSocket:C,WheelEvent:C,Window:C,Worker:C,WritableStream:C,XMLDocument:C,XMLHttpRequest:C,XMLHttpRequestEventTarget:C,XMLHttpRequestUpload:C,XMLSerializer:C,XPathEvaluator:C,XPathExpression:C,XPathResult:C,XSLTProcessor:C};for(const e of["window","global","self","globalThis"])knownGlobals[e]=knownGlobals;function getGlobalAtPath(e){let t=knownGlobals;for(const r of e){if("string"!=typeof r)return null;if(!(t=t[r]))return null}return t[ValueProperties]}function isPureGlobal(e){const t=getGlobalAtPath(e);return null!==t&&t.pure}function isGlobalMember(e){return 1===e.length?"undefined"===e[0]||null!==getGlobalAtPath(e):null!==getGlobalAtPath(e.slice(0,-1))}class GlobalVariable extends Variable{hasEffectsWhenAccessedAtPath(e){return!isGlobalMember([this.name,...e])}hasEffectsWhenCalledAtPath(e){return!isPureGlobal([this.name,...e])}}class Identifier$1 extends NodeBase{constructor(){super(...arguments),this.variable=null,this.bound=!1}addExportedVariables(e){null!==this.variable&&this.variable.exportName&&e.push(this.variable)}bind(){this.bound||(this.bound=!0,null===this.variable&&isReference(this,this.parent)&&(this.variable=this.scope.findVariable(this.name),this.variable.addReference(this)),null!==this.variable&&this.variable instanceof LocalVariable&&null!==this.variable.additionalInitializers&&this.variable.consolidateInitializers())}declare(e,t){let r;switch(e){case"var":r=this.scope.addDeclaration(this,this.context,t,!0);break;case"function":r=this.scope.addDeclaration(this,this.context,t,"function");break;case"let":case"const":case"class":r=this.scope.addDeclaration(this,this.context,t,!1);break;case"parameter":r=this.scope.addParameterDeclaration(this);break;default:throw new Error(`Internal Error: Unexpected identifier kind ${e}.`)}return[this.variable=r]}deoptimizePath(e){this.bound||this.bind(),0!==e.length||this.scope.contains(this.name)||this.disallowImportReassignment(),this.variable.deoptimizePath(e)}getLiteralValueAtPath(e,t,r){return this.bound||this.bind(),this.variable.getLiteralValueAtPath(e,t,r)}getReturnExpressionWhenCalledAtPath(e,t,r){return this.bound||this.bind(),this.variable.getReturnExpressionWhenCalledAtPath(e,t,r)}hasEffects(){return this.context.unknownGlobalSideEffects&&this.variable instanceof GlobalVariable&&this.variable.hasEffectsWhenAccessedAtPath(EMPTY_PATH)}hasEffectsWhenAccessedAtPath(e,t){return null!==this.variable&&this.variable.hasEffectsWhenAccessedAtPath(e,t)}hasEffectsWhenAssignedAtPath(e,t){return!this.variable||this.variable.hasEffectsWhenAssignedAtPath(e,t)}hasEffectsWhenCalledAtPath(e,t,r){return!this.variable||this.variable.hasEffectsWhenCalledAtPath(e,t,r)}include(e){this.included||(this.included=!0,null!==this.variable&&this.context.includeVariable(e,this.variable))}includeCallArguments(e,t){this.variable.includeCallArguments(e,t)}render(e,t,{renderedParentType:r,isCalleeOfRenderedParent:s,isShorthandProperty:n}=BLANK){if(this.variable){const t=this.variable.getName();t!==this.name&&(e.overwrite(this.start,this.end,t,{contentOnly:!0,storeName:!0}),n&&e.prependRight(this.start,`${this.name}: `)),"eval"===t&&r===CallExpression&&s&&e.appendRight(this.start,"0, ")}}disallowImportReassignment(){this.context.error({code:"ILLEGAL_REASSIGNMENT",message:`Illegal reassignment to import '${this.name}'`},this.start)}}class RestElement extends NodeBase{constructor(){super(...arguments),this.declarationInit=null}addExportedVariables(e){this.argument.addExportedVariables(e)}bind(){super.bind(),null!==this.declarationInit&&this.declarationInit.deoptimizePath([UnknownKey,UnknownKey])}declare(e,t){return this.declarationInit=t,this.argument.declare(e,UNKNOWN_EXPRESSION)}deoptimizePath(e){0===e.length&&this.argument.deoptimizePath(EMPTY_PATH)}hasEffectsWhenAssignedAtPath(e,t){return e.length>0||this.argument.hasEffectsWhenAssignedAtPath(EMPTY_PATH,t)}}class FunctionNode extends NodeBase{constructor(){super(...arguments),this.isPrototypeDeoptimized=!1}createScope(e){this.scope=new FunctionScope(e,this.context)}deoptimizePath(e){1===e.length&&("prototype"===e[0]?this.isPrototypeDeoptimized=!0:e[0]===UnknownKey&&(this.isPrototypeDeoptimized=!0,this.scope.getReturnExpression().deoptimizePath(UNKNOWN_PATH)))}getReturnExpressionWhenCalledAtPath(e){return 0===e.length?this.scope.getReturnExpression():UNKNOWN_EXPRESSION}hasEffects(){return null!==this.id&&this.id.hasEffects()}hasEffectsWhenAccessedAtPath(e){return!(e.length<=1)&&(e.length>2||"prototype"!==e[0]||this.isPrototypeDeoptimized)}hasEffectsWhenAssignedAtPath(e){return!(e.length<=1)&&(e.length>2||"prototype"!==e[0]||this.isPrototypeDeoptimized)}hasEffectsWhenCalledAtPath(e,t,r){if(e.length>0)return!0;for(const e of this.params)if(e.hasEffects(r))return!0;const s=r.replacedVariableInits.get(this.scope.thisVariable);r.replacedVariableInits.set(this.scope.thisVariable,t.withNew?new UnknownObjectExpression:UNKNOWN_EXPRESSION);const{breakFlow:n,ignore:i}=r;return r.ignore={breakStatements:!1,labels:new Set,returnAwaitYield:!0},!!this.body.hasEffects(r)||(r.breakFlow=n,s?r.replacedVariableInits.set(this.scope.thisVariable,s):r.replacedVariableInits.delete(this.scope.thisVariable),r.ignore=i,!1)}include(e,t){this.included=!0,this.id&&this.id.include(e);const r=this.scope.argumentsVariable.included;for(const s of this.params)s instanceof Identifier$1&&!r||s.include(e,t);const{breakFlow:s}=e;e.breakFlow=BREAKFLOW_NONE,this.body.include(e,t),e.breakFlow=s}includeCallArguments(e,t){this.scope.includeCallArguments(e,t)}initialise(){null!==this.id&&this.id.declare("function",this),this.scope.addParameterVariables(this.params.map(e=>e.declare("parameter",UNKNOWN_EXPRESSION)),this.params[this.params.length-1]instanceof RestElement),this.body.addImplicitReturnExpressionToScope()}parseNode(e){this.body=new this.context.nodeConstructors.BlockStatement(e.body,this,this.scope.hoistedBodyVarScope),super.parseNode(e)}}FunctionNode.prototype.preventChildBlockScope=!0;class FunctionDeclaration extends FunctionNode{initialise(){super.initialise(),null!==this.id&&(this.id.variable.isId=!0)}parseNode(e){null!==e.id&&(this.id=new this.context.nodeConstructors.Identifier(e.id,this,this.scope.parent)),super.parseNode(e)}}const WHITESPACE=/\s/;function getDeclarationStart(e,t=0){for(t=findFirstOccurrenceOutsideComment(e,"default",t)+7;WHITESPACE.test(e[t]);)t++;return t}function getIdInsertPosition(e,t,r=0){const s=findFirstOccurrenceOutsideComment(e,t,r)+t.length;e=e.slice(s,findFirstOccurrenceOutsideComment(e,"{",s));const n=findFirstOccurrenceOutsideComment(e,"*");return-1===n?s:s+n+1}class ExportDefaultDeclaration extends NodeBase{include(e,t){super.include(e,t),t&&this.context.includeVariable(e,this.variable)}initialise(){const e=this.declaration;this.declarationName=e.id&&e.id.name||this.declaration.name,this.variable=this.scope.addExportDefaultDeclaration(this.declarationName||this.context.getModuleName(),this,this.context),this.context.addExport(this)}render(e,t,{start:r,end:s}=BLANK){const n=getDeclarationStart(e.original,this.start);if(this.declaration instanceof FunctionDeclaration)this.renderNamedDeclaration(e,n,"function",null===this.declaration.id,t);else if(this.declaration instanceof ClassDeclaration)this.renderNamedDeclaration(e,n,"class",null===this.declaration.id,t);else{if(this.variable.getOriginalVariable()!==this.variable)return void("system"===t.format&&this.variable.exportName?e.overwrite(r,s,`exports('${this.variable.exportName}', ${this.variable.getName()});`):treeshakeNode(this,e,r,s));if(!this.variable.included)return e.remove(this.start,n),this.declaration.render(e,t,{isCalleeOfRenderedParent:!1,renderedParentType:ExpressionStatement}),void(";"!==e.original[this.end-1]&&e.appendLeft(this.end,";"));this.renderVariableDeclaration(e,n,t)}this.declaration.render(e,t)}renderNamedDeclaration(e,t,r,s,n){const i=this.variable.getName();e.remove(this.start,t),s&&e.appendLeft(getIdInsertPosition(e.original,r,t),` ${i}`),"system"===n.format&&this.declaration instanceof ClassDeclaration&&this.variable.exportName&&e.appendLeft(this.end,` exports('${this.variable.exportName}', ${i});`)}renderVariableDeclaration(e,t,r){const s="system"===r.format&&this.variable.exportName?`exports('${this.variable.exportName}', `:"";e.overwrite(this.start,t,`${r.varOrConst} ${this.variable.getName()} = ${s}`);const n=59===e.original.charCodeAt(this.end-1);s?e.appendRight(n?this.end-1:this.end,")"+(n?"":";")):n||e.appendLeft(this.end,";")}}ExportDefaultDeclaration.prototype.needsBoundaries=!0;class ExportDefaultVariable extends LocalVariable{constructor(e,t,r){super(e,t,t.declaration,r),this.hasId=!1,this.originalId=null,this.originalVariable=null;const s=t.declaration;(s instanceof FunctionDeclaration||s instanceof ClassDeclaration)&&s.id?(this.hasId=!0,this.originalId=s.id):s instanceof Identifier$1&&(this.originalId=s)}addReference(e){this.hasId||(this.name=e.name)}getAssignedVariableName(){return this.originalId&&this.originalId.name||null}getBaseVariableName(){const e=this.getOriginalVariable();return e===this?super.getBaseVariableName():e.getBaseVariableName()}getName(){const e=this.getOriginalVariable();return e===this?super.getName():e.getName()}getOriginalVariable(){if(null===this.originalVariable)if(!this.originalId||!this.hasId&&this.originalId.variable.isReassigned)this.originalVariable=this;else{const e=this.originalId.variable;this.originalVariable=e instanceof ExportDefaultVariable?e.getOriginalVariable():e}return this.originalVariable}setRenderNames(e,t){const r=this.getOriginalVariable();r===this?super.setRenderNames(e,t):r.setRenderNames(e,t)}setSafeName(e){const t=this.getOriginalVariable();t===this?super.setSafeName(e):t.setSafeName(e)}}const MISSING_EXPORT_SHIM_VARIABLE="_missingExportShim",INTEROP_DEFAULT_VARIABLE="_interopDefault",INTEROP_NAMESPACE_VARIABLE="_interopNamespace";class ExportShimVariable extends Variable{constructor(e){super(MISSING_EXPORT_SHIM_VARIABLE),this.module=e}}class NamespaceVariable extends Variable{constructor(e){super(e.getModuleName()),this.memberVariables=Object.create(null),this.containsExternalNamespace=!1,this.referencedEarly=!1,this.references=[],this.context=e,this.module=e.module}addReference(e){this.references.push(e),this.name=e.name}deoptimizePath(){for(const e in this.memberVariables)this.memberVariables[e].deoptimizePath(UNKNOWN_PATH)}include(e){if(!this.included){this.containsExternalNamespace&&this.context.error({code:"NAMESPACE_CANNOT_CONTAIN_EXTERNAL",id:this.module.id,message:`Cannot create an explicit namespace object for module "${this.context.getModuleName()}" because it contains a reexported external namespace`},void 0),this.included=!0;for(const e of this.references)if(e.context.getModuleExecIndex()<=this.context.getModuleExecIndex()){this.referencedEarly=!0;break}if(this.context.preserveModules)for(const t of Object.keys(this.memberVariables))this.memberVariables[t].include(e);else for(const t of Object.keys(this.memberVariables))this.context.includeVariable(e,this.memberVariables[t])}}initialise(){for(const e of this.context.getExports().concat(this.context.getReexports()))"*"===e[0]&&e.length>1&&(this.containsExternalNamespace=!0),this.memberVariables[e]=this.context.traceExport(e)}renderBlock(e){const t=e.compact?"":" ",r=e.compact?"":"\n",s=e.indent,n=Object.keys(this.memberVariables).map(r=>{const n=this.memberVariables[r];if(this.referencedEarly||n.isReassigned)return`${s}get ${r}${t}()${t}{${t}return ${n.getName()}${e.compact?"":";"}${t}}`;const i=RESERVED_NAMES[r]?`'${r}'`:r;return`${s}${i}: ${n.getName()}`});n.unshift(`${s}__proto__:${t}null`),e.namespaceToStringTag&&n.unshift(`${s}[Symbol.toStringTag]:${t}'Module'`);const i=this.getName(),a=e.freeze?"/*#__PURE__*/Object.freeze":"",o=n.join(`,${r}`);let l=`${e.varOrConst} ${i}${t}=${t}${a}({${r}${o}${r}});`;return"system"===e.format&&this.exportName&&(l+=`${r}exports('${this.exportName}',${t}${i});`),l}renderFirst(){return this.referencedEarly}}NamespaceVariable.prototype.isNamespace=!0;const esModuleExport="Object.defineProperty(exports, '__esModule', { value: true });",compactEsModuleExport="Object.defineProperty(exports,'__esModule',{value:true});";function getExportBlock(e,t,r,s,n,i,a="return "){const o=n?"":" ",l=n?"":"\n";if(!r){let r;if(e.length>0)r=e[0].local;else for(const e of t)if(e.reexports){const t=e.reexports[0];r=e.namedExportsMode&&"*"!==t.imported&&"default"!==t.imported?`${e.name}.${t.imported}`:e.name}return`${a}${r};`}let c="";t.forEach(({name:e,reexports:t})=>{t&&r&&t.forEach(t=>{"*"===t.reexported&&(c&&(c+=l),t.needsLiveBinding?c+=`Object.keys(${e}).forEach(function${o}(k)${o}{${l}`+`${i}if${o}(k${o}!==${o}'default')${o}Object.defineProperty(exports,${o}k,${o}{${l}`+`${i}${i}enumerable:${o}true,${l}`+`${i}${i}get:${o}function${o}()${o}{${l}`+`${i}${i}${i}return ${e}[k];${l}`+`${i}${i}}${l}${i}});${l}});`:c+=`Object.keys(${e}).forEach(function${o}(k)${o}{${l}`+`${i}if${o}(k${o}!==${o}'default')${o}exports[k]${o}=${o}${e}[k];${l}});`)})});for(const{name:e,imports:n,reexports:a,isChunk:h,namedExportsMode:u,exportsNames:p}of t)if(a&&r)for(const t of a)if("default"!==t.imported||h)if("*"!==t.imported){c&&(c+=l);const r="default"!==t.imported||u?`${e}.${t.imported}`:e;c+=t.needsLiveBinding?`Object.defineProperty(exports,${o}'${t.reexported}',${o}{${l}`+`${i}enumerable:${o}true,${l}`+`${i}get:${o}function${o}()${o}{${l}`+`${i}${i}return ${r};${l}${i}}${l}});`:`exports.${t.reexported}${o}=${o}${r};`}else"*"!==t.reexported&&(c&&(c+=l),c+=`exports.${t.reexported}${o}=${o}${e};`);else c&&(c+=l),p&&(a.some(e=>"default"===e.imported?"default"===e.reexported:"*"!==e.imported)||n&&n.some(e=>"default"!==e.imported))?c+=`exports.${t.reexported}${o}=${o}${e}${!1!==s?"__default":".default"};`:c+=`exports.${t.reexported}${o}=${o}${e};`;for(const t of e){const e=`exports.${t.exported}`,r=t.local;e!==r&&(c&&(c+=l),c+=`${e}${o}=${o}${r};`)}return c}function getInteropBlock(e,t,r){const s=t.compact?"":" ";return e.map(({name:e,exportsNames:n,exportsDefault:i,namedExportsMode:a})=>a&&i&&!1!==t.interop?n?`${r} ${e}__default${s}=${s}'default'${s}in ${e}${s}?`+`${s}${e}['default']${s}:${s}${e};`:`${e}${s}=${s}${e}${s}&&${s}${e}.hasOwnProperty('default')${s}?`+`${s}${e}['default']${s}:${s}${e};`:null).filter(Boolean).join(t.compact?"":"\n")}function copyPropertyLiveBinding(e,t,r,s){return`${s}var d${e}=${e}Object.getOwnPropertyDescriptor(e,${e}k);${t}`+`${s}Object.defineProperty(n,${e}k,${e}d.get${e}?${e}d${e}:${e}{${t}`+`${s}${r}enumerable:${e}true,${t}`+`${s}${r}get:${e}function${e}()${e}{${t}`+`${s}${r}${r}return e[k];${t}`+`${s}${r}}${t}`+`${s}});${t}`}function copyPropertyStatic(e,t,r,s){return`${s}n[k]${e}=e${e}[k];${t}`}function getInteropNamespace(e,t,r,s){return`function ${INTEROP_NAMESPACE_VARIABLE}(e)${e}{${t}`+`${r}if${e}(e${e}&&${e}e.__esModule)${e}{${e}return e;${e}}${e}else${e}{${t}`+`${r}${r}var n${e}=${e}{};${t}`+`${r}${r}if${e}(e)${e}{${t}`+`${r}${r}${r}Object.keys(e).forEach(function${e}(k)${e}{${t}`+(s?copyPropertyLiveBinding:copyPropertyStatic)(e,t,r,r+r+r+r)+`${r}${r}${r}});${t}`+`${r}${r}}${t}`+`${r}${r}n['default']${e}=${e}e;${t}`+`${r}${r}return n;${t}`+`${r}}${t}`+`}${t}${t}`}const builtins$1={assert:!0,buffer:!0,console:!0,constants:!0,domain:!0,events:!0,http:!0,https:!0,os:!0,path:!0,process:!0,punycode:!0,querystring:!0,stream:!0,string_decoder:!0,timers:!0,tty:!0,url:!0,util:!0,vm:!0,zlib:!0};function warnOnBuiltins(e,t){const r=t.map(({id:e})=>e).filter(e=>e in builtins$1);r.length&&e({code:"MISSING_NODE_BUILTINS",message:`Creating a browser bundle that depends on Node.js built-in ${1===r.length?`module ('${r[0]}')`:`modules (${r.slice(0,-1).map(e=>`'${e}'`).join(", ")} and '${r.slice(-1)}')`}. You might need to include https://www.npmjs.com/package/rollup-plugin-node-builtins`,modules:r})}function removeExtensionFromRelativeAmdId(e){return"."===e[0]&&e.endsWith(".js")?e.slice(0,-3):e}function amd(e,{accessedGlobals:t,dependencies:r,exports:s,hasExports:n,indentString:i,intro:a,isEntryModuleFacade:o,namedExportsMode:l,outro:c,varOrConst:h,warn:u},p){warnOnBuiltins(u,r);const d=r.map(e=>`'${removeExtensionFromRelativeAmdId(e.id)}'`),f=r.map(e=>e.name),m=p.compact?"":"\n",g=p.compact?"":" ";l&&n&&(f.unshift("exports"),d.unshift("'exports'")),t.has("require")&&(f.unshift("require"),d.unshift("'require'")),t.has("module")&&(f.unshift("module"),d.unshift("'module'"));const E=p.amd||{},y=(E.id?`'${E.id}',${g}`:"")+(d.length?`[${d.join(`,${g}`)}],${g}`:""),_=!1!==p.strict?`${g}'use strict';`:"",x=`${E.define||"define"}(${y}function${g}(${f.join(`,${g}`)})${g}{${_}${m}${m}`,b=getInteropBlock(r,p,h);b&&e.prepend(b+m+m),t.has(INTEROP_NAMESPACE_VARIABLE)&&e.prepend(getInteropNamespace(g,m,i,!1!==p.externalLiveBindings)),a&&e.prepend(a);const S=getExportBlock(s,r,l,p.interop,p.compact,i);return S&&e.append(m+m+S),l&&n&&o&&p.esModule&&e.append(`${m}${m}${p.compact?compactEsModuleExport:esModuleExport}`),c&&e.append(c),e.indent(i).append(m+m+"});").prepend(x)}function cjs(e,{accessedGlobals:t,dependencies:r,exports:s,hasExports:n,indentString:i,intro:a,isEntryModuleFacade:o,namedExportsMode:l,outro:c,varOrConst:h},u){const p=u.compact?"":"\n",d=u.compact?"":" ";a=(!1===u.strict?a:`'use strict';${p}${p}${a}`)+(l&&n&&o&&u.esModule?`${u.compact?compactEsModuleExport:esModuleExport}${p}${p}`:"");let f=!1;const m=!1!==u.interop;let g,E=!1;g="";for(const{id:e,namedExportsMode:t,isChunk:s,name:n,reexports:i,imports:a,exportsNames:o,exportsDefault:l}of r)i||a?(g+=u.compact&&E?",":`${g?`;${p}`:""}${h} `,E=!0,m&&!s&&l&&t?(f=!0,g+=o?`${n}${d}=${d}require('${e}')${u.compact?",":`;\n${h} `}${n}__default${d}=${d}${INTEROP_DEFAULT_VARIABLE}(${n})`:`${n}${d}=${d}${INTEROP_DEFAULT_VARIABLE}(require('${e}'))`):g+=`${n}${d}=${d}require('${e}')`):(g&&(g+=!u.compact||E?`;${p}`:","),E=!1,g+=`require('${e}')`);if(g&&(g+=";"),f){const e=u.compact?"e":"ex";a+=`function ${INTEROP_DEFAULT_VARIABLE}${d}(${e})${d}{${d}return${d}`+`(${e}${d}&&${d}(typeof ${e}${d}===${d}'object')${d}&&${d}'default'${d}in ${e})${d}`+`?${d}${e}['default']${d}:${d}${e}${u.compact?"":"; "}}${p}${p}`}t.has(INTEROP_NAMESPACE_VARIABLE)&&(a+=getInteropNamespace(d,p,i,!1!==u.externalLiveBindings)),g&&(a+=g+p+p);const y=getExportBlock(s,r,l,u.interop,u.compact,i,`module.exports${d}=${d}`);return e.prepend(a),y&&e.append(p+p+y),c&&e.append(c),e}function esm(e,{intro:t,outro:r,dependencies:s,exports:n},i){const a=i.compact?"":" ",o=i.compact?"":"\n",l=s.map(({id:e,reexports:t,imports:r,name:s})=>{if(!t&&!r)return`import${a}'${e}';`;let n="";if(r){const t=r.find(e=>"default"===e.imported),s=r.find(e=>"*"===e.imported);s&&(n+=`import${a}*${a}as ${s.local} from${a}'${e}';`,r.length>1&&(n+=o)),t&&1===r.length?n+=`import ${t.local} from${a}'${e}';`:(!s||r.length>1)&&(n+=`import ${t?`${t.local},${a}`:""}{${a}${r.filter(e=>e!==t&&e!==s).map(e=>e.imported===e.local?e.imported:`${e.imported} as ${e.local}`).join(`,${a}`)}${a}}${a}from${a}'${e}';`)}if(t){r&&(n+=o);const i=t.find(e=>"*"===e.reexported),l=t.find(e=>"*"===e.imported&&"*"!==e.reexported);if(i){if(n+=`export${a}*${a}from${a}'${e}';`,1===t.length)return n;n+=o}if(l){if(r&&r.some(e=>"*"===e.imported&&e.local===s)||(n+=`import${a}*${a}as ${s} from${a}'${e}';${o}`),n+=`export${a}{${a}${s===l.reexported?s:`${s} as ${l.reexported}`} };`,t.length===(i?2:1))return n;n+=o}n+=`export${a}{${a}${t.filter(e=>e!==i&&e!==l).map(e=>e.imported===e.reexported?e.imported:`${e.imported} as ${e.reexported}`).join(`,${a}`)}${a}}${a}from${a}'${e}';`}return n}).join(o);l&&(t+=l+o+o),t&&e.prepend(t);const c=[],h=[];return n.forEach(e=>{"default"===e.exported?c.push(`export default ${e.local};`):h.push(e.exported===e.local?e.local:`${e.local} as ${e.exported}`)}),h.length&&c.push(`export${a}{${a}${h.join(`,${a}`)}${a}};`),c.length&&e.append(o+o+c.join(o).trim()),r&&e.append(r),e.trim()}function spaces(e){let t="";for(;e--;)t+=" ";return t}function tabsToSpaces(e){return e.replace(/^\t+/,e=>e.split("\t").join("  "))}function getCodeFrame(e,t,r){let s=e.split("\n");const n=Math.max(0,t-3);let i=Math.min(t+2,s.length);for(s=s.slice(n,i);!/\S/.test(s[s.length-1]);)s.pop(),i-=1;const a=String(i).length;return s.map((e,s)=>{const i=n+s+1===t;let o=String(s+n+1);for(;o.length<a;)o=` ${o}`;if(i){const t=spaces(a+2+tabsToSpaces(e.slice(0,r)).length)+"^";return`${o}: ${tabsToSpaces(e)}\n${t}`}return`${o}: ${tabsToSpaces(e)}`}).join("\n")}function sanitizeFileName(e){return e.replace(/[\0?*]/g,"_")}function getAliasName(e){const t=path$2.basename(e);return t.substr(0,t.length-path$2.extname(e).length)}function relativeId(e){return"undefined"!=typeof process&&isAbsolute(e)?path$2.relative(process.cwd(),e):e}function isPlainPathFragment(e){return"/"!==e[0]&&!("."===e[0]&&("/"===e[1]||"."===e[1]))&&sanitizeFileName(e)===e}function error(e,t){throw e instanceof Error||(e=Object.assign(new Error(e.message),e)),t&&Object.assign(e,t),e}function augmentCodeLocation(e,t,r,s){if("object"==typeof t){const{line:r,column:n}=t;e.loc={file:s,line:r,column:n}}else{e.pos=t;const{line:n,column:i}=locate(r,t,{offsetLine:1});e.loc={file:s,line:n,column:i}}if(void 0===e.frame){const{line:t,column:s}=e.loc;e.frame=getCodeFrame(r,t,s)}}var Errors;function errAssetNotFinalisedForFileName(e){return{code:Errors.ASSET_NOT_FINALISED,message:`Plugin error - Unable to get file name for asset "${e}". Ensure that the source is set and that generate is called first.`}}function errCannotEmitFromOptionsHook(){return{code:Errors.CANNOT_EMIT_FROM_OPTIONS_HOOK,message:'Cannot emit files or set asset sources in the "outputOptions" hook, use the "renderStart" hook instead.'}}function errChunkNotGeneratedForFileName(e){return{code:Errors.CHUNK_NOT_GENERATED,message:`Plugin error - Unable to get file name for chunk "${e}". Ensure that generate is called first.`}}function errAssetReferenceIdNotFoundForSetSource(e){return{code:Errors.ASSET_NOT_FOUND,message:`Plugin error - Unable to set the source for unknown asset "${e}".`}}function errAssetSourceAlreadySet(e){return{code:Errors.ASSET_SOURCE_ALREADY_SET,message:`Unable to set the source for asset "${e}", source already set.`}}function errNoAssetSourceSet(e){return{code:Errors.ASSET_SOURCE_MISSING,message:`Plugin error creating asset "${e}" - no asset source set.`}}function errBadLoader(e){return{code:Errors.BAD_LOADER,message:`Error loading ${relativeId(e)}: plugin load hook should return a string, a { code, map } object, or nothing/null`}}function errDeprecation(e){return Object.assign({code:Errors.DEPRECATED_FEATURE},"string"==typeof e?{message:e}:e)}function errFileReferenceIdNotFoundForFilename(e){return{code:Errors.FILE_NOT_FOUND,message:`Plugin error - Unable to get file name for unknown file "${e}".`}}function errFileNameConflict(e){return{code:Errors.FILE_NAME_CONFLICT,message:`Could not emit file "${e}" as it conflicts with an already emitted file.`}}function errCannotAssignModuleToChunk(e,t,r){return{code:Errors.INVALID_CHUNK,message:`Cannot assign ${relativeId(e)} to the "${t}" chunk as it is already in the "${r}" chunk.`}}function errInternalIdCannotBeExternal(e,t){return{code:Errors.INVALID_EXTERNAL_ID,message:`'${e}' is imported as an external by ${relativeId(t)}, but is already an existing non-external module id.`}}function errInvalidOption(e,t){return{code:Errors.INVALID_OPTION,message:`Invalid value for option "${e}" - ${t}.`}}function errInvalidRollupPhaseForAddWatchFile(){return{code:Errors.INVALID_ROLLUP_PHASE,message:"Cannot call addWatchFile after the build has finished."}}function errInvalidRollupPhaseForChunkEmission(){return{code:Errors.INVALID_ROLLUP_PHASE,message:"Cannot emit chunks after module loading has finished."}}function errNamespaceConflict(e,t,r){return{code:Errors.NAMESPACE_CONFLICT,message:`Conflicting namespaces: ${relativeId(t.id)} re-exports '${e}' from both ${relativeId(t.exportsAll[e])} and ${relativeId(r.exportsAll[e])} (will be ignored)`,name:e,reexporter:t.id,sources:[t.exportsAll[e],r.exportsAll[e]]}}function errEntryCannotBeExternal(e){return{code:Errors.UNRESOLVED_ENTRY,message:`Entry module cannot be external (${relativeId(e)}).`}}function errUnresolvedEntry(e){return{code:Errors.UNRESOLVED_ENTRY,message:`Could not resolve entry module (${relativeId(e)}).`}}function errUnresolvedImport(e,t){return{code:Errors.UNRESOLVED_IMPORT,message:`Could not resolve '${e}' from ${relativeId(t)}`}}function errUnresolvedImportTreatedAsExternal(e,t){return{code:Errors.UNRESOLVED_IMPORT,importer:relativeId(t),message:`'${e}' is imported by ${relativeId(t)}, but could not be resolved – treating it as an external dependency`,source:e,url:"https://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency"}}function errFailedValidation(e){return{code:Errors.VALIDATION_ERROR,message:e}}!function(e){e.ASSET_NOT_FINALISED="ASSET_NOT_FINALISED",e.ASSET_NOT_FOUND="ASSET_NOT_FOUND",e.ASSET_SOURCE_ALREADY_SET="ASSET_SOURCE_ALREADY_SET",e.ASSET_SOURCE_MISSING="ASSET_SOURCE_MISSING",e.BAD_LOADER="BAD_LOADER",e.CANNOT_EMIT_FROM_OPTIONS_HOOK="CANNOT_EMIT_FROM_OPTIONS_HOOK",e.CHUNK_NOT_GENERATED="CHUNK_NOT_GENERATED",e.DEPRECATED_FEATURE="DEPRECATED_FEATURE",e.FILE_NOT_FOUND="FILE_NOT_FOUND",e.FILE_NAME_CONFLICT="FILE_NAME_CONFLICT",e.INVALID_CHUNK="INVALID_CHUNK",e.INVALID_EXTERNAL_ID="INVALID_EXTERNAL_ID",e.INVALID_OPTION="INVALID_OPTION",e.INVALID_PLUGIN_HOOK="INVALID_PLUGIN_HOOK",e.INVALID_ROLLUP_PHASE="INVALID_ROLLUP_PHASE",e.NAMESPACE_CONFLICT="NAMESPACE_CONFLICT",e.PLUGIN_ERROR="PLUGIN_ERROR",e.UNRESOLVED_ENTRY="UNRESOLVED_ENTRY",e.UNRESOLVED_IMPORT="UNRESOLVED_IMPORT",e.VALIDATION_ERROR="VALIDATION_ERROR"}(Errors||(Errors={}));const shouldUseDot=/^[a-zA-Z$_][a-zA-Z0-9$_]*$/;function property(e){return shouldUseDot.test(e)?`.${e}`:`['${e}']`}function keypath(e){return e.split(".").map(property).join("")}function setupNamespace(e,t,r,s){const n=e.split(".");r&&(n[0]=("function"==typeof r?r(n[0]):r[n[0]])||n[0]);const i=s?"":" ";n.pop();let a=t;return n.map(e=>(a+=property(e),`${a}${i}=${i}${a}${i}||${i}{}${s?"":";"}`)).join(s?",":"\n")+(s&&n.length?";":"\n")}function assignToDeepVariable(e,t,r,s,n){const i=s?"":" ",a=e.split(".");r&&(a[0]=("function"==typeof r?r(a[0]):r[a[0]])||a[0]);const o=a.pop();let l=t,c=a.map(e=>(l+=property(e),`${l}${i}=${i}${l}${i}||${i}{}`)).concat(`${l}${property(o)}`).join(`,${i}`).concat(`${i}=${i}${n}`);return a.length>0&&(c=`(${c})`),c}function trimEmptyImports(e){let t=e.length;for(;t--;){const r=e[t];if(r.exportsDefault||r.exportsNames)return e.slice(0,t+1)}return[]}const thisProp=e=>`this${keypath(e)}`;function iife(e,{dependencies:t,exports:r,hasExports:s,indentString:n,intro:i,namedExportsMode:a,outro:o,varOrConst:l,warn:c},h){const u=h.compact?"":" ",p=h.compact?"":"\n",{extend:d,name:f}=h,m=f&&-1!==f.indexOf("."),g=!d&&!m;f&&g&&!isLegal(f)&&error({code:"ILLEGAL_IDENTIFIER_AS_NAME",message:`Given name (${f}) is not legal JS identifier. If you need this you can try --extend option`}),warnOnBuiltins(c,t);const E=trimEmptyImports(t),y=E.map(e=>e.globalName||"null"),_=E.map(e=>e.name);s&&!f&&error({code:"INVALID_OPTION",message:'You must supply "output.name" for IIFE bundles.'}),a&&s&&(d?(y.unshift(`${thisProp(f)}${u}=${u}${thisProp(f)}${u}||${u}{}`),_.unshift("exports")):(y.unshift("{}"),_.unshift("exports")));const x=!1!==h.strict?`${n}'use strict';${p}${p}`:"";let b=`(function${u}(${_.join(`,${u}`)})${u}{${p}${x}`;!s||d&&a||(b=(g?`${l} ${f}`:thisProp(f))+`${u}=${u}${b}`),m&&s&&(b=setupNamespace(f,"this",h.globals,h.compact)+b);let S=`${p}${p}}(${y.join(`,${u}`)}));`;!d&&a&&s&&(S=`${p}${p}${n}return exports;${S}`);const v=getInteropBlock(t,h,l);v&&e.prepend(v+p+p),i&&e.prepend(i);const C=getExportBlock(r,t,a,h.interop,h.compact,n);return C&&e.append(p+p+C),o&&e.append(o),e.indent(n).prepend(b).append(S)}function getStarExcludes({dependencies:e,exports:t}){const r=new Set(t.map(e=>e.exported));return r.has("default")||r.add("default"),e.forEach(({reexports:e})=>{e&&e.forEach(e=>{"*"===e.imported||r.has(e.reexported)||r.add(e.reexported)})}),r}const getStarExcludesBlock=(e,t,r,s,n)=>e?`${n}${s}${t} _starExcludes${r}=${r}{${r}${Array.from(e).join(`:${r}1,${r}`)}${e.size?`:${r}1`:""}${r}};`:"",getImportBindingsBlock=(e,t,r,s)=>e.length?`${s}${r}var ${e.join(`,${t}`)};`:"";function getExportsBlock(e,t,r,s){return 0===e.length?"":1===e.length?`${r}${r}${r}exports('${e[0].name}',${t}${e[0].value});${s}${s}`:`${r}${r}${r}exports({${s}`+e.map(({name:e,value:s})=>`${r}${r}${r}${r}${e}:${t}${s}`).join(`,${s}`)+`${s}${r}${r}${r}});${s}${s}`}const getHoistedExportsBlock=(e,t,r,s)=>getExportsBlock(e.filter(e=>e.hoisted||e.uninitialized).map(e=>({name:e.exported,value:e.uninitialized?"void 0":e.local})),t,r,s),getMissingExportsBlock=(e,t,r,s)=>getExportsBlock(e.filter(e=>e.local===MISSING_EXPORT_SHIM_VARIABLE).map(e=>({name:e.exported,value:MISSING_EXPORT_SHIM_VARIABLE})),t,r,s);function system(e,{accessedGlobals:t,dependencies:r,exports:s,hasExports:n,indentString:i,intro:a,outro:o,usesTopLevelAwait:l,varOrConst:c},h){const u=h.compact?"":"\n",p=h.compact?"":" ",d=r.map(e=>`'${e.id}'`),f=[];let m;const g=[];r.forEach(({imports:e,reexports:t})=>{const n=[];if(e&&e.forEach(e=>{f.push(e.local),"*"===e.imported?n.push(`${e.local}${p}=${p}module;`):n.push(`${e.local}${p}=${p}module.${e.imported};`)}),t){let e=!1;t.length>1||1===t.length&&("*"===t[0].reexported||"*"===t[0].imported)?(t.forEach(t=>{"*"===t.reexported&&(m||(m=getStarExcludes({dependencies:r,exports:s})),e||(n.push(`${c} _setter${p}=${p}{};`),e=!0),n.push(`for${p}(var _$p${p}in${p}module)${p}{`),n.push(`${i}if${p}(!_starExcludes[_$p])${p}_setter[_$p]${p}=${p}module[_$p];`),n.push("}"))}),t.forEach(e=>{"*"===e.imported&&"*"!==e.reexported&&n.push(`exports('${e.reexported}',${p}module);`)}),t.forEach(t=>{"*"!==t.reexported&&"*"!==t.imported&&(e||(n.push(`${c} _setter${p}=${p}{};`),e=!0),n.push(`_setter.${t.reexported}${p}=${p}module.${t.imported};`))}),e&&n.push("exports(_setter);")):t.forEach(e=>{n.push(`exports('${e.reexported}',${p}module.${e.imported});`)})}g.push(n.join(`${u}${i}${i}${i}`))});const E=h.name?`'${h.name}',${p}`:"",y=t.has("module")?`exports,${p}module`:n?"exports":"";let _=`System.register(${E}[`+d.join(`,${p}`)+`],${p}function${p}(${y})${p}{${u}${i}${h.strict?"'use strict';":""}`+getStarExcludesBlock(m,c,p,i,u)+getImportBindingsBlock(f,p,i,u)+`${u}${i}return${p}{${g.length?`${u}${i}${i}setters:${p}[${g.map(e=>e?`function${p}(module)${p}{${u}${i}${i}${i}${e}${u}${i}${i}}`:`function${p}()${p}{}`).join(`,${p}`)}],`:""}${u}`;_+=`${i}${i}execute:${p}${l?`async${p}`:""}function${p}()${p}{${u}${u}`+getHoistedExportsBlock(s,p,i,u);const x=`${u}${u}`+getMissingExportsBlock(s,p,i,u)+`${i}${i}}${u}${i}}${h.compact?"":";"}${u}});`;return a&&e.prepend(a),o&&e.append(o),e.indent(`${i}${i}${i}`).append(x).prepend(_)}function globalProp(e,t){return e?`${t}${keypath(e)}`:"null"}function safeAccess(e,t,r){const s=e.split(".");let n=t;return s.map(e=>(n+=property(e),n)).join(`${r}&&${r}`)}function umd(e,{dependencies:t,exports:r,hasExports:s,indentString:n,intro:i,namedExportsMode:a,outro:o,varOrConst:l,warn:c},h){const u=h.compact?"":" ",p=h.compact?"":"\n",d=h.compact?"f":"factory",f=h.compact?"g":"global";s&&!h.name&&error({code:"INVALID_OPTION",message:'You must supply "output.name" for UMD bundles.'}),warnOnBuiltins(c,t);const m=t.map(e=>`'${e.id}'`),g=t.map(e=>`require('${e.id}')`),E=trimEmptyImports(t),y=E.map(e=>globalProp(e.globalName,f)),_=E.map(e=>e.name);a&&(s||!0===h.noConflict)&&(m.unshift("'exports'"),g.unshift("exports"),y.unshift(assignToDeepVariable(h.name,f,h.globals,h.compact,`${h.extend?`${globalProp(h.name,f)}${u}||${u}`:""}{}`)),_.unshift("exports"));const x=h.amd||{},b=(x.id?`'${x.id}',${u}`:"")+(m.length?`[${m.join(`,${u}`)}],${u}`:""),S=x.define||"define",v=!a&&s?`module.exports${u}=${u}`:"",C=!1!==h.strict?`${u}'use strict';${p}`:"";let A;if(!0===h.noConflict){const e=h.compact?"e":"exports";let t;if(!a&&s)t=`var ${e}${u}=${u}${assignToDeepVariable(h.name,f,h.globals,h.compact,`${d}(${y.join(`,${u}`)})`)};`;else if(a){t=`var ${e}${u}=${u}${y.shift()};${p}`+`${n}${n}${d}(${[e].concat(y).join(`,${u}`)});`}A=`(function${u}()${u}{${p}`+`${n}${n}var current${u}=${u}${safeAccess(h.name,f,u)};${p}`+`${n}${n}${t}${p}`+`${n}${n}${e}.noConflict${u}=${u}function${u}()${u}{${u}`+`${globalProp(h.name,f)}${u}=${u}current;${u}return ${e}${h.compact?"":"; "}};${p}`+`${n}}())`}else A=`${d}(${y.join(`,${u}`)})`,!a&&s&&(A=assignToDeepVariable(h.name,f,h.globals,h.compact,A));const $=s||!0===h.noConflict&&a||y.length>0,R=$?`this,${u}`:"",N=$?`(${f}${u}=${u}${f}${u}||${u}self,${u}`:"",P=$?")":"",I=`(function${u}(${$?`${f},${u}`:""}${d})${u}{${p}`+($?`${n}typeof exports${u}===${u}'object'${u}&&${u}typeof module${u}!==${u}'undefined'${u}?`+`${u}${v}${d}(${g.join(`,${u}`)})${u}:${p}`:"")+`${n}typeof ${S}${u}===${u}'function'${u}&&${u}${S}.amd${u}?${u}${S}(${b}${d})${u}:${p}`+`${n}${N}${A}${P};${p}`+`}(${R}function${u}(${_.join(", ")})${u}{${C}${p}`,k=p+p+"}));",w=getInteropBlock(t,h,l);w&&e.prepend(w+p+p),i&&e.prepend(i);const O=getExportBlock(r,t,a,h.interop,h.compact,n);return O&&e.append(p+p+O),a&&s&&h.esModule&&e.append(p+p+(h.compact?compactEsModuleExport:esModuleExport)),o&&e.append(o),e.trim().indent(n).append(k).prepend(I)}var finalisers={system:system,amd:amd,cjs:cjs,es:esm,iife:iife,umd:umd};const extractors={ArrayPattern(e,t){for(const r of t.elements)r&&extractors[r.type](e,r)},AssignmentPattern(e,t){extractors[t.left.type](e,t.left)},Identifier(e,t){e.push(t.name)},MemberExpression(){},ObjectPattern(e,t){for(const r of t.properties)"RestElement"===r.type?extractors.RestElement(e,r):extractors[r.value.type](e,r.value)},RestElement(e,t){extractors[t.argument.type](e,t.argument)}},extractAssignedNames=function(e){const t=[];return extractors[e.type](t,e),t};class ArrayExpression extends NodeBase{bind(){super.bind();for(const e of this.elements)null!==e&&e.deoptimizePath(UNKNOWN_PATH)}getReturnExpressionWhenCalledAtPath(e){return 1!==e.length?UNKNOWN_EXPRESSION:getMemberReturnExpressionWhenCalled(arrayMembers,e[0])}hasEffectsWhenAccessedAtPath(e){return e.length>1}hasEffectsWhenCalledAtPath(e,t,r){return 1!==e.length||hasMemberEffectWhenCalled(arrayMembers,e[0],this.included,t,r)}}class ArrayPattern extends NodeBase{addExportedVariables(e){for(const t of this.elements)null!==t&&t.addExportedVariables(e)}declare(e){const t=[];for(const r of this.elements)null!==r&&t.push(...r.declare(e,UNKNOWN_EXPRESSION));return t}deoptimizePath(e){if(0===e.length)for(const t of this.elements)null!==t&&t.deoptimizePath(e)}hasEffectsWhenAssignedAtPath(e,t){if(e.length>0)return!0;for(const e of this.elements)if(null!==e&&e.hasEffectsWhenAssignedAtPath(EMPTY_PATH,t))return!0;return!1}}class BlockScope extends ChildScope{addDeclaration(e,t,r=null,s){return s?this.parent.addDeclaration(e,t,"function"===s?r:UNKNOWN_EXPRESSION,s):super.addDeclaration(e,t,r,!1)}}class BlockStatement$1 extends NodeBase{addImplicitReturnExpressionToScope(){const e=this.body[this.body.length-1];e&&e.type===ReturnStatement||this.scope.addReturnExpression(UNKNOWN_EXPRESSION)}createScope(e){this.scope=this.parent.preventChildBlockScope?e:new BlockScope(e)}hasEffects(e){for(const t of this.body){if(t.hasEffects(e))return!0;if(e.breakFlow)break}return!1}include(e,t){this.included=!0;for(const r of this.body)(t||r.shouldBeIncluded(e))&&r.include(e,t)}render(e,t){this.body.length?renderStatementList(this.body,e,this.start+1,this.end-1,t):super.render(e,t)}}class ArrowFunctionExpression extends NodeBase{createScope(e){this.scope=new ReturnValueScope(e,this.context)}deoptimizePath(e){1===e.length&&e[0]===UnknownKey&&this.scope.getReturnExpression().deoptimizePath(UNKNOWN_PATH)}getReturnExpressionWhenCalledAtPath(e){return 0===e.length?this.scope.getReturnExpression():UNKNOWN_EXPRESSION}hasEffects(){return!1}hasEffectsWhenAccessedAtPath(e){return e.length>1}hasEffectsWhenAssignedAtPath(e){return e.length>1}hasEffectsWhenCalledAtPath(e,t,r){if(e.length>0)return!0;for(const e of this.params)if(e.hasEffects(r))return!0;const{ignore:s,breakFlow:n}=r;return r.ignore={breakStatements:!1,labels:new Set,returnAwaitYield:!0},!!this.body.hasEffects(r)||(r.ignore=s,r.breakFlow=n,!1)}include(e,t){this.included=!0;for(const r of this.params)r instanceof Identifier$1||r.include(e,t);const{breakFlow:r}=e;e.breakFlow=BREAKFLOW_NONE,this.body.include(e,t),e.breakFlow=r}includeCallArguments(e,t){this.scope.includeCallArguments(e,t)}initialise(){this.scope.addParameterVariables(this.params.map(e=>e.declare("parameter",UNKNOWN_EXPRESSION)),this.params[this.params.length-1]instanceof RestElement),this.body instanceof BlockStatement$1?this.body.addImplicitReturnExpressionToScope():this.scope.addReturnExpression(this.body)}parseNode(e){e.body.type===BlockStatement&&(this.body=new this.context.nodeConstructors.BlockStatement(e.body,this,this.scope.hoistedBodyVarScope)),super.parseNode(e)}}function getSystemExportStatement(e){return 1===e.length?`exports('${e[0].safeExportName||e[0].exportName}', ${e[0].getName()});`:`exports({${e.map(e=>`${e.safeExportName||e.exportName}: ${e.getName()}`).join(", ")}});`}ArrowFunctionExpression.prototype.preventChildBlockScope=!0;class AssignmentExpression extends NodeBase{bind(){super.bind(),this.left.deoptimizePath(EMPTY_PATH),this.right.deoptimizePath(UNKNOWN_PATH)}hasEffects(e){return this.right.hasEffects(e)||this.left.hasEffects(e)||this.left.hasEffectsWhenAssignedAtPath(EMPTY_PATH,e)}hasEffectsWhenAccessedAtPath(e,t){return e.length>0&&this.right.hasEffectsWhenAccessedAtPath(e,t)}render(e,t){if(this.left.render(e,t),this.right.render(e,t),"system"===t.format)if(this.left.variable&&this.left.variable.exportName)e.prependLeft(e.original.indexOf("=",this.left.end)+1,` exports('${this.left.variable.exportName}',`),e.appendLeft(this.right.end,")");else if("addExportedVariables"in this.left){const t=[];this.left.addExportedVariables(t),t.length>0&&(e.prependRight(this.start,`function (v) {${getSystemExportStatement(t)} return v;} (`),e.appendLeft(this.end,")"))}}}class AssignmentPattern extends NodeBase{addExportedVariables(e){this.left.addExportedVariables(e)}bind(){super.bind(),this.left.deoptimizePath(EMPTY_PATH),this.right.deoptimizePath(UNKNOWN_PATH)}declare(e,t){return this.left.declare(e,t)}deoptimizePath(e){0===e.length&&this.left.deoptimizePath(e)}hasEffectsWhenAssignedAtPath(e,t){return e.length>0||this.left.hasEffectsWhenAssignedAtPath(EMPTY_PATH,t)}render(e,t,{isShorthandProperty:r}=BLANK){this.left.render(e,t,{isShorthandProperty:r}),this.right.render(e,t)}}class AwaitExpression extends NodeBase{hasEffects(e){return super.hasEffects(e)||!e.ignore.returnAwaitYield}include(e,t){e:if(!this.included&&!this.context.usesTopLevelAwait){let e=this.parent;do{if(e instanceof FunctionNode||e instanceof ArrowFunctionExpression)break e}while(e=e.parent);this.context.usesTopLevelAwait=!0}super.include(e,t)}render(e,t){super.render(e,t)}}class ExpressionStatement$1 extends NodeBase{initialise(){this.directive&&"use strict"!==this.directive&&this.parent.type===Program&&this.context.warn({code:"MODULE_LEVEL_DIRECTIVE",message:`Module level directives cause errors when bundled, '${this.directive}' was ignored.`},this.start)}render(e,t){super.render(e,t),this.included&&this.insertSemicolon(e)}shouldBeIncluded(e){return this.directive&&"use strict"!==this.directive?this.parent.type!==Program:super.shouldBeIncluded(e)}}const binaryOperators={"!=":(e,t)=>e!=t,"!==":(e,t)=>e!==t,"%":(e,t)=>e%t,"&":(e,t)=>e&t,"*":(e,t)=>e*t,"**":(e,t)=>Math.pow(e,t),"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"<":(e,t)=>e<t,"<<":(e,t)=>e<<t,"<=":(e,t)=>e<=t,"==":(e,t)=>e==t,"===":(e,t)=>e===t,">":(e,t)=>e>t,">=":(e,t)=>e>=t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t,"^":(e,t)=>e^t,in:()=>UnknownValue,instanceof:()=>UnknownValue,"|":(e,t)=>e|t};class BinaryExpression extends NodeBase{deoptimizeCache(){}getLiteralValueAtPath(e,t,r){if(e.length>0)return UnknownValue;const s=this.left.getLiteralValueAtPath(EMPTY_PATH,t,r);if(s===UnknownValue)return UnknownValue;const n=this.right.getLiteralValueAtPath(EMPTY_PATH,t,r);if(n===UnknownValue)return UnknownValue;const i=binaryOperators[this.operator];return i?i(s,n):UnknownValue}hasEffects(e){return"+"===this.operator&&this.parent instanceof ExpressionStatement$1&&""===this.left.getLiteralValueAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this)||super.hasEffects(e)}hasEffectsWhenAccessedAtPath(e){return e.length>1}}class BreakStatement extends NodeBase{hasEffects(e){return(this.label?!e.ignore.labels.has(this.label.name):!e.ignore.breakStatements)||(e.breakFlow=new Set([this.label&&this.label.name]),!1)}include(e){this.included=!0,this.label&&this.label.include(e),e.breakFlow=new Set([this.label&&this.label.name])}}class CallExpression$1 extends NodeBase{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.returnExpression=null}bind(){if(super.bind(),this.callee instanceof Identifier$1){this.scope.findVariable(this.callee.name).isNamespace&&this.context.error({code:"CANNOT_CALL_NAMESPACE",message:`Cannot call a namespace ('${this.callee.name}')`},this.start),"eval"===this.callee.name&&this.context.warn({code:"EVAL",message:"Use of eval is strongly discouraged, as it poses security risks and may cause issues with minification",url:"https://rollupjs.org/guide/en/#avoiding-eval"},this.start)}null===this.returnExpression&&(this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this));for(const e of this.arguments)e.deoptimizePath(UNKNOWN_PATH)}deoptimizeCache(){if(this.returnExpression!==UNKNOWN_EXPRESSION){this.returnExpression=UNKNOWN_EXPRESSION;for(const e of this.expressionsToBeDeoptimized)e.deoptimizeCache()}}deoptimizePath(e){if(0===e.length)return;const t=this.context.deoptimizationTracker.getEntities(e);t.has(this)||(t.add(this),null===this.returnExpression&&(this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this)),this.returnExpression.deoptimizePath(e))}getLiteralValueAtPath(e,t,r){if(null===this.returnExpression&&(this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(EMPTY_PATH,t,this)),this.returnExpression===UNKNOWN_EXPRESSION)return UnknownValue;const s=t.getEntities(e);if(s.has(this.returnExpression))return UnknownValue;this.expressionsToBeDeoptimized.push(r),s.add(this.returnExpression);const n=this.returnExpression.getLiteralValueAtPath(e,t,r);return s.delete(this.returnExpression),n}getReturnExpressionWhenCalledAtPath(e,t,r){if(null===this.returnExpression&&(this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(EMPTY_PATH,t,this)),this.returnExpression===UNKNOWN_EXPRESSION)return UNKNOWN_EXPRESSION;const s=t.getEntities(e);if(s.has(this.returnExpression))return UNKNOWN_EXPRESSION;this.expressionsToBeDeoptimized.push(r),s.add(this.returnExpression);const n=this.returnExpression.getReturnExpressionWhenCalledAtPath(e,t,r);return s.delete(this.returnExpression),n}hasEffects(e){for(const t of this.arguments)if(t.hasEffects(e))return!0;return(!this.context.annotations||!this.annotatedPure)&&(this.callee.hasEffects(e)||this.callee.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.callOptions,e))}hasEffectsWhenAccessedAtPath(e,t){if(0===e.length)return!1;const r=t.accessed.getEntities(e);return!r.has(this)&&(r.add(this),this.returnExpression.hasEffectsWhenAccessedAtPath(e,t))}hasEffectsWhenAssignedAtPath(e,t){if(0===e.length)return!0;const r=t.assigned.getEntities(e);return!r.has(this)&&(r.add(this),this.returnExpression.hasEffectsWhenAssignedAtPath(e,t))}hasEffectsWhenCalledAtPath(e,t,r){const s=(t.withNew?r.instantiated:r.called).getEntities(e);return!s.has(this)&&(s.add(this),this.returnExpression.hasEffectsWhenCalledAtPath(e,t,r))}include(e,t){t?(super.include(e,t),t===INCLUDE_PARAMETERS&&this.callee instanceof Identifier$1&&this.callee.variable&&this.callee.variable.markCalledFromTryStatement()):(this.included=!0,this.callee.include(e,!1)),this.callee.includeCallArguments(e,this.arguments),this.returnExpression.included||this.returnExpression.include(e,!1)}initialise(){this.callOptions={args:this.arguments,withNew:!1}}render(e,t,{renderedParentType:r}=BLANK){if(this.callee.render(e,t),this.arguments.length>0)if(this.arguments[this.arguments.length-1].included)for(const r of this.arguments)r.render(e,t);else{let r=this.arguments.length-2;for(;r>=0&&!this.arguments[r].included;)r--;if(r>=0){for(let s=0;s<=r;s++)this.arguments[s].render(e,t);e.remove(findFirstOccurrenceOutsideComment(e.original,",",this.arguments[r].end),this.end-1)}else e.remove(findFirstOccurrenceOutsideComment(e.original,"(",this.callee.end)+1,this.end-1)}r===ExpressionStatement&&this.callee.type===FunctionExpression&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}}class CatchScope extends ParameterScope{addDeclaration(e,t,r,s){return s?this.parent.addDeclaration(e,t,r,s):super.addDeclaration(e,t,r,!1)}}class CatchClause extends NodeBase{createScope(e){this.scope=new CatchScope(e,this.context)}initialise(){this.param&&this.param.declare("parameter",UNKNOWN_EXPRESSION)}parseNode(e){this.body=new this.context.nodeConstructors.BlockStatement(e.body,this,this.scope),super.parseNode(e)}}CatchClause.prototype.preventChildBlockScope=!0;class ClassBody extends NodeBase{hasEffectsWhenCalledAtPath(e,t,r){return e.length>0||null!==this.classConstructor&&this.classConstructor.hasEffectsWhenCalledAtPath(EMPTY_PATH,t,r)}initialise(){for(const e of this.body)if("constructor"===e.kind)return void(this.classConstructor=e);this.classConstructor=null}}class ClassExpression extends ClassNode{}class MultiExpression{constructor(e){this.included=!1,this.expressions=e}deoptimizePath(e){for(const t of this.expressions)t.deoptimizePath(e)}getLiteralValueAtPath(){return UnknownValue}getReturnExpressionWhenCalledAtPath(e,t,r){return new MultiExpression(this.expressions.map(s=>s.getReturnExpressionWhenCalledAtPath(e,t,r)))}hasEffectsWhenAccessedAtPath(e,t){for(const r of this.expressions)if(r.hasEffectsWhenAccessedAtPath(e,t))return!0;return!1}hasEffectsWhenAssignedAtPath(e,t){for(const r of this.expressions)if(r.hasEffectsWhenAssignedAtPath(e,t))return!0;return!1}hasEffectsWhenCalledAtPath(e,t,r){for(const s of this.expressions)if(s.hasEffectsWhenCalledAtPath(e,t,r))return!0;return!1}include(){}includeCallArguments(){}}class ConditionalExpression extends NodeBase{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.isBranchResolutionAnalysed=!1,this.unusedBranch=null,this.usedBranch=null}bind(){super.bind(),this.isBranchResolutionAnalysed||this.analyseBranchResolution()}deoptimizeCache(){if(null!==this.usedBranch){this.usedBranch=null,this.unusedBranch.deoptimizePath(UNKNOWN_PATH);for(const e of this.expressionsToBeDeoptimized)e.deoptimizeCache()}}deoptimizePath(e){e.length>0&&(this.isBranchResolutionAnalysed||this.analyseBranchResolution(),null===this.usedBranch?(this.consequent.deoptimizePath(e),this.alternate.deoptimizePath(e)):this.usedBranch.deoptimizePath(e))}getLiteralValueAtPath(e,t,r){return this.isBranchResolutionAnalysed||this.analyseBranchResolution(),null===this.usedBranch?UnknownValue:(this.expressionsToBeDeoptimized.push(r),this.usedBranch.getLiteralValueAtPath(e,t,r))}getReturnExpressionWhenCalledAtPath(e,t,r){return this.isBranchResolutionAnalysed||this.analyseBranchResolution(),null===this.usedBranch?new MultiExpression([this.consequent.getReturnExpressionWhenCalledAtPath(e,t,r),this.alternate.getReturnExpressionWhenCalledAtPath(e,t,r)]):(this.expressionsToBeDeoptimized.push(r),this.usedBranch.getReturnExpressionWhenCalledAtPath(e,t,r))}hasEffects(e){return!!this.test.hasEffects(e)||(null===this.usedBranch?this.consequent.hasEffects(e)||this.alternate.hasEffects(e):this.usedBranch.hasEffects(e))}hasEffectsWhenAccessedAtPath(e,t){return 0!==e.length&&(null===this.usedBranch?this.consequent.hasEffectsWhenAccessedAtPath(e,t)||this.alternate.hasEffectsWhenAccessedAtPath(e,t):this.usedBranch.hasEffectsWhenAccessedAtPath(e,t))}hasEffectsWhenAssignedAtPath(e,t){return 0===e.length||(null===this.usedBranch?this.consequent.hasEffectsWhenAssignedAtPath(e,t)||this.alternate.hasEffectsWhenAssignedAtPath(e,t):this.usedBranch.hasEffectsWhenAssignedAtPath(e,t))}hasEffectsWhenCalledAtPath(e,t,r){return null===this.usedBranch?this.consequent.hasEffectsWhenCalledAtPath(e,t,r)||this.alternate.hasEffectsWhenCalledAtPath(e,t,r):this.usedBranch.hasEffectsWhenCalledAtPath(e,t,r)}include(e,t){this.included=!0,t||null===this.usedBranch||this.test.shouldBeIncluded(e)?(this.test.include(e,t),this.consequent.include(e,t),this.alternate.include(e,t)):this.usedBranch.include(e,t)}render(e,t,{renderedParentType:r,isCalleeOfRenderedParent:s,preventASI:n}=BLANK){if(this.test.included)super.render(e,t);else{const i=findFirstOccurrenceOutsideComment(e.original,":",this.consequent.end),a=(this.consequent.included?findFirstOccurrenceOutsideComment(e.original,"?",this.test.end):i)+1;n&&removeLineBreaks(e,a,this.usedBranch.start),e.remove(this.start,a),this.consequent.included&&e.remove(i,this.end),removeAnnotations(this,e),this.usedBranch.render(e,t,{isCalleeOfRenderedParent:r?s:this.parent.callee===this,renderedParentType:r||this.parent.type})}}analyseBranchResolution(){this.isBranchResolutionAnalysed=!0;const e=this.test.getLiteralValueAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this);e!==UnknownValue&&(e?(this.usedBranch=this.consequent,this.unusedBranch=this.alternate):(this.usedBranch=this.alternate,this.unusedBranch=this.consequent))}}class ContinueStatement extends NodeBase{hasEffects(e){return(this.label?!e.ignore.labels.has(this.label.name):!e.ignore.breakStatements)||(e.breakFlow=new Set([this.label&&this.label.name]),!1)}include(e){this.included=!0,this.label&&this.label.include(e),e.breakFlow=new Set([this.label&&this.label.name])}}class DoWhileStatement extends NodeBase{hasEffects(e){if(this.test.hasEffects(e))return!0;const{breakFlow:t,ignore:{breakStatements:r}}=e;return e.ignore.breakStatements=!0,!!this.body.hasEffects(e)||(e.ignore.breakStatements=r,e.breakFlow instanceof Set&&e.breakFlow.has(null)&&(e.breakFlow=t),!1)}include(e,t){this.included=!0,this.test.include(e,t);const{breakFlow:r}=e;this.body.include(e,t),e.breakFlow instanceof Set&&e.breakFlow.has(null)&&(e.breakFlow=r)}}class EmptyStatement extends NodeBase{hasEffects(){return!1}}class ExportAllDeclaration$1 extends NodeBase{hasEffects(){return!1}initialise(){this.context.addExport(this)}render(e,t,{start:r,end:s}=BLANK){e.remove(r,s)}}ExportAllDeclaration$1.prototype.needsBoundaries=!0;class ExportNamedDeclaration extends NodeBase{bind(){null!==this.declaration&&this.declaration.bind()}hasEffects(e){return null!==this.declaration&&this.declaration.hasEffects(e)}initialise(){this.context.addExport(this)}render(e,t,{start:r,end:s}=BLANK){null===this.declaration?e.remove(r,s):(e.remove(this.start,this.declaration.start),this.declaration.render(e,t,{start:r,end:s}))}}ExportNamedDeclaration.prototype.needsBoundaries=!0;class ForInStatement extends NodeBase{bind(){this.left.bind(),this.left.deoptimizePath(EMPTY_PATH),this.right.bind(),this.body.bind()}createScope(e){this.scope=new BlockScope(e)}hasEffects(e){if(this.left&&(this.left.hasEffects(e)||this.left.hasEffectsWhenAssignedAtPath(EMPTY_PATH,e))||this.right&&this.right.hasEffects(e))return!0;const{breakFlow:t,ignore:{breakStatements:r}}=e;return e.ignore.breakStatements=!0,!!this.body.hasEffects(e)||(e.ignore.breakStatements=r,e.breakFlow=t,!1)}include(e,t){this.included=!0,this.left.includeWithAllDeclaredVariables(t,e),this.left.deoptimizePath(EMPTY_PATH),this.right.include(e,t);const{breakFlow:r}=e;this.body.include(e,t),e.breakFlow=r}render(e,t){this.left.render(e,t,NO_SEMICOLON),this.right.render(e,t,NO_SEMICOLON),this.body.render(e,t)}}class ForOfStatement extends NodeBase{bind(){this.left.bind(),this.left.deoptimizePath(EMPTY_PATH),this.right.bind(),this.body.bind()}createScope(e){this.scope=new BlockScope(e)}hasEffects(){return!0}include(e,t){this.included=!0,this.left.includeWithAllDeclaredVariables(t,e),this.left.deoptimizePath(EMPTY_PATH),this.right.include(e,t);const{breakFlow:r}=e;this.body.include(e,t),e.breakFlow=r}render(e,t){this.left.render(e,t,NO_SEMICOLON),this.right.render(e,t,NO_SEMICOLON),this.body.render(e,t)}}class ForStatement extends NodeBase{createScope(e){this.scope=new BlockScope(e)}hasEffects(e){if(this.init&&this.init.hasEffects(e)||this.test&&this.test.hasEffects(e)||this.update&&this.update.hasEffects(e))return!0;const{breakFlow:t,ignore:{breakStatements:r}}=e;return e.ignore.breakStatements=!0,!!this.body.hasEffects(e)||(e.ignore.breakStatements=r,e.breakFlow=t,!1)}include(e,t){this.included=!0,this.init&&this.init.include(e,t),this.test&&this.test.include(e,t);const{breakFlow:r}=e;this.update&&this.update.include(e,t),this.body.include(e,t),e.breakFlow=r}render(e,t){this.init&&this.init.render(e,t,NO_SEMICOLON),this.test&&this.test.render(e,t,NO_SEMICOLON),this.update&&this.update.render(e,t,NO_SEMICOLON),this.body.render(e,t)}}class FunctionExpression$1 extends FunctionNode{}class IfStatement extends NodeBase{bind(){super.bind(),this.testValue=this.test.getLiteralValueAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this)}deoptimizeCache(){this.testValue=UnknownValue}hasEffects(e){if(this.test.hasEffects(e))return!0;if(this.testValue===UnknownValue){const{breakFlow:t}=e;if(this.consequent.hasEffects(e))return!0;const r=e.breakFlow;return e.breakFlow=t,null===this.alternate?!1:!!this.alternate.hasEffects(e)||(this.updateBreakFlowUnknownCondition(r,e),!1)}return this.testValue?this.consequent.hasEffects(e):null!==this.alternate&&this.alternate.hasEffects(e)}include(e,t){this.included=!0,t?this.includeRecursively(t,e):this.testValue===UnknownValue?this.includeUnknownTest(e):this.includeKnownTest(e)}render(e,t){if(this.test.included||(this.testValue?null!==this.alternate&&this.alternate.included:this.consequent.included))this.test.included?this.test.render(e,t):e.overwrite(this.test.start,this.test.end,this.testValue?"true":"false"),this.consequent.included?this.consequent.render(e,t):e.overwrite(this.consequent.start,this.consequent.end,";"),null!==this.alternate&&(this.alternate.included?this.alternate.render(e,t):e.remove(this.consequent.end,this.alternate.end));else{const r=this.testValue?this.consequent:this.alternate;e.remove(this.start,r.start),e.remove(r.end,this.end),removeAnnotations(this,e),r.render(e,t)}}includeKnownTest(e){this.test.shouldBeIncluded(e)&&this.test.include(e,!1),this.testValue&&this.consequent.shouldBeIncluded(e)&&this.consequent.include(e,!1),null!==this.alternate&&!this.testValue&&this.alternate.shouldBeIncluded(e)&&this.alternate.include(e,!1)}includeRecursively(e,t){this.test.include(t,e),this.consequent.include(t,e),null!==this.alternate&&this.alternate.include(t,e)}includeUnknownTest(e){this.test.include(e,!1);const{breakFlow:t}=e;let r=!1;this.consequent.shouldBeIncluded(e)&&(this.consequent.include(e,!1),r=e.breakFlow,e.breakFlow=t),null!==this.alternate&&this.alternate.shouldBeIncluded(e)&&(this.alternate.include(e,!1),this.updateBreakFlowUnknownCondition(r,e))}updateBreakFlowUnknownCondition(e,t){if(e&&t.breakFlow)if(t.breakFlow instanceof Set){if(e instanceof Set)for(const r of e)t.breakFlow.add(r)}else t.breakFlow=e;else t.breakFlow=BREAKFLOW_NONE}}class ImportDeclaration extends NodeBase{bind(){}hasEffects(){return!1}initialise(){this.context.addImport(this)}render(e,t,{start:r,end:s}=BLANK){e.remove(r,s)}}ImportDeclaration.prototype.needsBoundaries=!0;class Import extends NodeBase{constructor(){super(...arguments),this.exportMode="auto"}hasEffects(){return!0}include(e,t){this.included||(this.included=!0,this.context.includeDynamicImport(this)),this.source.include(e,t)}initialise(){this.context.addDynamicImport(this)}render(e,t){if(this.inlineNamespace){const r=t.compact?"":" ",s=t.compact?"":";";return void e.overwrite(this.start,this.end,`Promise.resolve().then(function${r}()${r}{${r}return ${this.inlineNamespace.getName()}${s}${r}})`)}const r=this.getDynamicImportMechanism(t);r&&(e.overwrite(this.start,findFirstOccurrenceOutsideComment(e.original,"(",this.start+6)+1,r.left),e.overwrite(this.end-1,this.end,r.right)),this.source.render(e,t)}renderFinalResolution(e,t,r){this.included&&("amd"===r&&t.startsWith("'.")&&t.endsWith(".js'")&&(t=t.slice(0,-4)+"'"),e.overwrite(this.source.start,this.source.end,t))}setResolution(e,t){this.exportMode=e,t?this.inlineNamespace=t:(this.scope.addAccessedGlobalsByFormat({amd:["require"],cjs:["require"],system:["module"]}),"auto"===e&&this.scope.addAccessedGlobalsByFormat({amd:[INTEROP_NAMESPACE_VARIABLE],cjs:[INTEROP_NAMESPACE_VARIABLE]}))}getDynamicImportMechanism(e){switch(e.format){case"cjs":{const t=e.compact?"":" ",r=e.compact?"c":"resolve";switch(this.exportMode){case"default":return{left:`new Promise(function${t}(${r})${t}{${t}${r}({${t}'default':${t}require(`,right:`)${t}});${t}})`};case"auto":return{left:`new Promise(function${t}(${r})${t}{${t}${r}(${INTEROP_NAMESPACE_VARIABLE}(require(`,right:`)));${t}})`};default:return{left:`new Promise(function${t}(${r})${t}{${t}${r}(require(`,right:`));${t}})`}}}case"amd":{const t=e.compact?"":" ",r=e.compact?"c":"resolve",s=e.compact?"e":"reject";return{left:`new Promise(function${t}(${r},${t}${s})${t}{${t}require([`,right:`],${t}${"default"===this.exportMode?`function${t}(m)${t}{${t}${r}({${t}'default':${t}m${t}});${t}}`:"auto"===this.exportMode?`function${t}(m)${t}{${t}${r}(${INTEROP_NAMESPACE_VARIABLE}(m));${t}}`:r},${t}${s})${t}})`}}case"system":return{left:"module.import(",right:")"};case"es":if(e.dynamicImportFunction)return{left:`${e.dynamicImportFunction}(`,right:")"}}return null}}class LabeledStatement extends NodeBase{hasEffects(e){return e.ignore.labels.add(this.label.name),!!this.body.hasEffects(e)||(e.ignore.labels.delete(this.label.name),e.breakFlow instanceof Set&&e.breakFlow.has(this.label.name)&&(e.breakFlow=BREAKFLOW_NONE),!1)}include(e,t){this.included=!0,this.label.include(e),this.body.include(e,t),e.breakFlow instanceof Set&&e.breakFlow.has(this.label.name)&&(e.breakFlow=BREAKFLOW_NONE)}}class Literal extends NodeBase{getLiteralValueAtPath(e){return e.length>0||null===this.value&&110!==this.context.code.charCodeAt(this.start)||"bigint"==typeof this.value||47===this.context.code.charCodeAt(this.start)?UnknownValue:this.value}getReturnExpressionWhenCalledAtPath(e){return 1!==e.length?UNKNOWN_EXPRESSION:getMemberReturnExpressionWhenCalled(this.members,e[0])}hasEffectsWhenAccessedAtPath(e){return null===this.value?e.length>0:e.length>1}hasEffectsWhenAssignedAtPath(e){return e.length>0}hasEffectsWhenCalledAtPath(e,t,r){return 1!==e.length||hasMemberEffectWhenCalled(this.members,e[0],this.included,t,r)}initialise(){this.members=getLiteralMembersForValue(this.value)}render(e){"string"==typeof this.value&&e.indentExclusionRanges.push([this.start+1,this.end-1])}}class LogicalExpression extends NodeBase{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.isBranchResolutionAnalysed=!1,this.unusedBranch=null,this.usedBranch=null}bind(){super.bind(),this.isBranchResolutionAnalysed||this.analyseBranchResolution()}deoptimizeCache(){if(null!==this.usedBranch){this.usedBranch=null,this.unusedBranch.deoptimizePath(UNKNOWN_PATH);for(const e of this.expressionsToBeDeoptimized)e.deoptimizeCache()}}deoptimizePath(e){e.length>0&&(this.isBranchResolutionAnalysed||this.analyseBranchResolution(),null===this.usedBranch?(this.left.deoptimizePath(e),this.right.deoptimizePath(e)):this.usedBranch.deoptimizePath(e))}getLiteralValueAtPath(e,t,r){return this.isBranchResolutionAnalysed||this.analyseBranchResolution(),null===this.usedBranch?UnknownValue:(this.expressionsToBeDeoptimized.push(r),this.usedBranch.getLiteralValueAtPath(e,t,r))}getReturnExpressionWhenCalledAtPath(e,t,r){return this.isBranchResolutionAnalysed||this.analyseBranchResolution(),null===this.usedBranch?new MultiExpression([this.left.getReturnExpressionWhenCalledAtPath(e,t,r),this.right.getReturnExpressionWhenCalledAtPath(e,t,r)]):(this.expressionsToBeDeoptimized.push(r),this.usedBranch.getReturnExpressionWhenCalledAtPath(e,t,r))}hasEffects(e){return null===this.usedBranch?this.left.hasEffects(e)||this.right.hasEffects(e):this.usedBranch.hasEffects(e)}hasEffectsWhenAccessedAtPath(e,t){return 0!==e.length&&(null===this.usedBranch?this.left.hasEffectsWhenAccessedAtPath(e,t)||this.right.hasEffectsWhenAccessedAtPath(e,t):this.usedBranch.hasEffectsWhenAccessedAtPath(e,t))}hasEffectsWhenAssignedAtPath(e,t){return 0===e.length||(null===this.usedBranch?this.left.hasEffectsWhenAssignedAtPath(e,t)||this.right.hasEffectsWhenAssignedAtPath(e,t):this.usedBranch.hasEffectsWhenAssignedAtPath(e,t))}hasEffectsWhenCalledAtPath(e,t,r){return null===this.usedBranch?this.left.hasEffectsWhenCalledAtPath(e,t,r)||this.right.hasEffectsWhenCalledAtPath(e,t,r):this.usedBranch.hasEffectsWhenCalledAtPath(e,t,r)}include(e,t){this.included=!0,t||null===this.usedBranch||this.unusedBranch.shouldBeIncluded(e)?(this.left.include(e,t),this.right.include(e,t)):this.usedBranch.include(e,t)}render(e,t,{renderedParentType:r,isCalleeOfRenderedParent:s,preventASI:n}=BLANK){if(this.left.included&&this.right.included)super.render(e,t);else{const i=findFirstOccurrenceOutsideComment(e.original,this.operator,this.left.end);this.right.included?(e.remove(this.start,i+2),n&&removeLineBreaks(e,i+2,this.right.start)):e.remove(i,this.end),removeAnnotations(this,e),this.usedBranch.render(e,t,{isCalleeOfRenderedParent:r?s:this.parent.callee===this,renderedParentType:r||this.parent.type})}}analyseBranchResolution(){this.isBranchResolutionAnalysed=!0;const e=this.left.getLiteralValueAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this);e!==UnknownValue&&(("||"===this.operator?e:!e)?(this.usedBranch=this.left,this.unusedBranch=this.right):(this.usedBranch=this.right,this.unusedBranch=this.left))}}function getResolvablePropertyKey(e){return e.computed?getResolvableComputedPropertyKey(e.property):e.property.name}function getResolvableComputedPropertyKey(e){return e instanceof Literal?String(e.value):null}function getPathIfNotComputed(e){const t=e.propertyKey,r=e.object;if("string"==typeof t){if(r instanceof Identifier$1)return[{key:r.name,pos:r.start},{key:t,pos:e.property.start}];if(r instanceof MemberExpression){const s=getPathIfNotComputed(r);return s&&[...s,{key:t,pos:e.property.start}]}}return null}function getStringFromPath(e){let t=e[0].key;for(let r=1;r<e.length;r++)t+="."+e[r].key;return t}class MemberExpression extends NodeBase{constructor(){super(...arguments),this.variable=null,this.bound=!1,this.expressionsToBeDeoptimized=[],this.replacement=null}addExportedVariables(){}bind(){if(this.bound)return;this.bound=!0;const e=getPathIfNotComputed(this),t=e&&this.scope.findVariable(e[0].key);if(t&&t.isNamespace){const r=this.resolveNamespaceVariables(t,e.slice(1));r?"string"==typeof r?this.replacement=r:(r instanceof ExternalVariable&&r.module&&r.module.suggestName(e[0].key),this.variable=r,this.scope.addNamespaceMemberAccess(getStringFromPath(e),r)):super.bind()}else super.bind(),null===this.propertyKey&&this.analysePropertyKey()}deoptimizeCache(){for(const e of this.expressionsToBeDeoptimized)e.deoptimizeCache()}deoptimizePath(e){this.bound||this.bind(),0===e.length&&this.disallowNamespaceReassignment(),this.variable?this.variable.deoptimizePath(e):(null===this.propertyKey&&this.analysePropertyKey(),this.object.deoptimizePath([this.propertyKey,...e]))}getLiteralValueAtPath(e,t,r){return this.bound||this.bind(),null!==this.variable?this.variable.getLiteralValueAtPath(e,t,r):(null===this.propertyKey&&this.analysePropertyKey(),this.expressionsToBeDeoptimized.push(r),this.object.getLiteralValueAtPath([this.propertyKey,...e],t,r))}getReturnExpressionWhenCalledAtPath(e,t,r){return this.bound||this.bind(),null!==this.variable?this.variable.getReturnExpressionWhenCalledAtPath(e,t,r):(null===this.propertyKey&&this.analysePropertyKey(),this.expressionsToBeDeoptimized.push(r),this.object.getReturnExpressionWhenCalledAtPath([this.propertyKey,...e],t,r))}hasEffects(e){return this.property.hasEffects(e)||this.object.hasEffects(e)||this.context.propertyReadSideEffects&&this.object.hasEffectsWhenAccessedAtPath([this.propertyKey],e)}hasEffectsWhenAccessedAtPath(e,t){return 0!==e.length&&(null!==this.variable?this.variable.hasEffectsWhenAccessedAtPath(e,t):this.object.hasEffectsWhenAccessedAtPath([this.propertyKey,...e],t))}hasEffectsWhenAssignedAtPath(e,t){return null!==this.variable?this.variable.hasEffectsWhenAssignedAtPath(e,t):this.object.hasEffectsWhenAssignedAtPath([this.propertyKey,...e],t)}hasEffectsWhenCalledAtPath(e,t,r){return null!==this.variable?this.variable.hasEffectsWhenCalledAtPath(e,t,r):this.object.hasEffectsWhenCalledAtPath([this.propertyKey,...e],t,r)}include(e,t){this.included||(this.included=!0,null!==this.variable&&this.context.includeVariable(e,this.variable)),this.object.include(e,t),this.property.include(e,t)}includeCallArguments(e,t){this.variable?this.variable.includeCallArguments(e,t):super.includeCallArguments(e,t)}initialise(){this.propertyKey=getResolvablePropertyKey(this)}render(e,t,{renderedParentType:r,isCalleeOfRenderedParent:s}=BLANK){const n=r===CallExpression&&s;if(this.variable||this.replacement){let t=this.variable?this.variable.getName():this.replacement;n&&(t="0, "+t),e.overwrite(this.start,this.end,t,{contentOnly:!0,storeName:!0})}else n&&e.appendRight(this.start,"0, "),super.render(e,t)}analysePropertyKey(){this.propertyKey=UnknownKey;const e=this.property.getLiteralValueAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this);this.propertyKey=e===UnknownValue?UnknownKey:String(e)}disallowNamespaceReassignment(){this.object instanceof Identifier$1&&this.scope.findVariable(this.object.name).isNamespace&&this.context.error({code:"ILLEGAL_NAMESPACE_REASSIGNMENT",message:`Illegal reassignment to import '${this.object.name}'`},this.start)}resolveNamespaceVariables(e,t){if(0===t.length)return e;if(!e.isNamespace)return null;const r=t[0].key,s=e instanceof ExternalVariable?e.module.getVariableForExportName(r):e.context.traceExport(r);if(!s){const s=e instanceof ExternalVariable?e.module.id:e.context.fileName;return this.context.warn({code:"MISSING_EXPORT",exporter:relativeId(s),importer:relativeId(this.context.fileName),message:`'${r}' is not exported by '${relativeId(s)}'`,missing:r,url:"https://rollupjs.org/guide/en/#error-name-is-not-exported-by-module"},t[0].pos),"undefined"}return this.resolveNamespaceVariables(s,t.slice(1))}}const readFile=e=>new Promise((t,r)=>fs$2.readFile(e,"utf-8",(e,s)=>e?r(e):t(s)));function mkdirpath(e){const t=path$2.dirname(e);try{fs$2.readdirSync(t)}catch(e){mkdirpath(t);try{fs$2.mkdirSync(t)}catch(e){if("EEXIST"!==e.code)throw e}}}function writeFile(e,t){return new Promise((r,s)=>{mkdirpath(e),fs$2.writeFile(e,t,e=>{e?s(e):r()})})}function getRollupDefaultPlugin(e){return{name:"Rollup Core",resolveId:createResolveId(e),load:e=>readFile(e),resolveFileUrl:({relativePath:e,format:t})=>relativeUrlMechanisms[t](e),resolveImportMeta(e,{chunkId:t,format:r}){const s=importMetaMechanisms[r]&&importMetaMechanisms[r](e,t);if(s)return s}}}function findFile(e,t){try{const r=fs$2.lstatSync(e);if(!t&&r.isSymbolicLink())return findFile(fs$2.realpathSync(e),t);if(t&&r.isSymbolicLink()||r.isFile()){const t=path$2.basename(e);if(-1!==fs$2.readdirSync(path$2.dirname(e)).indexOf(t))return e}}catch(e){}}function addJsExtensionIfNecessary(e,t){let r=findFile(e,t);return r||((r=findFile(e+".mjs",t))?r:r=findFile(e+".js",t))}function createResolveId(e){return function(t,r){return"undefined"==typeof process&&error({code:"MISSING_PROCESS",message:"It looks like you're using Rollup in a non-Node.js environment. This means you must supply a plugin with custom resolveId and load functions",url:"https://rollupjs.org/guide/en/#a-simple-example"}),void 0===r||isAbsolute(t)||"."===t[0]?addJsExtensionIfNecessary(path$2.resolve(r?path$2.dirname(r):path$2.resolve(),t),e):null}}const getResolveUrl=(e,t="URL")=>`new ${t}(${e}).href`,getUrlFromDocument=e=>`(document.currentScript && document.currentScript.src || new URL('${e}', document.baseURI).href)`,getGenericImportMetaMechanism=e=>(t,r)=>{const s=e(r);return null===t?`({ url: ${s} })`:"url"===t?s:"undefined"},importMetaMechanisms={amd:getGenericImportMetaMechanism(()=>getResolveUrl("module.uri, document.baseURI")),cjs:getGenericImportMetaMechanism(e=>`(typeof document === 'undefined' ? ${getResolveUrl("'file:' + __filename","(require('u' + 'rl').URL)")} : ${getUrlFromDocument(e)})`),iife:getGenericImportMetaMechanism(e=>getUrlFromDocument(e)),system:e=>null===e?"module.meta":`module.meta.${e}`,umd:getGenericImportMetaMechanism(e=>`(typeof document === 'undefined' ? ${getResolveUrl("'file:' + __filename","(require('u' + 'rl').URL)")} : ${getUrlFromDocument(e)})`)},getRelativeUrlFromDocument=e=>getResolveUrl(`'${e}', document.currentScript && document.currentScript.src || document.baseURI`),relativeUrlMechanisms={amd:e=>("."!==e[0]&&(e="./"+e),getResolveUrl(`require.toUrl('${e}'), document.baseURI`)),cjs:e=>`(typeof document === 'undefined' ? ${getResolveUrl(`'file:' + __dirname + '/${e}'`,"(require('u' + 'rl').URL)")} : ${getRelativeUrlFromDocument(e)})`,es:e=>getResolveUrl(`'${e}', import.meta.url`),iife:e=>getRelativeUrlFromDocument(e),system:e=>getResolveUrl(`'${e}', module.meta.url`),umd:e=>`(typeof document === 'undefined' ? ${getResolveUrl(`'file:' + __dirname + '/${e}'`,"(require('u' + 'rl').URL)")} : ${getRelativeUrlFromDocument(e)})`},accessedMetaUrlGlobals={amd:["document","module","URL"],cjs:["document","require","URL"],iife:["document","URL"],system:["module"],umd:["document","require","URL"]},accessedFileUrlGlobals={amd:["document","require","URL"],cjs:["document","require","URL"],iife:["document","URL"],system:["module","URL"],umd:["document","require","URL"]},ASSET_PREFIX="ROLLUP_ASSET_URL_",CHUNK_PREFIX="ROLLUP_CHUNK_URL_",FILE_PREFIX="ROLLUP_FILE_URL_";class MetaProperty extends NodeBase{hasEffects(){return!1}hasEffectsWhenAccessedAtPath(e){return e.length>1}include(){if(!this.included){this.included=!0;const e=this.parent,t=this.metaProperty=e instanceof MemberExpression&&"string"==typeof e.propertyKey?e.propertyKey:null;t&&(t.startsWith(FILE_PREFIX)||t.startsWith(ASSET_PREFIX)||t.startsWith(CHUNK_PREFIX)?this.scope.addAccessedGlobalsByFormat(accessedFileUrlGlobals):this.scope.addAccessedGlobalsByFormat(accessedMetaUrlGlobals))}}initialise(){"import"===this.meta.name&&this.context.addImportMeta(this)}renderFinalMechanism(e,t,r,s){if(!this.included)return;const n=this.parent,i=this.metaProperty;if(i&&(i.startsWith(FILE_PREFIX)||i.startsWith(ASSET_PREFIX)||i.startsWith(CHUNK_PREFIX))){let a,o=null,l=null,c=null;i.startsWith(FILE_PREFIX)?(o=i.substr(FILE_PREFIX.length),a=this.context.getFileName(o)):i.startsWith(ASSET_PREFIX)?(this.context.warnDeprecation(`Using the "${ASSET_PREFIX}" prefix to reference files is deprecated. Use the "${FILE_PREFIX}" prefix instead.`,!1),l=i.substr(ASSET_PREFIX.length),a=this.context.getFileName(l)):(this.context.warnDeprecation(`Using the "${CHUNK_PREFIX}" prefix to reference files is deprecated. Use the "${FILE_PREFIX}" prefix instead.`,!1),c=i.substr(CHUNK_PREFIX.length),a=this.context.getFileName(c));const h=normalize$1(path$2.relative(path$2.dirname(t),a));let u;return null!==l&&(u=s.hookFirstSync("resolveAssetUrl",[{assetFileName:a,chunkId:t,format:r,moduleId:this.context.module.id,relativeAssetPath:h}])),u||(u=s.hookFirstSync("resolveFileUrl",[{assetReferenceId:l,chunkId:t,chunkReferenceId:c,fileName:a,format:r,moduleId:this.context.module.id,referenceId:o||l||c,relativePath:h}])),void e.overwrite(n.start,n.end,u,{contentOnly:!0})}const a=s.hookFirstSync("resolveImportMeta",[i,{chunkId:t,format:r,moduleId:this.context.module.id}]);"string"==typeof a&&(n instanceof MemberExpression?e.overwrite(n.start,n.end,a,{contentOnly:!0}):e.overwrite(this.start,this.end,a,{contentOnly:!0}))}}class MethodDefinition extends NodeBase{hasEffects(e){return this.key.hasEffects(e)}hasEffectsWhenCalledAtPath(e,t,r){return e.length>0||this.value.hasEffectsWhenCalledAtPath(EMPTY_PATH,t,r)}}class NewExpression extends NodeBase{bind(){super.bind();for(const e of this.arguments)e.deoptimizePath(UNKNOWN_PATH)}hasEffects(e){for(const t of this.arguments)if(t.hasEffects(e))return!0;return(!this.context.annotations||!this.annotatedPure)&&(this.callee.hasEffects(e)||this.callee.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.callOptions,e))}hasEffectsWhenAccessedAtPath(e){return e.length>1}initialise(){this.callOptions={args:this.arguments,withNew:!0}}}class SpreadElement extends NodeBase{bind(){super.bind(),this.argument.deoptimizePath([UnknownKey,UnknownKey])}}class ObjectExpression extends NodeBase{constructor(){super(...arguments),this.deoptimizedPaths=new Set,this.expressionsToBeDeoptimized=new Map,this.hasUnknownDeoptimizedProperty=!1,this.propertyMap=null,this.unmatchablePropertiesRead=[],this.unmatchablePropertiesWrite=[]}bind(){super.bind(),null===this.propertyMap&&this.buildPropertyMap()}deoptimizeCache(){this.hasUnknownDeoptimizedProperty||this.deoptimizeAllProperties()}deoptimizePath(e){if(this.hasUnknownDeoptimizedProperty)return;if(null===this.propertyMap&&this.buildPropertyMap(),0===e.length)return void this.deoptimizeAllProperties();const t=e[0];if(1===e.length){if("string"!=typeof t)return void this.deoptimizeAllProperties();if(!this.deoptimizedPaths.has(t)){this.deoptimizedPaths.add(t);const e=this.expressionsToBeDeoptimized.get(t);if(e)for(const t of e)t.deoptimizeCache()}}const r=1===e.length?UNKNOWN_PATH:e.slice(1);for(const e of"string"==typeof t?this.propertyMap[t]?this.propertyMap[t].propertiesRead:[]:this.properties)e.deoptimizePath(r)}getLiteralValueAtPath(e,t,r){null===this.propertyMap&&this.buildPropertyMap();const s=e[0];if(0===e.length||this.hasUnknownDeoptimizedProperty||"string"!=typeof s||this.deoptimizedPaths.has(s))return UnknownValue;if(1===e.length&&!this.propertyMap[s]&&!objectMembers[s]&&0===this.unmatchablePropertiesRead.length){const e=this.expressionsToBeDeoptimized.get(s);return void(e?e.push(r):this.expressionsToBeDeoptimized.set(s,[r]))}if(!this.propertyMap[s]||null===this.propertyMap[s].exactMatchRead||this.propertyMap[s].propertiesRead.length>1)return UnknownValue;const n=this.expressionsToBeDeoptimized.get(s);return n?n.push(r):this.expressionsToBeDeoptimized.set(s,[r]),this.propertyMap[s].exactMatchRead.getLiteralValueAtPath(e.slice(1),t,r)}getReturnExpressionWhenCalledAtPath(e,t,r){null===this.propertyMap&&this.buildPropertyMap();const s=e[0];if(0===e.length||this.hasUnknownDeoptimizedProperty||"string"!=typeof s||this.deoptimizedPaths.has(s))return UNKNOWN_EXPRESSION;if(1===e.length&&objectMembers[s]&&0===this.unmatchablePropertiesRead.length&&(!this.propertyMap[s]||null===this.propertyMap[s].exactMatchRead))return getMemberReturnExpressionWhenCalled(objectMembers,s);if(!this.propertyMap[s]||null===this.propertyMap[s].exactMatchRead||this.propertyMap[s].propertiesRead.length>1)return UNKNOWN_EXPRESSION;const n=this.expressionsToBeDeoptimized.get(s);return n?n.push(r):this.expressionsToBeDeoptimized.set(s,[r]),this.propertyMap[s].exactMatchRead.getReturnExpressionWhenCalledAtPath(e.slice(1),t,r)}hasEffectsWhenAccessedAtPath(e,t){if(0===e.length)return!1;const r=e[0];if(e.length>1&&(this.hasUnknownDeoptimizedProperty||"string"!=typeof r||this.deoptimizedPaths.has(r)||!this.propertyMap[r]||null===this.propertyMap[r].exactMatchRead))return!0;const s=e.slice(1);for(const e of"string"!=typeof r?this.properties:this.propertyMap[r]?this.propertyMap[r].propertiesRead:[])if(e.hasEffectsWhenAccessedAtPath(s,t))return!0;return!1}hasEffectsWhenAssignedAtPath(e,t){if(0===e.length)return!1;const r=e[0];if(e.length>1&&(this.hasUnknownDeoptimizedProperty||"string"!=typeof r||this.deoptimizedPaths.has(r)||!this.propertyMap[r]||null===this.propertyMap[r].exactMatchRead))return!0;const s=e.slice(1);for(const n of"string"!=typeof r?this.properties:e.length>1?this.propertyMap[r].propertiesRead:this.propertyMap[r]?this.propertyMap[r].propertiesSet:[])if(n.hasEffectsWhenAssignedAtPath(s,t))return!0;return!1}hasEffectsWhenCalledAtPath(e,t,r){const s=e[0];if(0===e.length||this.hasUnknownDeoptimizedProperty||"string"!=typeof s||this.deoptimizedPaths.has(s)||(this.propertyMap[s]?!this.propertyMap[s].exactMatchRead:e.length>1||!objectMembers[s]))return!0;const n=e.slice(1);for(const e of this.propertyMap[s]?this.propertyMap[s].propertiesRead:[])if(e.hasEffectsWhenCalledAtPath(n,t,r))return!0;return!(1!==e.length||!objectMembers[s])&&hasMemberEffectWhenCalled(objectMembers,s,this.included,t,r)}render(e,t,{renderedParentType:r}=BLANK){super.render(e,t),r===ExpressionStatement&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}buildPropertyMap(){this.propertyMap=Object.create(null);for(let e=this.properties.length-1;e>=0;e--){const t=this.properties[e];if(t instanceof SpreadElement){this.unmatchablePropertiesRead.push(t);continue}const r="get"!==t.kind,s="set"!==t.kind;let n;if(t.computed){const e=t.key.getLiteralValueAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this);if(e===UnknownValue){s?this.unmatchablePropertiesRead.push(t):this.unmatchablePropertiesWrite.push(t);continue}n=String(e)}else n=t.key instanceof Identifier$1?t.key.name:String(t.key.value);const i=this.propertyMap[n];i?(s&&null===i.exactMatchRead&&(i.exactMatchRead=t,i.propertiesRead.push(t,...this.unmatchablePropertiesRead)),r&&!s&&null===i.exactMatchWrite&&(i.exactMatchWrite=t,i.propertiesSet.push(t,...this.unmatchablePropertiesWrite))):this.propertyMap[n]={exactMatchRead:s?t:null,exactMatchWrite:r?t:null,propertiesRead:s?[t,...this.unmatchablePropertiesRead]:[],propertiesSet:r&&!s?[t,...this.unmatchablePropertiesWrite]:[]}}}deoptimizeAllProperties(){this.hasUnknownDeoptimizedProperty=!0;for(const e of this.properties)e.deoptimizePath(UNKNOWN_PATH);for(const e of this.expressionsToBeDeoptimized.values())for(const t of e)t.deoptimizeCache()}}class ObjectPattern extends NodeBase{addExportedVariables(e){for(const t of this.properties)t.type===Property?t.value.addExportedVariables(e):t.argument.addExportedVariables(e)}declare(e,t){const r=[];for(const s of this.properties)r.push(...s.declare(e,t));return r}deoptimizePath(e){if(0===e.length)for(const t of this.properties)t.deoptimizePath(e)}hasEffectsWhenAssignedAtPath(e,t){if(e.length>0)return!0;for(const e of this.properties)if(e.hasEffectsWhenAssignedAtPath(EMPTY_PATH,t))return!0;return!1}}class Program$1 extends NodeBase{hasEffects(e){for(const t of this.body)if(t.hasEffects(e))return!0;return!1}include(e,t){this.included=!0;for(const r of this.body)(t||r.shouldBeIncluded(e))&&r.include(e,t)}render(e,t){this.body.length?renderStatementList(this.body,e,this.start,this.end,t):super.render(e,t)}}class Property$1 extends NodeBase{constructor(){super(...arguments),this.declarationInit=null,this.returnExpression=null}bind(){super.bind(),"get"===this.kind&&null===this.returnExpression&&this.updateReturnExpression(),null!==this.declarationInit&&this.declarationInit.deoptimizePath([UnknownKey,UnknownKey])}declare(e,t){return this.declarationInit=t,this.value.declare(e,UNKNOWN_EXPRESSION)}deoptimizeCache(){throw new Error("Unexpected deoptimization")}deoptimizePath(e){"get"===this.kind?e.length>0&&(null===this.returnExpression&&this.updateReturnExpression(),this.returnExpression.deoptimizePath(e)):"set"!==this.kind&&this.value.deoptimizePath(e)}getLiteralValueAtPath(e,t,r){return"get"===this.kind?(null===this.returnExpression&&this.updateReturnExpression(),this.returnExpression.getLiteralValueAtPath(e,t,r)):this.value.getLiteralValueAtPath(e,t,r)}getReturnExpressionWhenCalledAtPath(e,t,r){return"get"===this.kind?(null===this.returnExpression&&this.updateReturnExpression(),this.returnExpression.getReturnExpressionWhenCalledAtPath(e,t,r)):this.value.getReturnExpressionWhenCalledAtPath(e,t,r)}hasEffects(e){return this.key.hasEffects(e)||this.value.hasEffects(e)}hasEffectsWhenAccessedAtPath(e,t){if("get"===this.kind){const r=t.accessed.getEntities(e);return!r.has(this)&&(r.add(this),this.value.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.accessorCallOptions,t)||e.length>0&&this.returnExpression.hasEffectsWhenAccessedAtPath(e,t))}return this.value.hasEffectsWhenAccessedAtPath(e,t)}hasEffectsWhenAssignedAtPath(e,t){if("get"===this.kind){const r=t.assigned.getEntities(e);return!r.has(this)&&(r.add(this),this.returnExpression.hasEffectsWhenAssignedAtPath(e,t))}if("set"===this.kind){const r=t.assigned.getEntities(e);return!r.has(this)&&(r.add(this),this.value.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.accessorCallOptions,t))}return this.value.hasEffectsWhenAssignedAtPath(e,t)}hasEffectsWhenCalledAtPath(e,t,r){if("get"===this.kind){const s=(t.withNew?r.instantiated:r.called).getEntities(e);return!s.has(this)&&(s.add(this),this.returnExpression.hasEffectsWhenCalledAtPath(e,t,r))}return this.value.hasEffectsWhenCalledAtPath(e,t,r)}initialise(){this.accessorCallOptions={args:NO_ARGS,withNew:!1}}render(e,t){this.shorthand||this.key.render(e,t),this.value.render(e,t,{isShorthandProperty:this.shorthand})}updateReturnExpression(){this.returnExpression=UNKNOWN_EXPRESSION,this.returnExpression=this.value.getReturnExpressionWhenCalledAtPath(EMPTY_PATH,EMPTY_IMMUTABLE_TRACKER,this)}}class ReturnStatement$1 extends NodeBase{hasEffects(e){return!(e.ignore.returnAwaitYield&&(null===this.argument||!this.argument.hasEffects(e)))||(e.breakFlow=BREAKFLOW_ERROR_RETURN,!1)}include(e,t){this.included=!0,this.argument&&this.argument.include(e,t),e.breakFlow=BREAKFLOW_ERROR_RETURN}initialise(){this.scope.addReturnExpression(this.argument||UNKNOWN_EXPRESSION)}render(e,t){this.argument&&(this.argument.render(e,t,{preventASI:!0}),this.argument.start===this.start+6&&e.prependLeft(this.start+6," "))}}class SequenceExpression extends NodeBase{deoptimizePath(e){e.length>0&&this.expressions[this.expressions.length-1].deoptimizePath(e)}getLiteralValueAtPath(e,t,r){return this.expressions[this.expressions.length-1].getLiteralValueAtPath(e,t,r)}hasEffects(e){for(const t of this.expressions)if(t.hasEffects(e))return!0;return!1}hasEffectsWhenAccessedAtPath(e,t){return e.length>0&&this.expressions[this.expressions.length-1].hasEffectsWhenAccessedAtPath(e,t)}hasEffectsWhenAssignedAtPath(e,t){return 0===e.length||this.expressions[this.expressions.length-1].hasEffectsWhenAssignedAtPath(e,t)}hasEffectsWhenCalledAtPath(e,t,r){return this.expressions[this.expressions.length-1].hasEffectsWhenCalledAtPath(e,t,r)}include(e,t){this.included=!0;for(let r=0;r<this.expressions.length-1;r++){const s=this.expressions[r];(t||s.shouldBeIncluded(e))&&s.include(e,t)}this.expressions[this.expressions.length-1].include(e,t)}render(e,t,{renderedParentType:r,isCalleeOfRenderedParent:s,preventASI:n}=BLANK){let i=0;for(const{node:a,start:o,end:l}of getCommaSeparatedNodesWithBoundaries(this.expressions,e,this.start,this.end))a.included?(1===++i&&n&&removeLineBreaks(e,o,a.start),a===this.expressions[this.expressions.length-1]&&1===i?a.render(e,t,{isCalleeOfRenderedParent:r?s:this.parent.callee===this,renderedParentType:r||this.parent.type}):a.render(e,t)):treeshakeNode(a,e,o,l)}}class SwitchCase extends NodeBase{hasEffects(e){if(this.test&&this.test.hasEffects(e))return!0;for(const t of this.consequent){if(e.breakFlow)break;if(t.hasEffects(e))return!0}return!1}include(e,t){this.included=!0,this.test&&this.test.include(e,t);for(const r of this.consequent)(t||r.shouldBeIncluded(e))&&r.include(e,t)}render(e,t){if(this.consequent.length){this.test&&this.test.render(e,t);const r=this.test?this.test.end:findFirstOccurrenceOutsideComment(e.original,"default",this.start)+7,s=findFirstOccurrenceOutsideComment(e.original,":",r)+1;renderStatementList(this.consequent,e,s,this.end,t)}else super.render(e,t)}}function getMinBreakflowAfterCase(e,t){if(!e||!t.breakFlow)return BREAKFLOW_NONE;if(e instanceof Set){if(t.breakFlow instanceof Set)for(const r of t.breakFlow)e.add(r);return e}return t.breakFlow}class SwitchStatement extends NodeBase{createScope(e){this.scope=new BlockScope(e)}hasEffects(e){if(this.discriminant.hasEffects(e))return!0;const{breakFlow:t,ignore:{breakStatements:r}}=e;let s=!1,n=BREAKFLOW_ERROR_RETURN;e.ignore.breakStatements=!0;for(const r of this.cases){if(r.hasEffects(e))return!0;null===r.test&&(s=!0),n=getMinBreakflowAfterCase(n,e),e.breakFlow=t}return!s||n instanceof Set&&n.has(null)||(e.breakFlow=n),e.ignore.breakStatements=r,!1}include(e,t){this.included=!0,this.discriminant.include(e,t);const{breakFlow:r}=e;let s=!1,n=BREAKFLOW_ERROR_RETURN;for(const i of this.cases)null===i.test&&(s=!0),i.include(e,t),n=getMinBreakflowAfterCase(n,e),e.breakFlow=r;!s||n instanceof Set&&n.has(null)||(e.breakFlow=n)}}class TaggedTemplateExpression extends NodeBase{bind(){if(super.bind(),this.tag.type===Identifier){this.scope.findVariable(this.tag.name).isNamespace&&this.context.error({code:"CANNOT_CALL_NAMESPACE",message:`Cannot call a namespace ('${this.tag.name}')`},this.start),"eval"===this.tag.name&&this.context.warn({code:"EVAL",message:"Use of eval is strongly discouraged, as it poses security risks and may cause issues with minification",url:"https://rollupjs.org/guide/en/#avoiding-eval"},this.start)}}hasEffects(e){return super.hasEffects(e)||this.tag.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.callOptions,e)}initialise(){this.callOptions={args:NO_ARGS,withNew:!1}}}class TemplateElement extends NodeBase{hasEffects(){return!1}}class TemplateLiteral extends NodeBase{getLiteralValueAtPath(e){return e.length>0||1!==this.quasis.length?UnknownValue:this.quasis[0].value.cooked}render(e,t){e.indentExclusionRanges.push([this.start,this.end]),super.render(e,t)}}class ModuleScope extends ChildScope{constructor(e,t){super(e),this.context=t,this.variables.set("this",new LocalVariable("this",null,UNDEFINED_EXPRESSION,t))}addExportDefaultDeclaration(e,t,r){const s=new ExportDefaultVariable(e,t,r);return this.variables.set("default",s),s}addNamespaceMemberAccess(e,t){t instanceof GlobalVariable&&this.accessedOutsideVariables.set(t.name,t)}deconflict(e){for(const t of this.children)t.deconflict(e)}findLexicalBoundary(){return this}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const r=this.context.traceVariable(e)||this.parent.findVariable(e);return r instanceof GlobalVariable&&this.accessedOutsideVariables.set(e,r),r}}class ThisExpression extends NodeBase{bind(){super.bind(),this.variable=this.scope.findVariable("this")}hasEffectsWhenAccessedAtPath(e,t){return e.length>0&&this.variable.hasEffectsWhenAccessedAtPath(e,t)}hasEffectsWhenAssignedAtPath(e,t){return this.variable.hasEffectsWhenAssignedAtPath(e,t)}initialise(){this.alias=this.scope.findLexicalBoundary()instanceof ModuleScope?this.context.moduleContext:null,"undefined"===this.alias&&this.context.warn({code:"THIS_IS_UNDEFINED",message:"The 'this' keyword is equivalent to 'undefined' at the top level of an ES module, and has been rewritten",url:"https://rollupjs.org/guide/en/#error-this-is-undefined"},this.start)}render(e){null!==this.alias&&e.overwrite(this.start,this.end,this.alias,{contentOnly:!1,storeName:!0})}}class ThrowStatement extends NodeBase{hasEffects(){return!0}include(e,t){this.included=!0,this.argument.include(e,t),e.breakFlow=BREAKFLOW_ERROR_RETURN}render(e,t){this.argument.render(e,t,{preventASI:!0})}}class TryStatement extends NodeBase{constructor(){super(...arguments),this.directlyIncluded=!1}hasEffects(e){return this.block.body.length>0||null!==this.handler&&this.handler.hasEffects(e)||null!==this.finalizer&&this.finalizer.hasEffects(e)}include(e,t){const{breakFlow:r}=e;this.directlyIncluded&&this.context.tryCatchDeoptimization||(this.included=!0,this.directlyIncluded=!0,this.block.include(e,this.context.tryCatchDeoptimization?INCLUDE_PARAMETERS:t),e.breakFlow=r),null!==this.handler&&(this.handler.include(e,t),e.breakFlow=r),null!==this.finalizer&&this.finalizer.include(e,t)}}const unaryOperators={"!":e=>!e,"+":e=>+e,"-":e=>-e,delete:()=>UnknownValue,typeof:e=>typeof e,void:()=>void 0,"~":e=>~e};class UnaryExpression extends NodeBase{bind(){super.bind(),"delete"===this.operator&&this.argument.deoptimizePath(EMPTY_PATH)}getLiteralValueAtPath(e,t,r){if(e.length>0)return UnknownValue;const s=this.argument.getLiteralValueAtPath(EMPTY_PATH,t,r);return s===UnknownValue?UnknownValue:unaryOperators[this.operator](s)}hasEffects(e){return!("typeof"===this.operator&&this.argument instanceof Identifier$1)&&(this.argument.hasEffects(e)||"delete"===this.operator&&this.argument.hasEffectsWhenAssignedAtPath(EMPTY_PATH,e))}hasEffectsWhenAccessedAtPath(e){return"void"===this.operator?e.length>0:e.length>1}}class UnknownNode extends NodeBase{hasEffects(){return!0}include(e){super.include(e,!0)}}class UpdateExpression extends NodeBase{bind(){if(super.bind(),this.argument.deoptimizePath(EMPTY_PATH),this.argument instanceof Identifier$1){this.scope.findVariable(this.argument.name).isReassigned=!0}}hasEffects(e){return this.argument.hasEffects(e)||this.argument.hasEffectsWhenAssignedAtPath(EMPTY_PATH,e)}hasEffectsWhenAccessedAtPath(e){return e.length>1}render(e,t){this.argument.render(e,t);const r=this.argument.variable;if("system"===t.format&&r&&r.exportName){const t=r.getName();if(this.prefix)e.overwrite(this.start,this.end,`exports('${r.exportName}', ${this.operator}${t})`);else{let s;switch(this.operator){case"++":s=`${t} + 1`;break;case"--":s=`${t} - 1`}e.overwrite(this.start,this.end,`(exports('${r.exportName}', ${s}), ${t}${this.operator})`)}}}}function isReassignedExportsMember(e){return null!==e.renderBaseName&&null!==e.exportName&&e.isReassigned}function areAllDeclarationsIncludedAndNotExported(e){for(const t of e){if(!t.included)return!1;if(t.id.type===Identifier){if(t.id.variable.exportName)return!1}else{const e=[];if(t.id.addExportedVariables(e),e.length>0)return!1}}return!0}class VariableDeclaration$1 extends NodeBase{deoptimizePath(){for(const e of this.declarations)e.deoptimizePath(EMPTY_PATH)}hasEffectsWhenAssignedAtPath(){return!1}include(e,t){this.included=!0;for(const r of this.declarations)(t||r.shouldBeIncluded(e))&&r.include(e,t)}includeWithAllDeclaredVariables(e,t){this.included=!0;for(const r of this.declarations)r.include(t,e)}initialise(){for(const e of this.declarations)e.declareDeclarator(this.kind)}render(e,t,r=BLANK){if(areAllDeclarationsIncludedAndNotExported(this.declarations)){for(const r of this.declarations)r.render(e,t);r.isNoStatement||59===e.original.charCodeAt(this.end-1)||e.appendLeft(this.end,";")}else this.renderReplacedDeclarations(e,t,r)}renderDeclarationEnd(e,t,r,s,n,i,a){59===e.original.charCodeAt(this.end-1)&&e.remove(this.end-1,this.end),i&&(t+=";"),null!==r?(10!==e.original.charCodeAt(s-1)||10!==e.original.charCodeAt(this.end)&&13!==e.original.charCodeAt(this.end)||(s--,13===e.original.charCodeAt(s)&&s--),s===r+1?e.overwrite(r,n,t):(e.overwrite(r,r+1,t),e.remove(s,n))):e.appendLeft(n,t),a.length>0&&e.appendLeft(n," "+getSystemExportStatement(a))}renderReplacedDeclarations(e,t,{start:r=this.start,end:s=this.end,isNoStatement:n}){const i=getCommaSeparatedNodesWithBoundaries(this.declarations,e,this.start+this.kind.length,this.end-(59===e.original.charCodeAt(this.end-1)?1:0));let a,o,l=(o=/\n\s*$/.test(e.slice(this.start,i[0].start))?this.start+this.kind.length:i[0].start)-1;e.remove(this.start,l);let c,h,u=!1,p=!1,d="";const f=[];for(const{node:r,start:s,separator:n,contentEnd:m,end:g}of i)!r.included||r.id instanceof Identifier$1&&isReassignedExportsMember(r.id.variable)&&null===r.init?e.remove(s,g):(c="",h="",r.id instanceof Identifier$1&&isReassignedExportsMember(r.id.variable)?(p&&(d+=";"),u=!1):("system"===t.format&&null!==r.init&&(r.id.type!==Identifier?r.id.addExportedVariables(f):r.id.variable.exportName&&(e.prependLeft(e.original.indexOf("=",r.id.end)+1,` exports('${r.id.variable.safeExportName||r.id.variable.exportName}',`),h+=")")),u?d+=",":(p&&(d+=";"),c+=`${this.kind} `,u=!0)),o===l+1?e.overwrite(l,o,d+c):(e.overwrite(l,l+1,d),e.appendLeft(o,c)),r.render(e,t),a=m,o=g,p=!0,l=n,d=h);p?this.renderDeclarationEnd(e,d,l,a,o,!n,f):e.remove(r,s)}}class VariableDeclarator extends NodeBase{declareDeclarator(e){this.id.declare(e,this.init||UNDEFINED_EXPRESSION)}deoptimizePath(e){this.id.deoptimizePath(e)}render(e,t){null===this.init||this.init.included?super.render(e,t):(e.remove(this.id.end,this.end),this.id.render(e,t))}}class WhileStatement extends NodeBase{hasEffects(e){if(this.test.hasEffects(e))return!0;const{breakFlow:t,ignore:{breakStatements:r}}=e;return e.ignore.breakStatements=!0,!!this.body.hasEffects(e)||(e.ignore.breakStatements=r,e.breakFlow=t,!1)}include(e,t){this.included=!0,this.test.include(e,t);const{breakFlow:r}=e;this.body.include(e,t),e.breakFlow=r}}class YieldExpression extends NodeBase{bind(){super.bind(),null!==this.argument&&this.argument.deoptimizePath(UNKNOWN_PATH)}hasEffects(e){return!e.ignore.returnAwaitYield||null!==this.argument&&this.argument.hasEffects(e)}render(e,t){this.argument&&(this.argument.render(e,t),this.argument.start===this.start+5&&e.prependLeft(this.start+5," "))}}const nodeConstructors={ArrayExpression:ArrayExpression,ArrayPattern:ArrayPattern,ArrowFunctionExpression:ArrowFunctionExpression,AssignmentExpression:AssignmentExpression,AssignmentPattern:AssignmentPattern,AwaitExpression:AwaitExpression,BinaryExpression:BinaryExpression,BlockStatement:BlockStatement$1,BreakStatement:BreakStatement,CallExpression:CallExpression$1,CatchClause:CatchClause,ClassBody:ClassBody,ClassDeclaration:ClassDeclaration,ClassExpression:ClassExpression,ConditionalExpression:ConditionalExpression,ContinueStatement:ContinueStatement,DoWhileStatement:DoWhileStatement,EmptyStatement:EmptyStatement,ExportAllDeclaration:ExportAllDeclaration$1,ExportDefaultDeclaration:ExportDefaultDeclaration,ExportNamedDeclaration:ExportNamedDeclaration,ExpressionStatement:ExpressionStatement$1,ForInStatement:ForInStatement,ForOfStatement:ForOfStatement,ForStatement:ForStatement,FunctionDeclaration:FunctionDeclaration,FunctionExpression:FunctionExpression$1,Identifier:Identifier$1,IfStatement:IfStatement,ImportDeclaration:ImportDeclaration,ImportExpression:Import,LabeledStatement:LabeledStatement,Literal:Literal,LogicalExpression:LogicalExpression,MemberExpression:MemberExpression,MetaProperty:MetaProperty,MethodDefinition:MethodDefinition,NewExpression:NewExpression,ObjectExpression:ObjectExpression,ObjectPattern:ObjectPattern,Program:Program$1,Property:Property$1,RestElement:RestElement,ReturnStatement:ReturnStatement$1,SequenceExpression:SequenceExpression,SpreadElement:SpreadElement,SwitchCase:SwitchCase,SwitchStatement:SwitchStatement,TaggedTemplateExpression:TaggedTemplateExpression,TemplateElement:TemplateElement,TemplateLiteral:TemplateLiteral,ThisExpression:ThisExpression,ThrowStatement:ThrowStatement,TryStatement:TryStatement,UnaryExpression:UnaryExpression,UnknownNode:UnknownNode,UpdateExpression:UpdateExpression,VariableDeclaration:VariableDeclaration$1,VariableDeclarator:VariableDeclarator,WhileStatement:WhileStatement,YieldExpression:YieldExpression};function getOriginalLocation(e,t){const r=e.filter(e=>e.mappings);for(;r.length>0;){const e=r.pop(),s=e.mappings[t.line-1];let n=!1;if(void 0!==s)for(const r of s)if(r[0]>=t.column){if(1===r.length)break;t={column:r[3],line:r[2]+1,name:5===r.length?e.names[r[4]]:void 0,source:e.sources[r[1]]},n=!0;break}if(!n)throw new Error("Can't resolve original location of error.")}return t}function skipThrough(e,t,r){r(e,t)}function ignore(e,t,r){}var base$1={};function handlePureAnnotationsOfNode(e,t,r=e.type){let s=t.commentNodes[t.commentIndex];for(;s&&e.start>=s.end;)markPureNode(e,s),s=t.commentNodes[++t.commentIndex];s&&s.end<=e.end&&base$1[r](e,t,handlePureAnnotationsOfNode)}function markPureNode(e,t){e.annotations?e.annotations.push(t):e.annotations=[t],"ExpressionStatement"===e.type&&(e=e.expression),"CallExpression"!==e.type&&"NewExpression"!==e.type||(e.annotatedPure=!0)}base$1.Program=base$1.BlockStatement=function(e,t,r){for(var s=0,n=e.body;s<n.length;s+=1){r(n[s],t,"Statement")}},base$1.Statement=skipThrough,base$1.EmptyStatement=ignore,base$1.ExpressionStatement=base$1.ParenthesizedExpression=function(e,t,r){return r(e.expression,t,"Expression")},base$1.IfStatement=function(e,t,r){r(e.test,t,"Expression"),r(e.consequent,t,"Statement"),e.alternate&&r(e.alternate,t,"Statement")},base$1.LabeledStatement=function(e,t,r){return r(e.body,t,"Statement")},base$1.BreakStatement=base$1.ContinueStatement=ignore,base$1.WithStatement=function(e,t,r){r(e.object,t,"Expression"),r(e.body,t,"Statement")},base$1.SwitchStatement=function(e,t,r){r(e.discriminant,t,"Expression");for(var s=0,n=e.cases;s<n.length;s+=1){var i=n[s];i.test&&r(i.test,t,"Expression");for(var a=0,o=i.consequent;a<o.length;a+=1){r(o[a],t,"Statement")}}},base$1.SwitchCase=function(e,t,r){e.test&&r(e.test,t,"Expression");for(var s=0,n=e.consequent;s<n.length;s+=1){r(n[s],t,"Statement")}},base$1.ReturnStatement=base$1.YieldExpression=base$1.AwaitExpression=function(e,t,r){e.argument&&r(e.argument,t,"Expression")},base$1.ThrowStatement=base$1.SpreadElement=function(e,t,r){return r(e.argument,t,"Expression")},base$1.TryStatement=function(e,t,r){r(e.block,t,"Statement"),e.handler&&r(e.handler,t),e.finalizer&&r(e.finalizer,t,"Statement")},base$1.CatchClause=function(e,t,r){e.param&&r(e.param,t,"Pattern"),r(e.body,t,"Statement")},base$1.WhileStatement=base$1.DoWhileStatement=function(e,t,r){r(e.test,t,"Expression"),r(e.body,t,"Statement")},base$1.ForStatement=function(e,t,r){e.init&&r(e.init,t,"ForInit"),e.test&&r(e.test,t,"Expression"),e.update&&r(e.update,t,"Expression"),r(e.body,t,"Statement")},base$1.ForInStatement=base$1.ForOfStatement=function(e,t,r){r(e.left,t,"ForInit"),r(e.right,t,"Expression"),r(e.body,t,"Statement")},base$1.ForInit=function(e,t,r){"VariableDeclaration"===e.type?r(e,t):r(e,t,"Expression")},base$1.DebuggerStatement=ignore,base$1.FunctionDeclaration=function(e,t,r){return r(e,t,"Function")},base$1.VariableDeclaration=function(e,t,r){for(var s=0,n=e.declarations;s<n.length;s+=1){r(n[s],t)}},base$1.VariableDeclarator=function(e,t,r){r(e.id,t,"Pattern"),e.init&&r(e.init,t,"Expression")},base$1.Function=function(e,t,r){e.id&&r(e.id,t,"Pattern");for(var s=0,n=e.params;s<n.length;s+=1){r(n[s],t,"Pattern")}r(e.body,t,e.expression?"Expression":"Statement")},base$1.Pattern=function(e,t,r){"Identifier"===e.type?r(e,t,"VariablePattern"):"MemberExpression"===e.type?r(e,t,"MemberPattern"):r(e,t)},base$1.VariablePattern=ignore,base$1.MemberPattern=skipThrough,base$1.RestElement=function(e,t,r){return r(e.argument,t,"Pattern")},base$1.ArrayPattern=function(e,t,r){for(var s=0,n=e.elements;s<n.length;s+=1){var i=n[s];i&&r(i,t,"Pattern")}},base$1.ObjectPattern=function(e,t,r){for(var s=0,n=e.properties;s<n.length;s+=1){var i=n[s];"Property"===i.type?(i.computed&&r(i.key,t,"Expression"),r(i.value,t,"Pattern")):"RestElement"===i.type&&r(i.argument,t,"Pattern")}},base$1.Expression=skipThrough,base$1.ThisExpression=base$1.Super=base$1.MetaProperty=ignore,base$1.ArrayExpression=function(e,t,r){for(var s=0,n=e.elements;s<n.length;s+=1){var i=n[s];i&&r(i,t,"Expression")}},base$1.ObjectExpression=function(e,t,r){for(var s=0,n=e.properties;s<n.length;s+=1){r(n[s],t)}},base$1.FunctionExpression=base$1.ArrowFunctionExpression=base$1.FunctionDeclaration,base$1.SequenceExpression=function(e,t,r){for(var s=0,n=e.expressions;s<n.length;s+=1){r(n[s],t,"Expression")}},base$1.TemplateLiteral=function(e,t,r){for(var s=0,n=e.quasis;s<n.length;s+=1){r(n[s],t)}for(var i=0,a=e.expressions;i<a.length;i+=1){r(a[i],t,"Expression")}},base$1.TemplateElement=ignore,base$1.UnaryExpression=base$1.UpdateExpression=function(e,t,r){r(e.argument,t,"Expression")},base$1.BinaryExpression=base$1.LogicalExpression=function(e,t,r){r(e.left,t,"Expression"),r(e.right,t,"Expression")},base$1.AssignmentExpression=base$1.AssignmentPattern=function(e,t,r){r(e.left,t,"Pattern"),r(e.right,t,"Expression")},base$1.ConditionalExpression=function(e,t,r){r(e.test,t,"Expression"),r(e.consequent,t,"Expression"),r(e.alternate,t,"Expression")},base$1.NewExpression=base$1.CallExpression=function(e,t,r){if(r(e.callee,t,"Expression"),e.arguments)for(var s=0,n=e.arguments;s<n.length;s+=1){r(n[s],t,"Expression")}},base$1.MemberExpression=function(e,t,r){r(e.object,t,"Expression"),e.computed&&r(e.property,t,"Expression")},base$1.ExportNamedDeclaration=base$1.ExportDefaultDeclaration=function(e,t,r){e.declaration&&r(e.declaration,t,"ExportNamedDeclaration"===e.type||e.declaration.id?"Statement":"Expression"),e.source&&r(e.source,t,"Expression")},base$1.ExportAllDeclaration=function(e,t,r){r(e.source,t,"Expression")},base$1.ImportDeclaration=function(e,t,r){for(var s=0,n=e.specifiers;s<n.length;s+=1){r(n[s],t)}r(e.source,t,"Expression")},base$1.ImportExpression=function(e,t,r){r(e.source,t,"Expression")},base$1.ImportSpecifier=base$1.ImportDefaultSpecifier=base$1.ImportNamespaceSpecifier=base$1.Identifier=base$1.Literal=ignore,base$1.TaggedTemplateExpression=function(e,t,r){r(e.tag,t,"Expression"),r(e.quasi,t,"Expression")},base$1.ClassDeclaration=base$1.ClassExpression=function(e,t,r){return r(e,t,"Class")},base$1.Class=function(e,t,r){e.id&&r(e.id,t,"Pattern"),e.superClass&&r(e.superClass,t,"Expression"),r(e.body,t)},base$1.ClassBody=function(e,t,r){for(var s=0,n=e.body;s<n.length;s+=1){r(n[s],t)}},base$1.MethodDefinition=base$1.Property=function(e,t,r){e.computed&&r(e.key,t,"Expression"),r(e.value,t,"Expression")};const pureCommentRegex=/[@#]__PURE__/,isPureComment=e=>pureCommentRegex.test(e.text);function markPureCallExpressions(e,t){handlePureAnnotationsOfNode(t,{commentIndex:0,commentNodes:e.filter(isPureComment)})}let SOURCEMAPPING_URL="sourceMa";SOURCEMAPPING_URL+="ppingURL";const SOURCEMAPPING_URL_RE=new RegExp(`^#\\s+${SOURCEMAPPING_URL}=.+\\n?`),NOOP=()=>{};let getStartTime=()=>[0,0],getElapsedTime=()=>0,getMemory=()=>0,timers={};const normalizeHrTime=e=>1e3*e[0]+e[1]/1e6;function setTimeHelpers(){"undefined"!=typeof process&&"function"==typeof process.hrtime?(getStartTime=process.hrtime.bind(process),getElapsedTime=e=>normalizeHrTime(process.hrtime(e))):"undefined"!=typeof performance&&"function"==typeof performance.now&&(getStartTime=()=>[performance.now(),0],getElapsedTime=e=>performance.now()-e[0]),"undefined"!=typeof process&&"function"==typeof process.memoryUsage&&(getMemory=()=>process.memoryUsage().heapUsed)}function getPersistedLabel(e,t){switch(t){case 1:return`# ${e}`;case 2:return`## ${e}`;case 3:return e;default:return`${"  ".repeat(t-4)}- ${e}`}}function timeStartImpl(e,t=3){e=getPersistedLabel(e,t),timers.hasOwnProperty(e)||(timers[e]={memory:0,startMemory:void 0,startTime:void 0,time:0,totalMemory:0});const r=getMemory();timers[e].startTime=getStartTime(),timers[e].startMemory=r}function timeEndImpl(e,t=3){if(e=getPersistedLabel(e,t),timers.hasOwnProperty(e)){const t=getMemory();timers[e].time+=getElapsedTime(timers[e].startTime),timers[e].totalMemory=Math.max(timers[e].totalMemory,t),timers[e].memory+=t-timers[e].startMemory}}function getTimings(){const e={};return Object.keys(timers).forEach(t=>{e[t]=[timers[t].time,timers[t].memory,timers[t].totalMemory]}),e}let timeStart=NOOP,timeEnd=NOOP;const TIMED_PLUGIN_HOOKS={load:!0,ongenerate:!0,onwrite:!0,resolveDynamicImport:!0,resolveId:!0,transform:!0,transformBundle:!0};function getPluginWithTimers(e,t){const r={};for(const s of Object.keys(e))if(!0===TIMED_PLUGIN_HOOKS[s]){let n=`plugin ${t}`;e.name&&(n+=` (${e.name})`),n+=` - ${s}`,r[s]=function(){timeStart(n,4);const t=e[s].apply(this===r?e:this,arguments);return timeEnd(n,4),t&&"function"==typeof t.then&&(timeStart(`${n} (async)`,4),t.then(()=>timeEnd(`${n} (async)`,4))),t}}else r[s]=e[s];return r}function initialiseTimers(e){e.perf?(timers={},setTimeHelpers(),timeStart=timeStartImpl,timeEnd=timeEndImpl,e.plugins=e.plugins.map(getPluginWithTimers)):(timeStart=NOOP,timeEnd=NOOP)}const defaultAcornOptions={ecmaVersion:2020,preserveParens:!1,sourceType:"module"};function tryParse(e,t,r){try{return t.parse(e.code,Object.assign(Object.assign(Object.assign({},defaultAcornOptions),r),{onComment:(t,r,s,n)=>e.comments.push({block:t,text:r,start:s,end:n})}))}catch(t){let r=t.message.replace(/ \(\d+:\d+\)$/,"");e.id.endsWith(".json")?r+=" (Note that you need rollup-plugin-json to import JSON files)":e.id.endsWith(".js")||(r+=" (Note that you need plugins to import files that are not JavaScript)"),e.error({code:"PARSE_ERROR",message:r},t.pos)}}function handleMissingExport(e,t,r,s){t.error({code:"MISSING_EXPORT",message:`'${e}' is not exported by ${relativeId(r)}`,url:"https://rollupjs.org/guide/en/#error-name-is-not-exported-by-module"},s)}const MISSING_EXPORT_SHIM_DESCRIPTION={identifier:null,localName:MISSING_EXPORT_SHIM_VARIABLE};class Module{constructor(e,t,r,s){this.chunkFileNames=new Set,this.chunkName=null,this.comments=[],this.dependencies=[],this.dynamicallyImportedBy=[],this.dynamicDependencies=[],this.dynamicImports=[],this.entryPointsHash=new Uint8Array(10),this.execIndex=1/0,this.exportAllModules=null,this.exportAllSources=[],this.exports=Object.create(null),this.exportsAll=Object.create(null),this.exportShimVariable=new ExportShimVariable(this),this.facadeChunk=null,this.importDescriptions=Object.create(null),this.importMetas=[],this.imports=new Set,this.isExecuted=!1,this.isUserDefinedEntryPoint=!1,this.manualChunkAlias=null,this.reexports=Object.create(null),this.sources=[],this.userChunkNames=new Set,this.usesTopLevelAwait=!1,this.namespaceVariable=void 0,this.transformDependencies=[],this.id=t,this.graph=e,this.excludeFromSourcemap=/\0/.test(t),this.context=e.getModuleContext(t),this.moduleSideEffects=r,this.isEntryPoint=s}basename(){const e=path$2.basename(this.id),t=path$2.extname(this.id);return makeLegal(t?e.slice(0,-t.length):e)}bindReferences(){this.ast.bind()}error(e,t){if(void 0!==t){e.pos=t;let r=locate(this.code,t,{offsetLine:1});try{r=getOriginalLocation(this.sourcemapChain,r)}catch(e){this.warn({code:"SOURCEMAP_ERROR",loc:{column:r.column,file:this.id,line:r.line},message:`Error when using sourcemap for reporting an error: ${e.message}`,pos:t},void 0)}e.loc={column:r.column,file:this.id,line:r.line},e.frame=getCodeFrame(this.originalCode,r.line,r.column)}e.watchFiles=Object.keys(this.graph.watchFiles),error(e)}getAllExportNames(){if(this.allExportNames)return this.allExportNames;const e=this.allExportNames=new Set;for(const t of Object.keys(this.exports))e.add(t);for(const t of Object.keys(this.reexports))e.add(t);for(const t of this.exportAllModules)if(t instanceof ExternalModule)e.add(`*${t.id}`);else for(const r of t.getAllExportNames())"default"!==r&&e.add(r);return e}getDynamicImportExpressions(){return this.dynamicImports.map(({node:e})=>{const t=e.source;return t instanceof TemplateLiteral&&1===t.quasis.length&&t.quasis[0].value.cooked?t.quasis[0].value.cooked:t instanceof Literal&&"string"==typeof t.value?t.value:t})}getExportNamesByVariable(){const e=new Map;for(const t of this.getAllExportNames()){const r=this.getVariableForExportName(t);if(!r||!(r.included||r instanceof ExternalVariable))continue;const s=e.get(r);s?s.push(t):e.set(r,[t])}return e}getExports(){return Object.keys(this.exports)}getOrCreateNamespace(){return this.namespaceVariable||(this.namespaceVariable=new NamespaceVariable(this.astContext),this.namespaceVariable.initialise()),this.namespaceVariable}getReexports(){if(this.transitiveReexports)return this.transitiveReexports;this.transitiveReexports=[];const e=new Set;for(const t in this.reexports)e.add(t);for(const t of this.exportAllModules)if(t instanceof ExternalModule)e.add(`*${t.id}`);else for(const r of t.getExports().concat(t.getReexports()))"default"!==r&&e.add(r);return this.transitiveReexports=Array.from(e)}getRenderedExports(){const e=[],t=[];for(const r in this.exports){const s=this.getVariableForExportName(r);(s&&s.included?e:t).push(r)}return{renderedExports:e,removedExports:t}}getTransitiveDependencies(){return this.dependencies.concat(this.getReexports().map(e=>this.getVariableForExportName(e).module))}getVariableForExportName(e,t){if("*"===e[0]){if(1===e.length)return this.getOrCreateNamespace();return this.graph.moduleById.get(e.slice(1)).getVariableForExportName("*")}const r=this.reexports[e];if(r){const e=r.module.getVariableForExportName(r.localName);return e||handleMissingExport(r.localName,this,r.module.id,r.start),e}const s=this.exports[e];if(s){if(s===MISSING_EXPORT_SHIM_DESCRIPTION)return this.exportShimVariable;const e=s.localName;return this.traceVariable(e)||this.graph.scope.findVariable(e)}if("default"!==e)for(const t of this.exportAllModules){const r=t.getVariableForExportName(e,!0);if(r)return r}if(this.graph.shimMissingExports&&!t)return this.shimMissingExport(e),this.exportShimVariable}include(){const e=createInclusionContext();this.ast.shouldBeIncluded(e)&&this.ast.include(e,!1)}includeAllExports(){this.isExecuted||(this.graph.needsTreeshakingPass=!0,markModuleAndImpureDependenciesAsExecuted(this));const e=createInclusionContext();for(const t of this.getExports()){const r=this.getVariableForExportName(t);r.deoptimizePath(UNKNOWN_PATH),r.included||(r.include(e),this.graph.needsTreeshakingPass=!0)}for(const t of this.getReexports()){const r=this.getVariableForExportName(t);r.deoptimizePath(UNKNOWN_PATH),r.included||(r.include(e),this.graph.needsTreeshakingPass=!0),r instanceof ExternalVariable&&(r.module.reexported=!0)}}includeAllInBundle(){this.ast.include(createInclusionContext(),!0)}isIncluded(){return this.ast.included||this.namespaceVariable&&this.namespaceVariable.included}linkDependencies(){for(const e of this.sources){const t=this.resolvedIds[e].id;if(t){const e=this.graph.moduleById.get(t);this.dependencies.push(e)}}for(const{resolution:e}of this.dynamicImports)(e instanceof Module||e instanceof ExternalModule)&&this.dynamicDependencies.push(e);this.addModulesToSpecifiers(this.importDescriptions),this.addModulesToSpecifiers(this.reexports),this.exportAllModules=this.exportAllSources.map(e=>{const t=this.resolvedIds[e].id;return this.graph.moduleById.get(t)}).sort((e,t)=>{const r=e instanceof ExternalModule;return r===t instanceof ExternalModule?0:r?1:-1})}render(e){const t=this.magicString.clone();return this.ast.render(t,e),this.usesTopLevelAwait=this.astContext.usesTopLevelAwait,t}setSource({ast:e,code:t,customTransformCache:r,moduleSideEffects:s,originalCode:n,originalSourcemap:i,resolvedIds:a,sourcemapChain:o,transformDependencies:l,transformFiles:c}){this.code=t,this.originalCode=n,this.originalSourcemap=i,this.sourcemapChain=o,c&&(this.transformFiles=c),this.transformDependencies=l,this.customTransformCache=r,"boolean"==typeof s&&(this.moduleSideEffects=s),timeStart("generate ast",3),this.esTreeAst=e||tryParse(this,this.graph.acornParser,this.graph.acornOptions),markPureCallExpressions(this.comments,this.esTreeAst),timeEnd("generate ast",3),this.resolvedIds=a||Object.create(null);const h=this.id;this.magicString=new MagicString(t,{filename:this.excludeFromSourcemap?null:h,indentExclusionRanges:[]}),this.removeExistingSourceMap(),timeStart("analyse ast",3),this.astContext={addDynamicImport:this.addDynamicImport.bind(this),addExport:this.addExport.bind(this),addImport:this.addImport.bind(this),addImportMeta:this.addImportMeta.bind(this),annotations:this.graph.treeshakingOptions&&this.graph.treeshakingOptions.annotations,code:t,deoptimizationTracker:this.graph.deoptimizationTracker,error:this.error.bind(this),fileName:h,getExports:this.getExports.bind(this),getFileName:this.graph.pluginDriver.getFileName,getModuleExecIndex:()=>this.execIndex,getModuleName:this.basename.bind(this),getReexports:this.getReexports.bind(this),importDescriptions:this.importDescriptions,includeDynamicImport:this.includeDynamicImport.bind(this),includeVariable:this.includeVariable.bind(this),isCrossChunkImport:e=>e.module.chunk!==this.chunk,magicString:this.magicString,module:this,moduleContext:this.context,nodeConstructors:nodeConstructors,preserveModules:this.graph.preserveModules,propertyReadSideEffects:!this.graph.treeshakingOptions||this.graph.treeshakingOptions.propertyReadSideEffects,traceExport:this.getVariableForExportName.bind(this),traceVariable:this.traceVariable.bind(this),treeshake:!!this.graph.treeshakingOptions,tryCatchDeoptimization:!this.graph.treeshakingOptions||this.graph.treeshakingOptions.tryCatchDeoptimization,unknownGlobalSideEffects:!this.graph.treeshakingOptions||this.graph.treeshakingOptions.unknownGlobalSideEffects,usesTopLevelAwait:!1,warn:this.warn.bind(this),warnDeprecation:this.graph.warnDeprecation.bind(this.graph)},this.scope=new ModuleScope(this.graph.scope,this.astContext),this.ast=new Program$1(this.esTreeAst,{type:"Module",context:this.astContext},this.scope),timeEnd("analyse ast",3)}toJSON(){return{ast:this.esTreeAst,code:this.code,customTransformCache:this.customTransformCache,dependencies:this.dependencies.map(e=>e.id),id:this.id,moduleSideEffects:this.moduleSideEffects,originalCode:this.originalCode,originalSourcemap:this.originalSourcemap,resolvedIds:this.resolvedIds,sourcemapChain:this.sourcemapChain,transformDependencies:this.transformDependencies,transformFiles:this.transformFiles}}traceVariable(e){const t=this.scope.variables.get(e);if(t)return t;if(e in this.importDescriptions){const t=this.importDescriptions[e],r=t.module;if(r instanceof Module&&"*"===t.name)return r.getOrCreateNamespace();const s=r.getVariableForExportName(t.name);return s||handleMissingExport(t.name,this,r.id,t.start),s}return null}warn(e,t){if(void 0!==t){e.pos=t;const{line:r,column:s}=locate(this.code,t,{offsetLine:1});e.loc={file:this.id,line:r,column:s},e.frame=getCodeFrame(this.code,r,s)}e.id=this.id,this.graph.warn(e)}addDynamicImport(e){this.dynamicImports.push({node:e,resolution:null})}addExport(e){const t=e.source&&e.source.value;if(t)if(-1===this.sources.indexOf(t)&&this.sources.push(t),e.type===ExportAllDeclaration)this.exportAllSources.push(t);else for(const r of e.specifiers){const e=r.exported.name;(this.exports[e]||this.reexports[e])&&this.error({code:"DUPLICATE_EXPORT",message:`A module cannot have multiple exports with the same name ('${e}')`},r.start),this.reexports[e]={localName:r.local.name,module:null,source:t,start:r.start}}else if(e instanceof ExportDefaultDeclaration)this.exports.default&&this.error({code:"DUPLICATE_EXPORT",message:"A module can only have one default export"},e.start),this.exports.default={identifier:e.variable.getAssignedVariableName(),localName:"default"};else if(e.declaration){const t=e.declaration;if(t.type===VariableDeclaration)for(const e of t.declarations)for(const t of extractAssignedNames(e.id))this.exports[t]={identifier:null,localName:t};else{const e=t.id.name;this.exports[e]={identifier:null,localName:e}}}else for(const t of e.specifiers){const e=t.local.name,r=t.exported.name;(this.exports[r]||this.reexports[r])&&this.error({code:"DUPLICATE_EXPORT",message:`A module cannot have multiple exports with the same name ('${r}')`},t.start),this.exports[r]={identifier:null,localName:e}}}addImport(e){const t=e.source.value;-1===this.sources.indexOf(t)&&this.sources.push(t);for(const r of e.specifiers){const e=r.local.name;this.importDescriptions[e]&&this.error({code:"DUPLICATE_IMPORT",message:`Duplicated import '${e}'`},r.start);const s=r.type===ImportDefaultSpecifier,n=r.type===ImportNamespaceSpecifier,i=s?"default":n?"*":r.imported.name;this.importDescriptions[e]={source:t,start:r.start,name:i,module:null}}}addImportMeta(e){this.importMetas.push(e)}addModulesToSpecifiers(e){for(const t of Object.keys(e)){const r=e[t],s=this.resolvedIds[r.source].id;r.module=this.graph.moduleById.get(s)}}includeDynamicImport(e){const t=this.dynamicImports.find(t=>t.node===e).resolution;t instanceof Module&&(t.dynamicallyImportedBy.push(this),t.includeAllExports())}includeVariable(e,t){const r=t.module;t.included||(t.include(e),this.graph.needsTreeshakingPass=!0),r&&r!==this&&this.imports.add(t)}removeExistingSourceMap(){for(const e of this.comments)!e.block&&SOURCEMAPPING_URL_RE.test(e.text)&&this.magicString.remove(e.start,e.end)}shimMissingExport(e){this.exports[e]||(this.graph.warn({code:"SHIMMED_EXPORT",exporter:relativeId(this.id),exportName:e,message:`Missing export "${e}" has been shimmed in module ${relativeId(this.id)}.`}),this.exports[e]=MISSING_EXPORT_SHIM_DESCRIPTION)}}class Source{constructor(e,t){this.isOriginal=!0,this.filename=e,this.content=t}traceSegment(e,t,r){return{line:e,column:t,name:r,source:this}}}class Link{constructor(e,t){this.sources=t,this.names=e.names,this.mappings=e.mappings}traceMappings(){const e=[],t=[],r=[],s=[];for(const n of this.mappings){const i=[];for(const s of n){if(1==s.length)continue;const n=this.sources[s[1]];if(!n)continue;const a=n.traceSegment(s[2],s[3],5===s.length?this.names[s[4]]:"");if(a){let n=e.lastIndexOf(a.source.filename);-1===n?(n=e.length,e.push(a.source.filename),t[n]=a.source.content):null==t[n]?t[n]=a.source.content:null!=a.source.content&&t[n]!==a.source.content&&error({message:`Multiple conflicting contents for sourcemap source ${a.source.filename}`});const o=[s[0],n,a.line,a.column];if(a.name){let e=r.indexOf(a.name);-1===e&&(e=r.length,r.push(a.name)),o[4]=e}i.push(o)}}s.push(i)}return{sources:e,sourcesContent:t,names:r,mappings:s}}traceSegment(e,t,r){const s=this.mappings[e];if(!s)return null;let n=0,i=s.length-1;for(;n<=i;){const e=n+i>>1,a=s[e];if(a[0]===t){if(1==a.length)return null;const e=this.sources[a[1]];return e?e.traceSegment(a[2],a[3],5===a.length?this.names[a[4]]:r):null}a[0]>t?i=e-1:n=e+1}return null}}function getLinkMap(e){return function(t,r){return r.mappings?new Link(r,[t]):(e.warn({code:"SOURCEMAP_BROKEN",message:`Sourcemap is likely to be incorrect: a plugin${r.plugin?` ('${r.plugin}')`:""} was used to transform files, but didn't generate a sourcemap for the transformation. Consult the plugin documentation for help`,plugin:r.plugin,url:"https://rollupjs.org/guide/en/#warning-sourcemap-is-likely-to-be-incorrect"}),new Link({mappings:[],names:[]},[t]))}}function getCollapsedSourcemap(e,t,r,s,n){let i;if(r){const t=r.sources,s=r.sourcesContent||[],n=path$2.dirname(e)||".",a=r.sourceRoot||".",o=t.map((e,t)=>new Source(path$2.resolve(n,a,e),s[t]));i=new Link(r,o)}else i=new Source(e,t);return s.reduce(n,i)}function collapseSourcemaps(e,t,r,s,n,i){const a=getLinkMap(e.graph),o=s.filter(e=>!e.excludeFromSourcemap).map(e=>getCollapsedSourcemap(e.id,e.originalCode,e.originalSourcemap,e.sourcemapChain,a));let l=new Link(r,o);l=n.reduce(a,l);let{sources:c,sourcesContent:h,names:u,mappings:p}=l.traceMappings();if(t){const e=path$2.dirname(t);c=c.map(t=>path$2.relative(e,t)),t=path$2.basename(t)}return new SourceMap({file:t,sources:c,sourcesContent:h=i?null:h,names:u,mappings:p})}function collapseSourcemap(e,t,r,s,n){if(!n.length)return s;const i=getCollapsedSourcemap(t,r,s,n,getLinkMap(e)).traceMappings();return Object.assign({version:3},i)}const DECONFLICT_IMPORTED_VARIABLES_BY_FORMAT={amd:deconflictImportsOther,cjs:deconflictImportsOther,es:deconflictImportsEsm,iife:deconflictImportsOther,system:deconflictImportsEsm,umd:deconflictImportsOther};function deconflictChunk(e,t,r,s,n,i,a){addUsedGlobalNames(s,e,n),deconflictTopLevelVariables(s,e),DECONFLICT_IMPORTED_VARIABLES_BY_FORMAT[n](s,r,t,i,a);for(const t of e)t.scope.deconflict(n)}function addUsedGlobalNames(e,t,r){for(const s of t){const t=s.scope;for(const[r,s]of t.accessedOutsideVariables)s.included&&e.add(r);const n=t.accessedGlobalVariablesByFormat&&t.accessedGlobalVariablesByFormat.get(r);if(n)for(const t of n)e.add(t)}}function deconflictImportsEsm(e,t,r,s){for(const r of t){const t=r.module,n=r.name;let i;i=t instanceof ExternalModule&&("*"===n||"default"===n)?"default"===n&&s&&t.exportsNamespace?t.variableName+"__default":t.variableName:n,r.setRenderNames(null,getSafeName(i,e))}}function deconflictImportsOther(e,t,r,s,n){for(const t of r)t.variableName=getSafeName(t.variableName,e);for(const e of t){const t=e.module;if(t instanceof ExternalModule){const r=e.name;"default"===r&&s&&(t.exportsNamespace||t.exportsNames)?e.setRenderNames(null,t.variableName+"__default"):"*"===r||"default"===r?e.setRenderNames(null,t.variableName):e.setRenderNames(t.variableName,null)}else{const r=t.chunk;"default"===r.exportMode||n&&e.isNamespace?e.setRenderNames(null,r.variableName):e.setRenderNames(r.variableName,r.getVariableExportName(e))}}}function deconflictTopLevelVariables(e,t){for(const r of t){for(const t of r.scope.variables.values())t.included&&!(t.renderBaseName||t instanceof ExportDefaultVariable&&t.getOriginalVariable()!==t)&&t.setRenderNames(null,getSafeName(t.name,e));const t=r.getOrCreateNamespace();t.included&&t.setRenderNames(null,getSafeName(t.name,e))}}const compareExecIndex=(e,t)=>e.execIndex>t.execIndex?1:-1;function sortByExecutionOrder(e){e.sort(compareExecIndex)}function analyseModuleExecution(e){let t=0;const r=[],s={},n=[],i=[],a={},o=e=>{if(!s[e.id]){if(e instanceof ExternalModule)return e.execIndex=t++,void(s[e.id]=!0);for(const t of e.dependencies)t.id in a?s[t.id]||r.push(getCyclePath(t.id,e.id,a)):(a[t.id]=e.id,o(t));for(const{resolution:t}of e.dynamicImports)t instanceof Module&&-1===i.indexOf(t)&&i.push(t);e.execIndex=t++,s[e.id]=!0,n.push(e)}};for(const t of e)a[t.id]||(a[t.id]=null,o(t));for(const e of i)a[e.id]||(a[e.id]=null,o(e));return{orderedModules:n,cyclePaths:r}}function getCyclePath(e,t,r){const s=[relativeId(e)];let n=t;for(;n!==e&&(s.push(relativeId(n)),n=r[n]););return s.push(s[0]),s.reverse(),s}function guessIndentString(e){const t=e.split("\n"),r=t.filter(e=>/^\t+/.test(e)),s=t.filter(e=>/^ {2,}/.test(e));if(0===r.length&&0===s.length)return null;if(r.length>=s.length)return"\t";const n=s.reduce((e,t)=>{const r=/^ +/.exec(t)[0].length;return Math.min(r,e)},1/0);return new Array(n+1).join(" ")}function getIndentString(e,t){if(!0!==t.indent)return t.indent||"";for(let t=0;t<e.length;t++){const r=guessIndentString(e[t].originalCode);if(null!==r)return r}return"\t"}function decodedSourcemap(e){if(!e)return null;if("string"==typeof e&&(e=JSON.parse(e)),""===e.mappings)return{mappings:[],names:[],sources:[],version:3};let t;return t="string"==typeof e.mappings?decode(e.mappings):e.mappings,Object.assign(Object.assign({},e),{mappings:t})}function renderChunk({graph:e,chunk:t,renderChunk:r,code:s,sourcemapChain:n,options:i}){const a=(e,t,r)=>{if(null==t)return e;if("string"==typeof t&&(t={code:t,map:void 0}),null!==t.map){const e=decodedSourcemap(t.map);n.push(e||{missing:!0,plugin:r.name})}return t.code};let o=!1,l=!0;return e.pluginDriver.hookReduceArg0("renderChunk",[s,r,i],a).then(r=>(l=!1,e.pluginDriver.hookReduceArg0("transformChunk",[r,i,t],a))).then(r=>(o=!0,e.pluginDriver.hookReduceArg0("transformBundle",[r,i,t],a))).catch(e=>{if(l)throw e;return error(e,{code:o?"BAD_BUNDLE_TRANSFORMER":"BAD_CHUNK_TRANSFORMER",message:`Error transforming ${(o?"bundle":"chunk")+(e.plugin?` with '${e.plugin}' plugin`:"")}: ${e.message}`,plugin:e.plugin})})}function renderNamePattern(e,t,r){return isPlainPathFragment(e)?e.replace(/\[(\w+)\]/g,(e,s)=>{if(!r.hasOwnProperty(s))return error(errFailedValidation(`"[${s}]" is not a valid placeholder in "${t}" pattern.`));const n=r[s]();return isPlainPathFragment(n)?n:error(errFailedValidation(`Invalid substitution "${n}" for placeholder "[${s}]" in "${t}" pattern, can be neither absolute nor relative path.`))}):error(errFailedValidation(`Invalid pattern "${e}" for "${t}", patterns can be neither absolute nor relative paths and must not contain invalid characters.`))}function makeUnique(e,t){if(e in t==!1)return e;const r=path$2.extname(e);e=e.substr(0,e.length-r.length);let s,n=1;for(;t[s=e+ ++n+r];);return s}const NON_ASSET_EXTENSIONS=[".js",".jsx",".ts",".tsx"];function getGlobalName(e,t,r,s){let n;return"function"==typeof t?n=t(e.id):t&&(n=t[e.id]),n||(s?(r.warn({code:"MISSING_GLOBAL_NAME",guess:e.variableName,message:`No name was provided for external module '${e.id}' in output.globals – guessing '${e.variableName}'`,source:e.id}),e.variableName):void 0)}function isChunkRendered(e){return!e.isEmpty||e.entryModules.length>0||null!==e.manualChunkAlias}class Chunk$1{constructor(e,t){this.entryModules=[],this.exportMode="named",this.facadeModule=null,this.id=null,this.indentString=void 0,this.manualChunkAlias=null,this.usedModules=void 0,this.variableName="chunk",this.dependencies=void 0,this.dynamicDependencies=void 0,this.exportNames=Object.create(null),this.exports=new Set,this.fileName=null,this.imports=new Set,this.name=null,this.needsExportsShim=!1,this.renderedDeclarations=void 0,this.renderedHash=void 0,this.renderedModuleSources=new Map,this.renderedSource=null,this.renderedSourceLength=void 0,this.sortedExportNames=null,this.graph=e,this.orderedModules=t,this.execIndex=t.length>0?t[0].execIndex:1/0,this.isEmpty=!0;for(const e of t)this.isEmpty&&e.isIncluded()&&(this.isEmpty=!1),e.manualChunkAlias&&(this.manualChunkAlias=e.manualChunkAlias),e.chunk=this,(e.isEntryPoint||e.dynamicallyImportedBy.some(e=>-1===t.indexOf(e)))&&this.entryModules.push(e);const r=this.entryModules[0]||this.orderedModules[this.orderedModules.length-1];r&&(this.variableName=makeLegal(path$2.basename(r.chunkName||r.manualChunkAlias||getAliasName(r.id))))}static generateFacade(e,t,r){const s=new Chunk$1(e,[]);s.assignFacadeName(r,t),t.facadeChunk||(t.facadeChunk=s),s.dependencies=[t.chunk],s.dynamicDependencies=[],s.facadeModule=t;for(const e of t.getAllExportNames()){const r=t.getVariableForExportName(e);s.exports.add(r),s.exportNames[e]=r}return s}canModuleBeFacade(e){for(const t of this.exports)if(!e.has(t))return!1;return!0}generateFacades(){const e=[];for(const t of this.entryModules){const r=Array.from(t.userChunkNames).map(e=>({name:e}));if(0===r.length&&t.isUserDefinedEntryPoint&&r.push({}),r.push(...Array.from(t.chunkFileNames).map(e=>({fileName:e}))),0===r.length&&r.push({}),!this.facadeModule){const e=t.getExportNamesByVariable();if(this.graph.preserveModules||this.canModuleBeFacade(e)){this.facadeModule=t,t.facadeChunk=this;for(const[t,r]of e)for(const e of r)this.exportNames[e]=t;this.assignFacadeName(r.shift(),t)}}for(const s of r)e.push(Chunk$1.generateFacade(this.graph,t,s))}return e}generateId(e,t,r,s){if(null!==this.fileName)return this.fileName;const[n,i]=this.facadeModule&&this.facadeModule.isUserDefinedEntryPoint?[t.entryFileNames||"[name].js","output.entryFileNames"]:[t.chunkFileNames||"[name]-[hash].js","output.chunkFileNames"];return makeUnique(renderNamePattern(n,i,{format:()=>"es"===t.format?"esm":t.format,hash:()=>s?this.computeContentHashWithDependencies(e,t,r):"[hash]",name:()=>this.getChunkName()}),r)}generateIdPreserveModules(e,t,r){const s=this.orderedModules[0].id,n=sanitizeFileName(s);let i;if(isAbsolute(s)){const r=path$2.extname(s),a=renderNamePattern(t.entryFileNames||(NON_ASSET_EXTENSIONS.includes(r)?"[name].js":"[name][extname].js"),"output.entryFileNames",{ext:()=>r.substr(1),extname:()=>r,format:()=>"es"===t.format?"esm":t.format,name:()=>this.getChunkName()});i=relative(e,`${path$2.dirname(n)}/${a}`)}else i=`_virtual/${path$2.basename(n)}`;return makeUnique(normalize$1(i),r)}generateInternalExports(e){if(null!==this.facadeModule)return;const t="system"===e.format||"es"===e.format||e.compact;let r,s=0;if(this.exportNames=Object.create(null),this.sortedExportNames=null,t)for(const e of this.exports){const t=e.name[0];if(this.exportNames[t]){do{49===(r=toBase64(++s)).charCodeAt(0)&&(r=toBase64(s+=9*Math.pow(64,r.length-1)))}while(RESERVED_NAMES[r]||this.exportNames[r]);this.exportNames[r]=e}else this.exportNames[t]=e}else for(const e of this.exports){for(s=0,r=e.name;this.exportNames[r];)r=e.name+"$"+ ++s;this.exportNames[r]=e}}getChunkName(){return this.name||(this.name=sanitizeFileName(this.getFallbackChunkName()))}getDynamicImportIds(){return this.dynamicDependencies.map(e=>e.id).filter(Boolean)}getExportNames(){return this.sortedExportNames||(this.sortedExportNames=Object.keys(this.exportNames).sort())}getImportIds(){return this.dependencies.map(e=>e.id).filter(Boolean)}getRenderedHash(){if(this.renderedHash)return this.renderedHash;if(!this.renderedSource)return"";const e=_256(),t=this.calculateHashAugmentation();return e.update(t),e.update(this.renderedSource.toString()),e.update(this.getExportNames().map(e=>{const t=this.exportNames[e];return`${relativeId(t.module.id).replace(/\\/g,"/")}:${t.name}:${e}`}).join(",")),this.renderedHash=e.digest("hex")}getRenderedSourceLength(){return void 0!==this.renderedSourceLength?this.renderedSourceLength:this.renderedSourceLength=this.renderedSource.length()}getVariableExportName(e){if(this.graph.preserveModules&&e instanceof NamespaceVariable)return"*";for(const t of Object.keys(this.exportNames))if(this.exportNames[t]===e)return t;throw new Error(`Internal Error: Could not find export name for variable ${e.name}.`)}link(){const e=new Set,t=new Set;for(const r of this.orderedModules)this.addDependenciesToChunk(r.getTransitiveDependencies(),e),this.addDependenciesToChunk(r.dynamicDependencies,t),this.setUpChunkImportsAndExportsForModule(r);this.dependencies=Array.from(e),this.dynamicDependencies=Array.from(t)}merge(e,t,r,s){if(null!==this.facadeModule||null!==e.facadeModule)throw new Error("Internal error: Code splitting chunk merges not supported for facades");for(const t of e.orderedModules)t.chunk=this,this.orderedModules.push(t);for(const t of e.imports)this.imports.has(t)||t.module.chunk===this||this.imports.add(t);for(const t of e.exports)this.exports.has(t)||this.exports.add(t);const n=this.exportNames;this.generateInternalExports(r);const i=(e,t)=>{if(e.imports)for(const r of e.imports)r.imported=this.getVariableExportName(t[r.imported]);if(e.reexports)for(const r of e.reexports)r.imported=this.getVariableExportName(t[r.imported])},a=(e,t)=>{t.imports&&(e.imports?e.imports=e.imports.concat(t.imports):e.imports=t.imports),t.reexports&&(e.reexports?e.reexports=e.reexports.concat(t.reexports):e.reexports=t.reexports),!e.exportsNames&&t.exportsNames&&(e.exportsNames=!0),!e.exportsDefault&&t.exportsDefault&&(e.exportsDefault=!0),e.name=this.variableName};for(const r of t){let t=void 0;for(let s=0;s<r.dependencies.length;s++){const o=r.dependencies[s];if(o!==e&&o!==this||!t)o===e?(r.dependencies[s]=this,i(t=r.renderedDeclarations.dependencies[s],e.exportNames)):o===this&&i(t=r.renderedDeclarations.dependencies[s],n);else{const l=r.renderedDeclarations.dependencies[s];i(l,o===e?e.exportNames:n),a(t,l),r.renderedDeclarations.dependencies.splice(s,1),r.dependencies.splice(s--,1)}}}this.preRender(r,s)}preRender(e,t){timeStart("render modules",3);const r=new Bundle({separator:e.compact?"":"\n\n"});this.usedModules=[],this.indentString=e.compact?"":getIndentString(this.orderedModules,e);const s=e.compact?"":"\n",n=e.compact?"":" ",i={compact:e.compact,dynamicImportFunction:e.dynamicImportFunction,format:e.format,freeze:!1!==e.freeze,indent:this.indentString,namespaceToStringTag:!0===e.namespaceToStringTag,varOrConst:e.preferConst?"const":"var"};for(const{module:e}of this.imports){const t=e instanceof Module?e.chunk:e;-1===this.dependencies.indexOf(t)&&this.dependencies.push(t)}if(!this.graph.preserveModules&&null!==this.facadeModule)for(const e of this.dependencies)e instanceof Chunk$1&&this.inlineChunkDependencies(e,!0);for(let e=0;e<this.dependencies.length;e++){const t=this.dependencies[e];t instanceof Chunk$1&&t.isEmpty&&(this.dependencies.splice(e--,1),this.inlineChunkDependencies(t,!1))}sortByExecutionOrder(this.dependencies),this.prepareDynamicImports(),this.setIdentifierRenderResolutions(e);let a="";const o=this.renderedModules=Object.create(null);for(const t of this.orderedModules){let n=0;if(t.isIncluded()){const o=t.render(i).trim();e.compact&&-1!==o.lastLine().indexOf("//")&&o.append("\n");const l=t.getOrCreateNamespace();if((l.included||o.length()>0)&&(n=o.length(),this.renderedModuleSources.set(t,o),r.addSource(o),this.usedModules.push(t),l.included&&!this.graph.preserveModules)){const e=l.renderBlock(i);l.renderFirst()?a+=s+e:r.addSource(new MagicString(e))}}const{renderedExports:l,removedExports:c}=t.getRenderedExports();o[t.id]={originalLength:t.originalCode.length,removedExports:c,renderedExports:l,renderedLength:n}}a&&r.prepend(a+s+s),this.needsExportsShim&&r.prepend(`${s}${i.varOrConst} ${MISSING_EXPORT_SHIM_VARIABLE}${n}=${n}void 0;${s}${s}`),e.compact?this.renderedSource=r:this.renderedSource=r.trim(),this.renderedSourceLength=void 0,this.renderedHash=void 0,0===this.getExportNames().length&&0===this.getImportIds().length&&this.isEmpty&&this.graph.warn({code:"EMPTY_BUNDLE",message:"Generated an empty bundle"}),this.setExternalRenderPaths(e,t),this.renderedDeclarations={dependencies:this.getChunkDependencyDeclarations(e),exports:"none"===this.exportMode?[]:this.getChunkExportDeclarations()},timeEnd("render modules",3)}render(e,t,r){if(timeStart("render format",3),!this.renderedSource)throw new Error("Internal error: Chunk render called before preRender");const s=e.format,n=finalisers[s];n||error({code:"INVALID_OPTION",message:`Invalid format: ${s} - valid options are ${Object.keys(finalisers).join(", ")}.`}),e.dynamicImportFunction&&"es"!==s&&this.graph.warn({code:"INVALID_OPTION",message:'"output.dynamicImportFunction" is ignored for formats other than "esm".'});for(let e=0;e<this.dependencies.length;e++){const t=this.dependencies[e];if(t instanceof ExternalModule&&!t.renormalizeRenderPath)continue;const r=this.renderedDeclarations.dependencies[e],s=t instanceof ExternalModule?r.id:t.id;t instanceof Chunk$1&&(r.namedExportsMode="default"!==t.exportMode),r.id=this.getRelativePath(s)}this.finaliseDynamicImports(s),this.finaliseImportMetas(s);const i=0!==this.renderedDeclarations.exports.length||this.renderedDeclarations.dependencies.some(e=>e.reexports&&0!==e.reexports.length);let a=!1;const o=new Set;for(const e of this.orderedModules){e.usesTopLevelAwait&&(a=!0);const t=e.scope.accessedGlobalVariablesByFormat,r=t&&t.get(s);if(r)for(const e of r)o.add(e)}a&&"es"!==s&&"system"!==s&&error({code:"INVALID_TLA_FORMAT",message:`Module format ${s} does not support top-level await. Use the "es" or "system" output formats rather.`});const l=n(this.renderedSource,{accessedGlobals:o,dependencies:this.renderedDeclarations.dependencies,exports:this.renderedDeclarations.exports,hasExports:i,indentString:this.indentString,intro:t.intro,isEntryModuleFacade:null!==this.facadeModule&&this.facadeModule.isEntryPoint,namedExportsMode:"default"!==this.exportMode,outro:t.outro,usesTopLevelAwait:a,varOrConst:e.preferConst?"const":"var",warn:this.graph.warn.bind(this.graph)},e);t.banner&&l.prepend(t.banner),t.footer&&l.append(t.footer);const c=l.toString();timeEnd("render format",3);let h=null;const u=[];return renderChunk({chunk:this,code:c,graph:this.graph,options:e,renderChunk:r,sourcemapChain:u}).then(t=>{if(e.sourcemap){let t;timeStart("sourcemap",3),t=e.file?path$2.resolve(e.sourcemapFile||e.file):e.dir?path$2.resolve(e.dir,this.id):path$2.resolve(this.id);const r=l.generateDecodedMap({});(h=collapseSourcemaps(this,t,r,this.usedModules,u,e.sourcemapExcludeSources)).sources=h.sources.map(t=>normalize$1(e.sourcemapPathTransform?e.sourcemapPathTransform(t):t)),timeEnd("sourcemap",3)}return!0!==e.compact&&"\n"!==t[t.length-1]&&(t+="\n"),{code:t,map:h}})}visitDependencies(e){const t=[this],r=new Set;for(const s of t)if(e(s),!(s instanceof ExternalModule))for(const e of s.dependencies.concat(s.dynamicDependencies))r.has(e)||(r.add(e),t.push(e))}visitStaticDependenciesUntilCondition(e){const t=new Set;return function r(s){if(!t.has(s)){if(t.add(s),s instanceof Chunk$1)for(const e of s.dependencies)if(r(e))return!0;return!0===e(s)}}(this)}addDependenciesToChunk(e,t){for(const r of e){if(r.chunk===this)continue;let e;if(r instanceof Module)e=r.chunk;else{if(!r.used&&!r.moduleSideEffects)continue;e=r}t.add(e)}}assignFacadeName({fileName:e,name:t},r){e?this.fileName=e:this.name=sanitizeFileName(t||r.chunkName||getAliasName(r.id))}calculateHashAugmentation(){const e=this.facadeModule,t=this.getChunkName.bind(this),r={dynamicImports:this.getDynamicImportIds(),exports:this.getExportNames(),facadeModuleId:e&&e.id,imports:this.getImportIds(),isDynamicEntry:null!==e&&e.dynamicallyImportedBy.length>0,isEntry:null!==e&&e.isEntryPoint,modules:this.renderedModules,get name(){return t()}};return this.graph.pluginDriver.hookReduceValueSync("augmentChunkHash","",[r],(e,t)=>(t&&(e+=t),e))}computeContentHashWithDependencies(e,t,r){const s=_256();return s.update([e.intro,e.outro,e.banner,e.footer].map(e=>e||"").join(":")),s.update(t.format),this.visitDependencies(n=>{n instanceof ExternalModule?s.update(":"+n.renderPath):(s.update(n.getRenderedHash()),s.update(n.generateId(e,t,r,!1)))}),s.digest("hex").substr(0,8)}finaliseDynamicImports(e){for(const[t,r]of this.renderedModuleSources)for(const{node:s,resolution:n}of t.dynamicImports)if(n)if(n instanceof Module){if(n.chunk!==this&&isChunkRendered(n.chunk)){const t=n.facadeChunk||n.chunk;s.renderFinalResolution(r,`'${this.getRelativePath(t.id)}'`,e)}}else s.renderFinalResolution(r,n instanceof ExternalModule?`'${n.renormalizeRenderPath?this.getRelativePath(n.renderPath):n.id}'`:n,e)}finaliseImportMetas(e){for(const[t,r]of this.renderedModuleSources)for(const s of t.importMetas)s.renderFinalMechanism(r,this.id,e,this.graph.pluginDriver)}getChunkDependencyDeclarations(e){const t=new Map;for(let r of this.getExportNames()){let s,n,i=!1;if("*"===r[0])i=!1!==e.externalLiveBindings,s=this.graph.moduleById.get(r.substr(1)),n=r="*";else{const t=this.exportNames[r],a=t.module;if(!a||a.chunk===this)continue;a instanceof Module?(n=(s=a.chunk).getVariableExportName(t),i=t.isReassigned):(s=a,n=t.name,i=!1!==e.externalLiveBindings)}let a=t.get(s);a||t.set(s,a=[]),a.push({imported:n,reexported:r,needsLiveBinding:i})}const r=new Set,s=[];for(const n of this.dependencies){const i=[];for(const e of this.imports){const t=e instanceof ExportDefaultVariable?e.getOriginalVariable():e;(e.module instanceof Module?e.module.chunk!==n:e.module!==n)||r.has(t)||(r.add(t),i.push({imported:e.module instanceof ExternalModule?e.name:e.module.chunk.getVariableExportName(e),local:e.getName()}))}const a=t.get(n);let o,l,c=!0;n instanceof ExternalModule?(o=n.exportsNames||n.exportsNamespace,l="default"in n.declarations):(o=!0,l=!1,c="default"!==n.exportMode);let h=void 0,u=void 0;n instanceof ExternalModule&&(h=n.renderPath,"umd"!==e.format&&"iife"!==e.format||(u=getGlobalName(n,e.globals,this.graph,o||l))),s.push({exportsDefault:l,exportsNames:o,globalName:u,id:h,imports:i.length>0?i:null,isChunk:n instanceof Chunk$1,name:n.variableName,namedExportsMode:c,reexports:a})}return s}getChunkExportDeclarations(){const e=[];for(const t of this.getExportNames()){if("*"===t[0])continue;const r=this.exportNames[t],s=r.module;if(s&&s.chunk!==this)continue;let n=!1,i=!1;if(r instanceof LocalVariable){r.init===UNDEFINED_EXPRESSION&&(i=!0);for(const e of r.declarations)if(e.parent instanceof FunctionDeclaration||e instanceof ExportDefaultDeclaration&&e.declaration instanceof FunctionDeclaration){n=!0;break}}else r instanceof GlobalVariable&&(n=!0);const a=r.getName();e.push({exported:"*"===t?a:t,hoisted:n,local:a,uninitialized:i})}return e}getFallbackChunkName(){return this.manualChunkAlias?this.manualChunkAlias:this.fileName?getAliasName(this.fileName):getAliasName(this.orderedModules[this.orderedModules.length-1].id)}getRelativePath(e){const t=normalize$1(relative(path$2.dirname(this.id),e));return t.startsWith("../")?t:"./"+t}inlineChunkDependencies(e,t){for(const r of e.dependencies)if(r instanceof ExternalModule)-1===this.dependencies.indexOf(r)&&this.dependencies.push(r);else{if(r===this||-1!==this.dependencies.indexOf(r))continue;r.isEmpty||this.dependencies.push(r),t&&this.inlineChunkDependencies(r,!0)}}prepareDynamicImports(){for(const e of this.orderedModules)for(const{node:t,resolution:r}of e.dynamicImports)if(t.included)if(r instanceof Module)if(r.chunk===this){const e=r.getOrCreateNamespace();t.setResolution("named",e)}else t.setResolution(r.chunk.exportMode);else t.setResolution("auto")}setExternalRenderPaths(e,t){for(const r of this.dependencies.concat(this.dynamicDependencies))r instanceof ExternalModule&&r.setRenderPath(e,t)}setIdentifierRenderResolutions(e){for(const t of this.getExportNames()){const r=this.exportNames[t];r&&(r instanceof ExportShimVariable&&(this.needsExportsShim=!0),r.exportName=t,"es"===e.format||"system"===e.format||!r.isReassigned||r.isId||r instanceof ExportDefaultVariable&&r.hasId?r.setRenderNames(null,null):r.setRenderNames("exports",t))}const t=new Set;this.needsExportsShim&&t.add(MISSING_EXPORT_SHIM_VARIABLE),"es"!==e.format&&(t.add("exports"),"cjs"===e.format&&t.add(INTEROP_DEFAULT_VARIABLE).add("require").add("module").add("__filename").add("__dirname")),deconflictChunk(this.orderedModules,this.dependencies,this.imports,t,e.format,!1!==e.interop,this.graph.preserveModules)}setUpChunkImportsAndExportsForModule(e){for(const t of e.imports)t.module.chunk!==this&&(this.imports.add(t),t.module instanceof Module&&t.module.chunk.exports.add(t));if(e.isEntryPoint||e.dynamicallyImportedBy.some(e=>e.chunk!==this)){const t=e.getExportNamesByVariable();for(const e of t.keys()){this.exports.add(e);const t=e.module;t&&t.chunk&&t.chunk!==this&&t.chunk.exports.add(e)}}if(e.getOrCreateNamespace().included)for(const t of Object.keys(e.reexports)){const r=e.reexports[t],s=r.module.getVariableForExportName(r.localName);s.module.chunk!==this&&(this.imports.add(s),s.module instanceof Module&&s.module.chunk.exports.add(s))}const t=createInclusionContext();for(const{node:r,resolution:s}of e.dynamicImports)r.included&&s instanceof Module&&s.chunk===this&&s.getOrCreateNamespace().include(t)}}function optimizeChunks(e,t,r,s){for(let n=0;n<e.length;n++){const i=e[n],a=[];if(i.visitStaticDependenciesUntilCondition(e=>{e instanceof Chunk$1&&a.push(e)}),a.length<2)continue;let o=1,l=!0,c=void 0,h=a[0],u=a[1];const p=e=>null===e.facadeModule&&null===e.manualChunkAlias&&(!(!u||null!==u.facadeModule)&&!(e.getRenderedSourceLength()>r));do{if(l){p(h)&&(l=!1);continue}let i=r-c.getRenderedSourceLength()-h.getRenderedSourceLength();if(i<=0){p(h)||(l=!0);continue}const d=new Set;h.visitStaticDependenciesUntilCondition(e=>d.add(e));const f=new Set([h,c]);if(c.visitStaticDependenciesUntilCondition(e=>e!==h&&e!==c&&(!d.has(e)&&(e instanceof ExternalModule||((i-=e.getRenderedSourceLength())<=0||void f.add(e)))))){p(h)||(l=!0);continue}if(h.visitStaticDependenciesUntilCondition(e=>!f.has(e)&&(e instanceof ExternalModule||((i-=e.getRenderedSourceLength())<=0||void 0)))){p(h)||(l=!0);continue}const m=e.indexOf(h);m<=n&&n--,e.splice(m,1),c.merge(h,e,t,s),a.splice(--o,1),h=c,u&&!p(u)&&(l=!0)}while(c=h,h=u,u=a[++o],h)}return e}const tt=types,skipWhiteSpace$1=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,nextTokenIsDot=e=>{skipWhiteSpace$1.lastIndex=e.pos;let t=skipWhiteSpace$1.exec(e.input),r=e.pos+t[0].length;return"."===e.input.slice(r,r+1)};var BuildPhase,acornImportMeta=function(e){return class extends e{parseExprAtom(e){if(this.type!==tt._import||!nextTokenIsDot(this))return super.parseExprAtom(e);this.options.allowImportExportEverywhere||this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'");let t=this.startNode();return t.meta=this.parseIdent(!0),this.expect(tt.dot),t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is import.meta"),this.containsEsc&&this.raiseRecoverable(t.property.start,'"meta" in import.meta must not contain escape sequences'),this.finishNode(t,"MetaProperty")}parseStatement(e,t,r){if(this.type!==tt._import||!nextTokenIsDot(this))return super.parseStatement(e,t,r);let s=this.startNode(),n=this.parseExpression();return this.parseExpressionStatement(s,n)}}};class UndefinedVariable extends Variable{constructor(){super("undefined")}getLiteralValueAtPath(){}}class GlobalScope extends Scope$1{constructor(){super(),this.variables.set("undefined",new UndefinedVariable)}findVariable(e){let t=this.variables.get(e);return t||(t=new GlobalVariable(e),this.variables.set(e,t)),t}}function generateAssetFileName(e,t,r){const s=e||"asset";return makeUnique(renderNamePattern(r.assetFileNames,"output.assetFileNames",{hash(){const e=_256();return e.update(s),e.update(":"),e.update(t),e.digest("hex").substr(0,8)},ext:()=>path$2.extname(s).substr(1),extname:()=>path$2.extname(s),name:()=>s.substr(0,s.length-path$2.extname(s).length)}),r.bundle)}function reserveFileNameInBundle(e,t){if(e in t)return error(errFileNameConflict(e));t[e]=FILE_PLACEHOLDER}!function(e){e[e.LOAD_AND_PARSE=0]="LOAD_AND_PARSE",e[e.ANALYSE=1]="ANALYSE",e[e.GENERATE=2]="GENERATE"}(BuildPhase||(BuildPhase={}));const FILE_PLACEHOLDER={type:"placeholder"};function hasValidType(e){return e&&("asset"===e.type||"chunk"===e.type)}function hasValidName(e){const t=e.fileName||e.name;return!t||"string"==typeof t&&isPlainPathFragment(t)}function getValidSource(e,t,r){if("string"!=typeof e&&!Buffer.isBuffer(e)){const e=t.fileName||t.name||r;return error(errFailedValidation(`Could not set source for ${"string"==typeof e?`asset "${e}"`:"unnamed asset"}, asset source needs to be a string of Buffer.`))}return e}function getAssetFileName(e,t){return"string"!=typeof e.fileName?error(errAssetNotFinalisedForFileName(e.name||t)):e.fileName}function getChunkFileName(e){const t=e.fileName||e.module&&e.module.facadeChunk.id;return t||error(errChunkNotGeneratedForFileName(e.fileName||e.name))}class FileEmitter{constructor(e){this.filesByReferenceId=new Map,this.buildFilesByReferenceId=this.filesByReferenceId,this.output=null,this.emitFile=e=>hasValidType(e)?hasValidName(e)?"chunk"===e.type?this.emitChunk(e):this.emitAsset(e):error(errFailedValidation(`The "fileName" or "name" properties of emitted files must be strings that are neither absolute nor relative paths and do not contain invalid characters, received "${e.fileName||e.name}".`)):error(errFailedValidation(`Emitted files must be of type "asset" or "chunk", received "${e&&e.type}".`)),this.getFileName=e=>{const t=this.filesByReferenceId.get(e);return t?"chunk"===t.type?getChunkFileName(t):getAssetFileName(t,e):error(errFileReferenceIdNotFoundForFilename(e))},this.setAssetSource=(e,t)=>{const r=this.filesByReferenceId.get(e);if(!r)return error(errAssetReferenceIdNotFoundForSetSource(e));if("asset"!==r.type)return error(errFailedValidation(`Asset sources can only be set for emitted assets but "${e}" is an emitted chunk.`));if(void 0!==r.source)return error(errAssetSourceAlreadySet(r.name||e));const s=getValidSource(t,r,e);this.output?this.finalizeAsset(r,s,e,this.output):r.source=s},this.graph=e}startOutput(e,t){this.filesByReferenceId=new Map(this.buildFilesByReferenceId),this.output={assetFileNames:t,bundle:e};for(const e of this.filesByReferenceId.values())e.fileName&&reserveFileNameInBundle(e.fileName,this.output.bundle);for(const[e,t]of this.filesByReferenceId.entries())"asset"===t.type&&void 0!==t.source&&this.finalizeAsset(t,t.source,e,this.output)}assertAssetsFinalized(){for(const[e,t]of this.filesByReferenceId.entries())"asset"===t.type&&"string"!=typeof t.fileName&&error(errNoAssetSourceSet(t.name||e))}emitAsset(e){const t=void 0!==e.source?getValidSource(e.source,e,null):void 0,r={fileName:e.fileName,name:e.name,source:t,type:"asset"},s=this.assignReferenceId(r,e.fileName||e.name||e.type);return this.output&&(e.fileName&&reserveFileNameInBundle(e.fileName,this.output.bundle),void 0!==t&&this.finalizeAsset(r,t,s,this.output)),s}emitChunk(e){if(this.graph.phase>BuildPhase.LOAD_AND_PARSE&&error(errInvalidRollupPhaseForChunkEmission()),"string"!=typeof e.id)return error(errFailedValidation(`Emitted chunks need to have a valid string id, received "${e.id}"`));const t={fileName:e.fileName,module:null,name:e.name||e.id,type:"chunk"};return this.graph.moduleLoader.addEntryModules([{fileName:e.fileName||null,id:e.id,name:e.name||null}],!1).then(({newEntryModules:[e]})=>{t.module=e}).catch(()=>{}),this.assignReferenceId(t,e.id)}assignReferenceId(e,t){let r;do{const e=_256();r?e.update(r):e.update(t),r=e.digest("hex").substr(0,8)}while(this.filesByReferenceId.has(r));return this.filesByReferenceId.set(r,e),r}finalizeAsset(e,t,r,s){const n=e.fileName||this.findExistingAssetFileNameWithSource(s.bundle,t)||generateAssetFileName(e.name,t,s),i=Object.assign(Object.assign({},e),{source:t,fileName:n});this.filesByReferenceId.set(r,i);const a=this.graph;s.bundle[n]={fileName:n,get isAsset(){return a.warnDeprecation('Accessing "isAsset" on files in the bundle is deprecated, please use "type === \'asset\'" instead',!1),!0},source:t,type:"asset"}}findExistingAssetFileNameWithSource(e,t){for(const r of Object.keys(e)){const s=e[r];if("asset"===s.type&&(Buffer.isBuffer(t)&&Buffer.isBuffer(s.source)?t.equals(s.source):t===s.source))return r}return null}}const ANONYMOUS_PLUGIN_PREFIX="at position ",deprecatedHooks=[{active:!0,deprecated:"ongenerate",replacement:"generateBundle"},{active:!0,deprecated:"onwrite",replacement:"generateBundle/writeBundle"},{active:!0,deprecated:"transformBundle",replacement:"renderChunk"},{active:!0,deprecated:"transformChunk",replacement:"renderChunk"},{active:!1,deprecated:"resolveAssetUrl",replacement:"resolveFileUrl"}];function warnDeprecatedHooks(e,t){for(const{active:r,deprecated:s,replacement:n}of deprecatedHooks)for(const i of e)s in i&&t.warnDeprecation({message:`The "${s}" hook used by plugin ${i.name} is deprecated. The "${n}" hook should be used instead.`,plugin:i.name},r)}function throwPluginError(e,t,{hook:r,id:s}={}){return"string"==typeof e&&(e={message:e}),e.code&&e.code!==Errors.PLUGIN_ERROR&&(e.pluginCode=e.code),e.code=Errors.PLUGIN_ERROR,e.plugin=t,r&&(e.hook=r),s&&(e.id=s),error(e)}function createPluginDriver(e,t,r,s){function n(t,r,s,n,i){let a=!1;return(...o)=>(a||(a=!0,e.warnDeprecation({message:`The "this.${r}" plugin context function used by plugin ${n} is deprecated. The "this.${s}" plugin context function should be used instead.`,plugin:n},i)),t(...o))}warnDeprecatedHooks(t.plugins,e);const i=[...t.plugins,getRollupDefaultPlugin(t.preserveSymlinks)],a=new FileEmitter(e),o=new Set,l=i.map((t,i)=>{let l,c=!0;if("string"!=typeof t.cacheKey&&(t.name.startsWith(ANONYMOUS_PLUGIN_PREFIX)||o.has(t.name)?c=!1:o.add(t.name)),r)if(c){const e=t.cacheKey||t.name;l=createPluginCache(r[e]||(r[e]=Object.create(null)))}else l=uncacheablePlugin(t.name);else l=noCache;const h={addWatchFile(t){e.phase>=BuildPhase.GENERATE&&this.error(errInvalidRollupPhaseForAddWatchFile()),e.watchFiles[t]=!0},cache:l,emitAsset:n((e,t)=>a.emitFile({type:"asset",name:e,source:t}),"emitAsset","emitFile",t.name,!1),emitChunk:n((e,t)=>a.emitFile({type:"chunk",id:e,name:t&&t.name}),"emitChunk","emitFile",t.name,!1),emitFile:a.emitFile,error:e=>throwPluginError(e,t.name),getAssetFileName:n(a.getFileName,"getAssetFileName","getFileName",t.name,!1),getChunkFileName:n(a.getFileName,"getChunkFileName","getFileName",t.name,!1),getFileName:a.getFileName,getModuleInfo(t){const r=e.moduleById.get(t);if(null==r)throw new Error(`Unable to find module ${t}`);return{hasModuleSideEffects:r.moduleSideEffects,id:r.id,importedIds:r instanceof ExternalModule?[]:r.sources.map(e=>r.resolvedIds[e].id),isEntry:r instanceof Module&&r.isEntryPoint,isExternal:r instanceof ExternalModule}},isExternal:n((t,r,s=!1)=>e.moduleLoader.isExternal(t,r,s),"isExternal","resolve",t.name,!1),meta:{rollupVersion:version$2},get moduleIds(){return e.moduleById.keys()},parse:e.contextParse,resolve:(t,r,s)=>e.moduleLoader.resolveId(t,r,s&&s.skipSelf?i:null),resolveId:n((t,r)=>e.moduleLoader.resolveId(t,r).then(e=>e&&e.id),"resolveId","resolve",t.name,!1),setAssetSource:a.setAssetSource,warn(r){"string"==typeof r&&(r={message:r}),r.code&&(r.pluginCode=r.code),r.code="PLUGIN_WARNING",r.plugin=t.name,e.warn(r)},watcher:s?(()=>{let e=!1;function t(t,r){return e||(h.warn({code:"PLUGIN_WATCHER_DEPRECATED",message:"this.watcher usage is deprecated in plugins. Use the watchChange plugin hook and this.addWatchFile() instead."}),e=!0),s.on(t,r)}return Object.assign(Object.assign({},s),{addListener:t,on:t})})():void 0};return h});function c(e,t,r,s=!1,n){const a=i[r];let o=l[r];const c=a[e];if(c){if(n&&(!(o=n(o,a))||o===l[r]))throw new Error("Internal Rollup error: hookContext must return a new context object.");try{if("function"!=typeof c){if(s)return c;error({code:"INVALID_PLUGIN_HOOK",message:`Error running plugin hook ${e} for ${a.name}, expected a function hook.`})}return c.apply(o,t)}catch(t){return throwPluginError(t,a.name,{hook:e})}}}function h(e,t,r,s=!1,n){const a=i[r];let o=l[r];const c=a[e];if(c){if(n&&(!(o=n(o,a))||o===l[r]))throw new Error("Internal Rollup error: hookContext must return a new context object.");return Promise.resolve().then(()=>{if("function"!=typeof c){if(s)return c;error({code:"INVALID_PLUGIN_HOOK",message:`Error running plugin hook ${e} for ${a.name}, expected a function hook.`})}return c.apply(o,t)}).catch(t=>throwPluginError(t,a.name,{hook:e}))}}return{emitFile:a.emitFile,finaliseAssets(){a.assertAssetsFinalized()},getFileName:a.getFileName,hookSeq(e,t,r){let s=Promise.resolve();for(let n=0;n<i.length;n++)s=s.then(()=>h(e,t,n,!1,r));return s},hookSeqSync(e,t,r){for(let s=0;s<i.length;s++)c(e,t,s,!1,r)},hookFirst(e,t,r,s){let n=Promise.resolve();for(let a=0;a<i.length;a++)s!==a&&(n=n.then(s=>null!=s?s:h(e,t,a,!1,r)));return n},hookFirstSync(e,t,r){for(let s=0;s<i.length;s++){const n=c(e,t,s,!1,r);if(null!=n)return n}return null},hookParallel(e,t,r){const s=[];for(let n=0;n<i.length;n++){const i=h(e,t,n,!1,r);i&&s.push(i)}return Promise.all(s).then(()=>{})},hookReduceArg0(e,[t,...r],s,n){let a=Promise.resolve(t);for(let t=0;t<i.length;t++)a=a.then(a=>{const o=h(e,[a,...r],t,!1,n);return o?o.then(e=>s.call(l[t],a,e,i[t])):a});return a},hookReduceArg0Sync(e,[t,...r],s,n){for(let a=0;a<i.length;a++){const o=c(e,[t,...r],a,!1,n);t=s.call(l[a],t,o,i[a])}return t},hookReduceValue(e,t,r,s,n){let a=Promise.resolve(t);for(let t=0;t<i.length;t++)a=a.then(a=>{const o=h(e,r,t,!0,n);return o?o.then(e=>s.call(l[t],a,e,i[t])):a});return a},hookReduceValueSync(e,t,r,s,n){let a=t;for(let t=0;t<i.length;t++){const o=c(e,r,t,!0,n);a=s.call(l[t],a,o,i[t])}return a},startOutput(e,t){a.startOutput(e,t)}}}function createPluginCache(e){return{has(t){const r=e[t];return!!r&&(r[0]=0,!0)},get(t){const r=e[t];if(r)return r[0]=0,r[1]},set(t,r){e[t]=[0,r]},delete:t=>delete e[t]}}function trackPluginCache(e){const t={used:!1,cache:void 0};return t.cache={has:r=>(t.used=!0,e.has(r)),get:r=>(t.used=!0,e.get(r)),set:(r,s)=>(t.used=!0,e.set(r,s)),delete:r=>(t.used=!0,e.delete(r))},t}const noCache={has:()=>!1,get(){},set(){},delete:()=>!1};function uncacheablePluginError(e){e.startsWith(ANONYMOUS_PLUGIN_PREFIX)?error({code:"ANONYMOUS_PLUGIN_CACHE",message:"A plugin is trying to use the Rollup cache but is not declaring a plugin name or cacheKey."}):error({code:"DUPLICATE_PLUGIN_NAME",message:`The plugin name ${e} is being used twice in the same build. Plugin names must be distinct or provide a cacheKey (please post an issue to the plugin if you are a plugin user).`})}const uncacheablePlugin=e=>({has:()=>(uncacheablePluginError(e),!1),get(){uncacheablePluginError(e)},set(){uncacheablePluginError(e)},delete:()=>(uncacheablePluginError(e),!1)});function transform(e,t,r){const s=r.id,n=[];let i=null===t.map?null:decodedSourcemap(t.map);const a=t.code;let o=t.ast;const l=[],c=[];let h,u,p=!1,d=null;const f=t.code;let m;return e.pluginDriver.hookReduceArg0("transform",[f,s],(function(t,i,a){if(!p&&h.used&&(p=!0),p){if(i&&"object"==typeof i&&Array.isArray(i.dependencies))for(const t of i.dependencies)e.watchFiles[path$2.resolve(path$2.dirname(s),t)]=!0}else if(c.length&&(r.transformFiles=c),i&&"object"==typeof i&&Array.isArray(i.dependencies)){u.warnedTransformDependencies||e.warnDeprecation(`Returning "dependencies" from the "transform" hook as done by plugin ${a.name} is deprecated. The "this.addWatchFile" plugin context function should be used instead.`,!0),u.warnedTransformDependencies=!0;for(const e of i.dependencies)l.push(path$2.resolve(path$2.dirname(s),e))}if("string"==typeof i)i={ast:void 0,code:i,map:void 0};else{if(!i||"object"!=typeof i)return t;"string"==typeof i.map&&(i.map=JSON.parse(i.map)),"boolean"==typeof i.moduleSideEffects&&(d=i.moduleSideEffects)}if(null!==i.map){const e=decodedSourcemap(i.map);n.push(e||{missing:!0,plugin:a.name})}return o=i.ast,i.code}),(t,r)=>((u=r).cacheKey?p=!0:h=trackPluginCache(t.cache),Object.assign(Object.assign({},t),{cache:h?h.cache:t.cache,warn(e,r){"string"==typeof e&&(e={message:e}),r&&augmentCodeLocation(e,r,f,s),e.id=s,e.hook="transform",t.warn(e)},error:(e,r)=>("string"==typeof e&&(e={message:e}),r&&augmentCodeLocation(e,r,f,s),e.id=s,e.hook="transform",t.error(e)),emitAsset(t,r){const s={type:"asset",name:t,source:r};return c.push(Object.assign({},s)),e.pluginDriver.emitFile(s)},emitChunk(t,r){const s={type:"chunk",id:t,name:r&&r.name};return c.push(Object.assign({},s)),e.pluginDriver.emitFile(s)},emitFile:t=>(c.push(t),e.pluginDriver.emitFile(t)),addWatchFile(e){l.push(e),t.addWatchFile(e)},setAssetSource(e,r){if(t.setAssetSource(e,r),!p&&!m)try{this.error({code:"INVALID_SETASSETSOURCE",message:"setAssetSource cannot be called in transform for caching reasons. Use emitFile with a source, or call setAssetSource in another hook."})}catch(e){m=e}},getCombinedSourcemap(){const t=collapseSourcemap(e,s,a,i,n);if(!t){return new MagicString(a).generateMap({includeContent:!0,hires:!0,source:s})}return i!==t&&(i=t,n.length=0),new SourceMap(Object.assign(Object.assign({},t),{file:null,sourcesContent:t.sourcesContent}))}}))).catch(e=>throwPluginError(e,u.name,{hook:"transform",id:s})).then(e=>{if(!p&&m)throw m;return{ast:o,code:e,customTransformCache:p,moduleSideEffects:d,originalCode:a,originalSourcemap:i,sourcemapChain:n,transformDependencies:l}})}function normalizeRelativeExternalId(e,t){return isRelative(t)?path$2.resolve(e,"..",t):t}function getIdMatcher(e){if(!0===e)return()=>!0;if("function"==typeof e)return(t,...r)=>!t.startsWith("\0")&&e(t,...r)||!1;if(e){const t=new Set(Array.isArray(e)?e:e?[e]:[]);return e=>t.has(e)}return()=>!1}function getHasModuleSideEffects(e,t,r){if("boolean"==typeof e)return()=>e;if("no-external"===e)return(e,t)=>!t;if("function"==typeof e)return(t,r)=>!!t.startsWith("\0")||!1!==e(t,r);if(Array.isArray(e)){const t=new Set(e);return e=>t.has(e)}e&&r.warn(errInvalidOption("treeshake.moduleSideEffects",'please use one of false, "no-external", a function or an array'));const s=getIdMatcher(t);return(e,t)=>!(t&&s(e))}class ModuleLoader{constructor(e,t,r,s,n,i,a){this.indexedEntryModules=[],this.latestLoadModulesPromise=Promise.resolve(),this.manualChunkModules={},this.nextEntryModuleIndex=0,this.loadEntryModule=(e,t)=>this.pluginDriver.hookFirst("resolveId",[e,void 0]).then(r=>{if(!1===r||r&&"object"==typeof r&&r.external)return error(errEntryCannotBeExternal(e));const s=r&&"object"==typeof r?r.id:r;return"string"==typeof s?this.fetchModule(s,void 0,!0,t):error(errUnresolvedEntry(e))}),this.graph=e,this.modulesById=t,this.pluginDriver=r,this.isExternal=getIdMatcher(s),this.hasModuleSideEffects=getHasModuleSideEffects(i,a,e),this.getManualChunk="function"==typeof n?n:()=>null}addEntryModules(e,t){const r=this.nextEntryModuleIndex;this.nextEntryModuleIndex+=e.length;const s=Promise.all(e.map(({fileName:e,id:r,name:s})=>this.loadEntryModule(r,!0).then(r=>(null!==e?r.chunkFileNames.add(e):null!==s&&(null===r.chunkName&&(r.chunkName=s),t&&r.userChunkNames.add(s)),r)))).then(e=>{let s=r;for(const r of e){r.isUserDefinedEntryPoint=r.isUserDefinedEntryPoint||t;const e=this.indexedEntryModules.find(e=>e.module.id===r.id);e?e.index=Math.min(e.index,s):this.indexedEntryModules.push({module:r,index:s}),s++}return this.indexedEntryModules.sort(({index:e},{index:t})=>e>t?1:-1),e});return this.awaitLoadModulesPromise(s).then(e=>({entryModules:this.indexedEntryModules.map(({module:e})=>e),manualChunkModulesByAlias:this.manualChunkModules,newEntryModules:e}))}addManualChunks(e){const t=[];for(const r of Object.keys(e)){const s=e[r];for(const e of s)t.push({id:e,alias:r})}const r=Promise.all(t.map(({id:e})=>this.loadEntryModule(e,!1))).then(e=>{for(let r=0;r<e.length;r++)this.addModuleToManualChunk(t[r].alias,e[r])});return this.awaitLoadModulesPromise(r)}resolveId(e,t,r){return __awaiter(this,void 0,void 0,(function*(){return this.normalizeResolveIdResult(!this.isExternal(e,t,!1)&&(yield this.pluginDriver.hookFirst("resolveId",[e,t],null,r)),t,e)}))}addModuleToManualChunk(e,t){null!==t.manualChunkAlias&&t.manualChunkAlias!==e&&error(errCannotAssignModuleToChunk(t.id,e,t.manualChunkAlias)),t.manualChunkAlias=e,this.manualChunkModules[e]||(this.manualChunkModules[e]=[]),this.manualChunkModules[e].push(t)}awaitLoadModulesPromise(e){this.latestLoadModulesPromise=Promise.all([e,this.latestLoadModulesPromise]);const t=()=>{const e=this.latestLoadModulesPromise;return e.then(()=>{if(this.latestLoadModulesPromise!==e)return t()})};return t().then(()=>e)}fetchAllDependencies(e){const t=Promise.all(e.getDynamicImportExpressions().map((t,r)=>this.resolveDynamicImport(e,t,e.id).then(t=>{if(null===t)return;const s=e.dynamicImports[r];if("string"!=typeof t)return this.fetchResolvedDependency(relativeId(t.id),e.id,t).then(e=>{s.resolution=e});s.resolution=t})));return t.catch(()=>{}),Promise.all(e.sources.map(t=>this.resolveAndFetchDependency(e,t))).then(()=>t)}fetchModule(e,t,r,s){const n=this.modulesById.get(e);if(n){if(n instanceof ExternalModule)throw new Error(`Cannot fetch external module ${e}`);return n.isEntryPoint=n.isEntryPoint||s,Promise.resolve(n)}const i=new Module(this.graph,e,r,s);this.modulesById.set(e,i),this.graph.watchFiles[e]=!0;const a=this.getManualChunk(e);return"string"==typeof a&&this.addModuleToManualChunk(a,i),timeStart("load modules",3),Promise.resolve(this.pluginDriver.hookFirst("load",[e])).catch(r=>{timeEnd("load modules",3);let s=`Could not load ${e}`;throw t&&(s+=` (imported by ${t})`),s+=`: ${r.message}`,r.message=s,r}).then(t=>(timeEnd("load modules",3),"string"==typeof t?{code:t}:t&&"object"==typeof t&&"string"==typeof t.code?t:error(errBadLoader(e)))).then(t=>{const r=this.graph.cachedModules.get(e);if(r&&!r.customTransformCache&&r.originalCode===t.code){if(r.transformFiles)for(const e of r.transformFiles)this.pluginDriver.emitFile(e);return r}return"boolean"==typeof t.moduleSideEffects&&(i.moduleSideEffects=t.moduleSideEffects),transform(this.graph,t,i)}).then(t=>(i.setSource(t),this.modulesById.set(e,i),this.fetchAllDependencies(i).then(()=>{for(const e in i.exports)"default"!==e&&(i.exportsAll[e]=i.id);return i.exportAllSources.forEach(e=>{const t=i.resolvedIds[e].id,r=this.modulesById.get(t);if(!(r instanceof ExternalModule))for(const e in r.exportsAll)e in i.exportsAll?this.graph.warn(errNamespaceConflict(e,i,r)):i.exportsAll[e]=r.exportsAll[e]}),i})))}fetchResolvedDependency(e,t,r){if(r.external){this.modulesById.has(r.id)||this.modulesById.set(r.id,new ExternalModule(this.graph,r.id,r.moduleSideEffects));const s=this.modulesById.get(r.id);return s instanceof ExternalModule?Promise.resolve(s):error(errInternalIdCannotBeExternal(e,t))}return this.fetchModule(r.id,t,r.moduleSideEffects,!1)}handleMissingImports(e,t,r){return null===e?(isRelative(t)&&error(errUnresolvedImport(t,r)),this.graph.warn(errUnresolvedImportTreatedAsExternal(t,r)),{external:!0,id:t,moduleSideEffects:this.hasModuleSideEffects(t,!0)}):e}normalizeResolveIdResult(e,t,r){let s="",n=!1,i=null;if(e)"object"==typeof e?(s=e.id,e.external&&(n=!0),"boolean"==typeof e.moduleSideEffects&&(i=e.moduleSideEffects)):(this.isExternal(e,t,!0)&&(n=!0),s=n?normalizeRelativeExternalId(t,e):e);else{if(s=normalizeRelativeExternalId(t,r),!1!==e&&!this.isExternal(s,t,!0))return null;n=!0}return{external:n,id:s,moduleSideEffects:"boolean"==typeof i?i:this.hasModuleSideEffects(s,n)}}resolveAndFetchDependency(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchResolvedDependency(t,e.id,e.resolvedIds[t]=e.resolvedIds[t]||this.handleMissingImports(yield this.resolveId(t,e.id),t,e.id))}))}resolveDynamicImport(e,t,r){return __awaiter(this,void 0,void 0,(function*(){const s=yield this.pluginDriver.hookFirst("resolveDynamicImport",[t,r]);return"string"!=typeof t?"string"==typeof s?s:s?Object.assign({external:!1,moduleSideEffects:!0},s):null:null==s?e.resolvedIds[t]=e.resolvedIds[t]||this.handleMissingImports(yield this.resolveId(t,e.id),t,e.id):this.handleMissingImports(this.normalizeResolveIdResult(s,r,t),t,r)}))}}const CHAR_CODE_A=97,CHAR_CODE_0=48;function intToHex(e){return e<10?String.fromCharCode(CHAR_CODE_0+e):String.fromCharCode(CHAR_CODE_A+(e-10))}function Uint8ArrayToHexString(e){let t="";for(let r=0;r<e.length;r++){const s=e[r];t+=intToHex(s>>4),t+=intToHex(15&s)}return t}function Uint8ArrayXor(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]^t[r];return e}function randomUint8Array(e){const t=new Uint8Array(e);for(let e=0;e<t.length;e++)t[e]=512*Math.random();return t}function assignChunkColouringHashes(e,t){let r,s,n;const i=new Set,a=[],o=e=>{r.manualChunkAlias?(e.manualChunkAlias=r.manualChunkAlias,e.entryPointsHash=s):Uint8ArrayXor(e.entryPointsHash,s);for(const t of e.dependencies)t instanceof ExternalModule||n.has(t.id)||(n.add(t.id),i.has(t.id)||t.manualChunkAlias||o(t));for(const{resolution:t}of e.dynamicImports)t instanceof Module&&t.dynamicallyImportedBy.length>0&&!t.manualChunkAlias&&a.push(t)};if(t)for(const e of Object.keys(t))for(r of(s=randomUint8Array(10),t[e]))n=new Set(r.id),o(r);for(r of e)i.add(r.id),s=randomUint8Array(10),n=new Set(r.id),r.manualChunkAlias||o(r);for(r of a)i.has(r.id)||(i.add(r.id),s=randomUint8Array(10),n=new Set(r.id),o(r))}function makeOnwarn(){const e=Object.create(null);return t=>{const r=t.toString();r in e||(console.error(r),e[r]=!0)}}function normalizeEntryModules(e){return"string"==typeof e?[{fileName:null,name:null,id:e}]:Array.isArray(e)?e.map(e=>({fileName:null,name:null,id:e})):Object.keys(e).map(t=>({fileName:null,id:e[t],name:t}))}class Graph{constructor(e,t){if(this.moduleById=new Map,this.needsTreeshakingPass=!1,this.phase=BuildPhase.LOAD_AND_PARSE,this.watchFiles=Object.create(null),this.externalModules=[],this.modules=[],this.onwarn=e.onwarn||makeOnwarn(),this.deoptimizationTracker=new PathTracker,this.cachedModules=new Map,e.cache&&e.cache.modules)for(const t of e.cache.modules)this.cachedModules.set(t.id,t);if(!1!==e.cache){this.pluginCache=e.cache&&e.cache.plugins||Object.create(null);for(const e in this.pluginCache){const t=this.pluginCache[e];for(const e of Object.keys(t))t[e][0]++}}if(this.preserveModules=e.preserveModules,this.strictDeprecations=e.strictDeprecations,this.cacheExpiry=e.experimentalCacheExpiry,!1!==e.treeshake&&(this.treeshakingOptions=e.treeshake?{annotations:!1!==e.treeshake.annotations,moduleSideEffects:e.treeshake.moduleSideEffects,propertyReadSideEffects:!1!==e.treeshake.propertyReadSideEffects,pureExternalModules:e.treeshake.pureExternalModules,tryCatchDeoptimization:!1!==e.treeshake.tryCatchDeoptimization,unknownGlobalSideEffects:!1!==e.treeshake.unknownGlobalSideEffects}:{annotations:!0,moduleSideEffects:!0,propertyReadSideEffects:!0,tryCatchDeoptimization:!0,unknownGlobalSideEffects:!0},void 0!==this.treeshakingOptions.pureExternalModules&&this.warnDeprecation('The "treeshake.pureExternalModules" option is deprecated. The "treeshake.moduleSideEffects" option should be used instead. "treeshake.pureExternalModules: true" is equivalent to "treeshake.moduleSideEffects: \'no-external\'"',!1)),this.contextParse=(e,t={})=>this.acornParser.parse(e,Object.assign(Object.assign(Object.assign({},defaultAcornOptions),t),this.acornOptions)),this.pluginDriver=createPluginDriver(this,e,this.pluginCache,t),t){const e=e=>this.pluginDriver.hookSeqSync("watchChange",[e]);t.on("change",e),t.once("restart",()=>{t.removeListener("change",e)})}this.shimMissingExports=e.shimMissingExports,this.scope=new GlobalScope,this.context=String(e.context);const r=e.moduleContext;if("function"==typeof r)this.getModuleContext=e=>r(e)||this.context;else if("object"==typeof r){const e=new Map;for(const t in r)e.set(path$2.resolve(t),r[t]);this.getModuleContext=t=>e.get(t)||this.context}else this.getModuleContext=()=>this.context;this.acornOptions=e.acorn?Object.assign({},e.acorn):{};const s=[];s.push(acornImportMeta),e.experimentalTopLevelAwait&&(this.acornOptions.allowAwaitOutsideFunction=!0);const n=e.acornInjectPlugins;s.push(...Array.isArray(n)?n:n?[n]:[]),this.acornParser=Parser.extend(...s),this.moduleLoader=new ModuleLoader(this,this.moduleById,this.pluginDriver,e.external,"function"==typeof e.manualChunks&&e.manualChunks,this.treeshakingOptions?this.treeshakingOptions.moduleSideEffects:null,!!this.treeshakingOptions&&this.treeshakingOptions.pureExternalModules)}build(e,t,r){return timeStart("parse modules",2),Promise.all([this.moduleLoader.addEntryModules(normalizeEntryModules(e),!0),t&&"object"==typeof t&&this.moduleLoader.addManualChunks(t)]).then(([{entryModules:e,manualChunkModulesByAlias:t}])=>{if(0===e.length)throw new Error("You must supply options.input to rollup");for(const e of this.moduleById.values())e instanceof Module?this.modules.push(e):this.externalModules.push(e);if(timeEnd("parse modules",2),this.phase=BuildPhase.ANALYSE,timeStart("analyse dependency graph",2),this.link(e),timeEnd("analyse dependency graph",2),timeStart("mark included statements",2),r&&e.length>1)throw new Error("Internal Error: can only inline dynamic imports for single-file builds.");for(const t of e)t.includeAllExports();this.includeMarked(this.modules);for(const e of this.externalModules)e.warnUnusedImports();timeEnd("mark included statements",2),timeStart("generate chunks",2),this.preserveModules||r||assignChunkColouringHashes(e,t);let s=[];if(this.preserveModules)for(const e of this.modules){const t=new Chunk$1(this,[e]);!e.isEntryPoint&&t.isEmpty||(t.entryModules=[e]),s.push(t)}else{const e={};for(const t of this.modules){const r=Uint8ArrayToHexString(t.entryPointsHash),s=e[r];s?s.push(t):e[r]=[t]}for(const t in e){const r=e[t];sortByExecutionOrder(r);const n=new Chunk$1(this,r);s.push(n)}}for(const e of s)e.link();s=s.filter(isChunkRendered);const n=[];for(const e of s)n.push(...e.generateFacades());return timeEnd("generate chunks",2),this.phase=BuildPhase.GENERATE,s.concat(n)})}getCache(){for(const e in this.pluginCache){const t=this.pluginCache[e];let r=!0;for(const e of Object.keys(t))t[e][0]>=this.cacheExpiry?delete t[e]:r=!1;r&&delete this.pluginCache[e]}return{modules:this.modules.map(e=>e.toJSON()),plugins:this.pluginCache}}includeMarked(e){if(this.treeshakingOptions){let t=1;do{timeStart(`treeshaking pass ${t}`,3),this.needsTreeshakingPass=!1;for(const t of e)t.isExecuted&&t.include();timeEnd(`treeshaking pass ${t++}`,3)}while(this.needsTreeshakingPass)}else for(const t of e)t.includeAllInBundle()}warn(e){e.toString=()=>{let t="";return e.plugin&&(t+=`(${e.plugin} plugin) `),e.loc&&(t+=`${relativeId(e.loc.file)} (${e.loc.line}:${e.loc.column}) `),t+=e.message},this.onwarn(e)}warnDeprecation(e,t){if(t||this.strictDeprecations){const t=errDeprecation(e);if(this.strictDeprecations)return error(t);this.warn(t)}}link(e){for(const e of this.modules)e.linkDependencies();const{orderedModules:t,cyclePaths:r}=analyseModuleExecution(e);for(const e of r)this.warn({code:"CIRCULAR_DEPENDENCY",importer:e[0],message:`Circular dependency: ${e.join(" -> ")}`});this.modules=t;for(const e of this.modules)e.bindReferences();this.warnForMissingExports()}warnForMissingExports(){for(const e of this.modules)for(const t of Object.keys(e.importDescriptions)){const r=e.importDescriptions[t];"*"===r.name||r.module.getVariableForExportName(r.name)||e.warn({code:"NON_EXISTENT_EXPORT",message:`Non-existent export '${r.name}' is imported from ${relativeId(r.module.id)}`,name:r.name,source:r.module.id},r.start)}}}function evalIfFn(e){switch(typeof e){case"function":return e();case"string":return e;default:return""}}const concatSep=(e,t)=>t?`${e}\n${t}`:e,concatDblSep=(e,t)=>t?`${e}\n\n${t}`:e;function createAddons(e,t){const r=e.pluginDriver;return Promise.all([r.hookReduceValue("banner",evalIfFn(t.banner),[],concatSep),r.hookReduceValue("footer",evalIfFn(t.footer),[],concatSep),r.hookReduceValue("intro",evalIfFn(t.intro),[],concatDblSep),r.hookReduceValue("outro",evalIfFn(t.outro),[],concatDblSep)]).then(([e,t,r,s])=>(r&&(r+="\n\n"),s&&(s=`\n\n${s}`),e.length&&(e+="\n"),t.length&&(t="\n"+t),{intro:r,outro:s,banner:e,footer:t})).catch(e=>{error({code:"ADDON_ERROR",message:`Could not retrieve ${e.hook}. Check configuration of plugin ${e.plugin}.\n\tError Message: ${e.message}`})})}function assignChunkIds(e,t,r,s,n,i){const a=[],o=[];for(const t of e)(t.facadeModule&&t.facadeModule.isUserDefinedEntryPoint?a:o).push(t);const l=a.concat(o);for(const e of l)r.file?e.id=path$2.basename(r.file):t.preserveModules?e.id=e.generateIdPreserveModules(s,r,i):e.id=e.generateId(n,r,i,!0),i[e.id]=FILE_PLACEHOLDER}function commondir(e){if(0===e.length)return"/";if(1===e.length)return path$2.dirname(e[0]);const t=e.slice(1).reduce((e,t)=>{const r=t.split(/\/+|\\+/);let s;for(s=0;e[s]===r[s]&&s<Math.min(e.length,r.length);s++);return e.slice(0,s)},e[0].split(/\/+|\\+/));return t.length>1?t.join("/"):"/"}function badExports(e,t){error({code:"INVALID_EXPORT_OPTION",message:`'${e}' was specified for output.exports, but entry module has following exports: ${t.join(", ")}`})}function getExportMode(e,{exports:t,name:r,format:s}){const n=e.getExportNames();return"default"===t?1===n.length&&"default"===n[0]||badExports("default",n):"none"===t&&n.length&&badExports("none",n),t&&"auto"!==t||(0===n.length?t="none":1===n.length&&"default"===n[0]?t="default":(null!==e.facadeModule&&e.facadeModule.isEntryPoint&&"es"!==s&&-1!==n.indexOf("default")&&e.graph.warn({code:"MIXED_EXPORTS",message:`Using named and default exports together. Consumers of your bundle will have to use ${r||"bundle"}['default'] to access the default export, which may not be what you want. Use \`output.exports: 'named'\` to disable this warning`,url:"https://rollupjs.org/guide/en/#output-exports"}),t="named")),/(?:default|named|none)/.test(t)||error({code:"INVALID_EXPORT_OPTION",message:"output.exports must be 'default', 'named', 'none', 'auto', or left unspecified (defaults to 'auto')",url:"https://rollupjs.org/guide/en/#output-exports"}),t}const createGetOption=(e,t)=>(r,s)=>void 0!==t[r]?t[r]:void 0!==e[r]?e[r]:s,normalizeObjectOptionValue=e=>e&&"object"!=typeof e?{}:e,getObjectOption=(e,t,r)=>{const s=normalizeObjectOptionValue(t[r]),n=normalizeObjectOptionValue(e[r]);return void 0!==s?s&&n?Object.assign(Object.assign({},n),s):s:n},defaultOnWarn=e=>{"string"==typeof e?console.warn(e):console.warn(e.message)},getOnWarn=(e,t=defaultOnWarn)=>e.onwarn?r=>e.onwarn(r,t):t,getExternal=(e,t)=>{const r=e.external;return"function"==typeof r?(e,...s)=>r(e,...s)||-1!==t.external.indexOf(e):("string"==typeof e.external?[r]:Array.isArray(r)?r:[]).concat(t.external)},commandAliases={c:"config",d:"dir",e:"external",f:"format",g:"globals",h:"help",i:"input",m:"sourcemap",n:"name",o:"file",v:"version",w:"watch"};function mergeOptions({config:e={},command:t={},defaultOnWarnHandler:r}){const s=getCommandOptions(t),n=getInputOptions(e,s,r);s.output&&Object.assign(s,s.output);const i=e.output,a=Array.isArray(i)?i:i?[i]:[];0===a.length&&a.push({});const o=a.map(e=>getOutputOptions(e,s)),l=[],c=Object.keys(n);addUnknownOptionErrors(l,Object.keys(e),c,"input option",/^output$/);const h=Object.keys(o[0]);addUnknownOptionErrors(l,o.reduce((e,t)=>e.concat(Object.keys(t)),[]),h,"output option");const u=h.filter(e=>"sourcemapPathTransform"!==e);return addUnknownOptionErrors(l,Object.keys(s),c.concat(u,Object.keys(commandAliases),"config","environment","silent"),"CLI flag",/^_|output|(config.*)$/),{inputOptions:n,optionError:l.length>0?l.join("\n"):null,outputOptions:o}}function addUnknownOptionErrors(e,t,r,s,n=/$./){const i=t.filter(e=>-1===r.indexOf(e)&&!n.test(e));i.length>0&&e.push(`Unknown ${s}: ${i.join(", ")}. Allowed options: ${r.sort().join(", ")}`)}function getCommandOptions(e){const t=e.external&&"string"==typeof e.external?e.external.split(","):[];return Object.assign(Object.assign({},e),{external:t,globals:"string"==typeof e.globals?e.globals.split(",").reduce((e,r)=>{const[s,n]=r.split(":");return e[s]=n,-1===t.indexOf(s)&&t.push(s),e},Object.create(null)):void 0})}function getInputOptions(e,t={external:[],globals:void 0},r){const s=createGetOption(e,t),n={acorn:e.acorn,acornInjectPlugins:e.acornInjectPlugins,cache:s("cache"),chunkGroupingSize:s("chunkGroupingSize",5e3),context:s("context"),experimentalCacheExpiry:s("experimentalCacheExpiry",10),experimentalOptimizeChunks:s("experimentalOptimizeChunks"),experimentalTopLevelAwait:s("experimentalTopLevelAwait"),external:getExternal(e,t),inlineDynamicImports:s("inlineDynamicImports",!1),input:s("input",[]),manualChunks:s("manualChunks"),moduleContext:e.moduleContext,onwarn:getOnWarn(e,r),perf:s("perf",!1),plugins:e.plugins,preserveModules:s("preserveModules"),preserveSymlinks:s("preserveSymlinks"),shimMissingExports:s("shimMissingExports"),strictDeprecations:s("strictDeprecations",!1),treeshake:getObjectOption(e,t,"treeshake"),watch:e.watch};return n.cache&&n.cache.cache&&(n.cache=n.cache.cache),n}function getOutputOptions(e,t={}){const r=createGetOption(e,t);let s=r("format");switch(s){case"esm":case"module":s="es";break;case"commonjs":s="cjs"}return{amd:Object.assign(Object.assign({},e.amd),t.amd),assetFileNames:r("assetFileNames"),banner:r("banner"),chunkFileNames:r("chunkFileNames"),compact:r("compact",!1),dir:r("dir"),dynamicImportFunction:r("dynamicImportFunction"),entryFileNames:r("entryFileNames"),esModule:r("esModule",!0),exports:r("exports"),extend:r("extend"),externalLiveBindings:r("externalLiveBindings",!0),file:r("file"),footer:r("footer"),format:"esm"===s?"es":s,freeze:r("freeze",!0),globals:r("globals"),indent:r("indent",!0),interop:r("interop",!0),intro:r("intro"),name:r("name"),namespaceToStringTag:r("namespaceToStringTag",!1),noConflict:r("noConflict"),outro:r("outro"),paths:r("paths"),preferConst:r("preferConst"),sourcemap:r("sourcemap"),sourcemapExcludeSources:r("sourcemapExcludeSources"),sourcemapFile:r("sourcemapFile"),sourcemapPathTransform:r("sourcemapPathTransform"),strict:r("strict",!0)}}function checkOutputOptions(e){"es6"===e.format&&error(errDeprecation({message:'The "es6" output format is deprecated – use "esm" instead',url:"https://rollupjs.org/guide/en/#output-format"})),["amd","cjs","system","es","iife","umd"].indexOf(e.format)<0&&error({message:'You must specify "output.format", which can be one of "amd", "cjs", "system", "esm", "iife" or "umd".',url:"https://rollupjs.org/guide/en/#output-format"})}function getAbsoluteEntryModulePaths(e){const t=[];for(const r of e)for(const e of r.entryModules)isAbsolute(e.id)&&t.push(e.id);return t}const throwAsyncGenerateError={get(){throw new Error("bundle.generate(...) now returns a Promise instead of a { code, map } object")}};function applyOptionHook(e,t){return t.options&&t.options.call({meta:{rollupVersion:version$2}},e)||e}function ensureArray(e){return Array.isArray(e)?e.filter(Boolean):e?[e]:[]}function getInputOptions$1(e){if(!e)throw new Error("You must supply an options object to rollup");let{inputOptions:t,optionError:r}=mergeOptions({config:e});r&&t.onwarn({message:r,code:"UNKNOWN_OPTION"}),(t=ensureArray(t.plugins).reduce(applyOptionHook,t)).plugins=ensureArray(t.plugins);for(let e=0;e<t.plugins.length;e++){const r=t.plugins[e];r.name||(r.name=`${ANONYMOUS_PLUGIN_PREFIX}${e+1}`)}return t.inlineDynamicImports?(t.preserveModules&&error({code:"INVALID_OPTION",message:'"preserveModules" does not support the "inlineDynamicImports" option.'}),t.manualChunks&&error({code:"INVALID_OPTION",message:'"manualChunks" option is not supported for "inlineDynamicImports".'}),t.experimentalOptimizeChunks&&error({code:"INVALID_OPTION",message:'"experimentalOptimizeChunks" option is not supported for "inlineDynamicImports".'}),(t.input instanceof Array&&t.input.length>1||"object"==typeof t.input&&Object.keys(t.input).length>1)&&error({code:"INVALID_OPTION",message:'Multiple inputs are not supported for "inlineDynamicImports".'})):t.preserveModules&&(t.manualChunks&&error({code:"INVALID_OPTION",message:'"preserveModules" does not support the "manualChunks" option.'}),t.experimentalOptimizeChunks&&error({code:"INVALID_OPTION",message:'"preserveModules" does not support the "experimentalOptimizeChunks" option.'})),t}let curWatcher;function assignChunksToBundle(e,t){for(let r=0;r<e.length;r++){const s=e[r],n=s.facadeModule;t[s.id]={code:void 0,dynamicImports:s.getDynamicImportIds(),exports:s.getExportNames(),facadeModuleId:n&&n.id,fileName:s.id,imports:s.getImportIds(),isDynamicEntry:null!==n&&n.dynamicallyImportedBy.length>0,isEntry:null!==n&&n.isEntryPoint,map:void 0,modules:s.renderedModules,get name(){return s.getChunkName()},type:"chunk"}}return t}function rollup(e){return __awaiter(this,void 0,void 0,(function*(){const t=getInputOptions$1(e);initialiseTimers(t);const r=new Graph(t,curWatcher);curWatcher=void 0;const s=!1!==e.cache;let n;delete t.cache,delete e.cache,timeStart("BUILD",1);try{yield r.pluginDriver.hookParallel("buildStart",[t]),n=yield r.build(t.input,t.manualChunks,t.inlineDynamicImports)}catch(e){throw yield r.pluginDriver.hookParallel("buildEnd",[e]),e}yield r.pluginDriver.hookParallel("buildEnd",[]),timeEnd("BUILD",1);let i=!1;function a(e){return normalizeOutputOptions(t,e,n.length>1,r.pluginDriver)}function o(e,s){return __awaiter(this,void 0,void 0,(function*(){timeStart("GENERATE",1);const a=e.assetFileNames||"assets/[name]-[hash][extname]",o=Object.create(null);let l;const c=commondir(getAbsoluteEntryModulePaths(n));r.pluginDriver.startOutput(o,a);try{yield r.pluginDriver.hookParallel("renderStart",[]);const s=yield createAddons(r,e);for(const r of n)t.preserveModules||r.generateInternalExports(e),r.facadeModule&&r.facadeModule.isEntryPoint&&(r.exportMode=getExportMode(r,e));for(const t of n)t.preRender(e,c);!i&&t.experimentalOptimizeChunks&&(optimizeChunks(n,e,t.chunkGroupingSize,c),i=!0),assignChunkIds(n,t,e,c,s,o),l=assignChunksToBundle(n,o),yield Promise.all(n.map(t=>{const n=o[t.id];return t.render(e,s,n).then(t=>(n.code=t.code,n.map=t.map,r.pluginDriver.hookParallel("ongenerate",[Object.assign({bundle:n},e),n])))}))}catch(e){throw yield r.pluginDriver.hookParallel("renderError",[e]),e}yield r.pluginDriver.hookSeq("generateBundle",[e,l,s]);for(const e of Object.keys(l)){const t=l[e];t.type||(r.warnDeprecation('A plugin is directly adding properties to the bundle object in the "generateBundle" hook. This is deprecated and will be removed in a future Rollup version, please use "this.emitFile" instead.',!1),t.type="asset")}return r.pluginDriver.finaliseAssets(),timeEnd("GENERATE",1),l}))}const l={cache:s?r.getCache():void 0,generate:e=>{const t=o(a(e),!1).then(e=>createOutput(e));return Object.defineProperty(t,"code",throwAsyncGenerateError),Object.defineProperty(t,"map",throwAsyncGenerateError),t},watchFiles:Object.keys(r.watchFiles),write:e=>{const s=a(e);return s.dir||s.file||error({code:"MISSING_OPTION",message:'You must specify "output.file" or "output.dir" for the build.'}),o(s,!0).then(e=>__awaiter(this,void 0,void 0,(function*(){let n=0;for(const t of Object.keys(e)){if("asset"!==e[t].type&&++n>1)break}return n>1&&(s.sourcemapFile&&error({code:"INVALID_OPTION",message:'"output.sourcemapFile" is only supported for single-file builds.'}),"string"==typeof s.file&&error({code:"INVALID_OPTION",message:'When building multiple chunks, the "output.dir" option must be used, not "output.file".'+("string"!=typeof t.input||!0===t.inlineDynamicImports?"":' To inline dynamic imports, set the "inlineDynamicImports" option.')})),yield Promise.all(Object.keys(e).map(t=>writeOutputFile(r,l,e[t],s))),yield r.pluginDriver.hookParallel("writeBundle",[e]),createOutput(e)})))}};return!0===t.perf&&(l.getTimings=getTimings),l}))}var SortingFileType;function getSortingFileType(e){return"asset"===e.type?SortingFileType.ASSET:e.isEntry?SortingFileType.ENTRY_CHUNK:SortingFileType.SECONDARY_CHUNK}function createOutput(e){return{output:Object.keys(e).map(t=>e[t]).filter(e=>Object.keys(e).length>0).sort((e,t)=>{const r=getSortingFileType(e),s=getSortingFileType(t);return r===s?0:r<s?-1:1})}}function writeOutputFile(e,t,r,s){const n=path$2.resolve(s.dir||path$2.dirname(s.file),r.fileName);let i,a;if("asset"===r.type)a=r.source;else if(a=r.code,s.sourcemap&&r.map){let e;"inline"===s.sourcemap?e=r.map.toUrl():(e=`${path$2.basename(r.fileName)}.map`,i=writeFile(`${n}.map`,r.map.toString())),"hidden"!==s.sourcemap&&(a+=`//# ${SOURCEMAPPING_URL}=${e}\n`)}return writeFile(n,a).then(()=>i).then(()=>"chunk"===r.type&&e.pluginDriver.hookSeq("onwrite",[Object.assign({bundle:t},s),r])).then(()=>{})}function normalizeOutputOptions(e,t,r,s){if(!t)throw new Error("You must supply an options object");const n=mergeOptions({config:{output:Object.assign(Object.assign(Object.assign({},t),t.output),e.output)}});if(n.optionError)throw new Error(n.optionError);const i=n.outputOptions[0],a=s.hookReduceArg0Sync("outputOptions",[i],(e,t)=>t||e,e=>{const t=()=>e.error(errCannotEmitFromOptionsHook());return Object.assign(Object.assign({},e),{emitFile:t,setAssetSource:t})});return checkOutputOptions(a),"string"==typeof a.file&&("string"==typeof a.dir&&error({code:"INVALID_OPTION",message:'You must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks.'}),e.preserveModules&&error({code:"INVALID_OPTION",message:'You must set "output.dir" instead of "output.file" when using the "preserveModules" option.'}),"object"!=typeof e.input||Array.isArray(e.input)||error({code:"INVALID_OPTION",message:'You must set "output.dir" instead of "output.file" when providing named inputs.'})),r&&("umd"!==a.format&&"iife"!==a.format||error({code:"INVALID_OPTION",message:"UMD and IIFE output formats are not supported for code-splitting builds."}),"string"==typeof a.file&&error({code:"INVALID_OPTION",message:'You must set "output.dir" instead of "output.file" when generating multiple chunks.'})),a}!function(e){e[e.ENTRY_CHUNK=0]="ENTRY_CHUNK",e[e.SECONDARY_CHUNK=1]="SECONDARY_CHUNK",e[e.ASSET=2]="ASSET"}(SortingFileType||(SortingFileType={}));var utils$1=createCommonjsModule$1((function(e,t){t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,r,s=1,n)=>!1!==n&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(s)>=n),t.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];s&&(r&&s.type===r||"open"===s.type||"close"===s.type)&&!0!==s.escaped&&(s.value="\\"+s.value,s.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):(!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let s=0;s<e.length;s++){let n=e[s];Array.isArray(n)?r(n):void 0!==n&&t.push(n)}return t};return r(e),t}}));const WIN_SLASH="\\\\/",WIN_NO_SLASH="[^\\\\/]",DOT_LITERAL="\\.",PLUS_LITERAL="\\+",QMARK_LITERAL="\\?",SLASH_LITERAL="\\/",ONE_CHAR="(?=.)",QMARK="[^/]",END_ANCHOR="(?:\\/|$)",START_ANCHOR="(?:^|\\/)",DOTS_SLASH="\\.{1,2}(?:\\/|$)",NO_DOT="(?!\\.)",NO_DOTS=`(?!(?:^|\\/)${DOTS_SLASH})`,NO_DOT_SLASH="(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH=`(?!${DOTS_SLASH})`,QMARK_NO_DOT="[^.\\/]",STAR="[^/]*?",POSIX_CHARS={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:QMARK,END_ANCHOR:END_ANCHOR,DOTS_SLASH:DOTS_SLASH,NO_DOT:NO_DOT,NO_DOTS:NO_DOTS,NO_DOT_SLASH:NO_DOT_SLASH,NO_DOTS_SLASH:NO_DOTS_SLASH,QMARK_NO_DOT:"[^.\\/]",STAR:STAR,START_ANCHOR:"(?:^|\\/)"},WINDOWS_CHARS=Object.assign(Object.assign({},POSIX_CHARS),{SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"}),POSIX_REGEX_SOURCE={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var constants$1={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:POSIX_REGEX_SOURCE,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:path$2__default.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?WINDOWS_CHARS:POSIX_CHARS},utils$2=createCommonjsModule$1((function(e,t){const r="win32"===process.platform,{REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:n,REGEX_REMOVE_BACKSLASH:i}=constants$1;t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>s.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(n,"\\$1"),t.toPosixSlashes=e=>e.replace(/\\/g,"/"),t.removeBackslashes=e=>e.replace(i,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".");return 3===e.length&&+e[0]>=9||8==+e[0]&&+e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===path$2__default.sep,t.escapeLast=(e,r,s)=>{let n=e.lastIndexOf(r,s);return-1===n?e:"\\"===e[n-1]?t.escapeLast(e,r,n-1):e.slice(0,n)+"\\"+e.slice(n)}})),modules={},getModule=function(e){var t=e?path$2__default.resolve(e):process.cwd(),r=path$2__default.join(t,"@root"),s=modules[r];return s||((s=new module$2(r)).filename=r,s.paths=module$2._nodeModulePaths(t),modules[r]=s),s},requireRelative=function(e,t){return getModule(t).require(e)};requireRelative.resolve=function(e,t){var r=getModule(t);return module$2._resolveFilename(e,r)};var requireRelative_1=requireRelative;let chokidar;try{chokidar=requireRelative_1("chokidar",process.cwd())}catch(e){chokidar=null}var assert$1=!0,async_hooks=">= 8",buffer_ieee754="< 0.9.7",buffer=!0,child_process=!0,cluster=!0,console$1=!0,constants=!0,crypto=!0,_debug_agent=">= 1 && < 8",_debugger="< 8",dgram=!0,dns=!0,domain=!0,events=!0,freelist="< 6",fs=!0,_http_agent=">= 0.11.1",_http_client=">= 0.11.1",_http_common=">= 0.11.1",_http_incoming=">= 0.11.1",_http_outgoing=">= 0.11.1",_http_server=">= 0.11.1",http=!0,http2=">= 8.8",https=!0,inspector=">= 8.0.0",_linklist="< 8",module$1=!0,net=!0,os=!0,path$1=!0,perf_hooks=">= 8.5",process$1=">= 1",punycode=!0,querystring=!0,readline=!0,repl=!0,smalloc=">= 0.11.5 && < 3",_stream_duplex=">= 0.9.4",_stream_transform=">= 0.9.4",_stream_wrap=">= 1.4.1",_stream_passthrough=">= 0.9.4",_stream_readable=">= 0.9.4",_stream_writable=">= 0.9.4",stream=!0,string_decoder=!0,sys=!0,timers$1=!0,_tls_common=">= 0.11.13",_tls_legacy=">= 0.11.3 && < 10",_tls_wrap=">= 0.11.3",tls=!0,trace_events=">= 10",tty=!0,url=!0,util=!0,v8=">= 1",vm=!0,worker_threads=">= 11.7",zlib=!0,core={assert:assert$1,async_hooks:async_hooks,buffer_ieee754:buffer_ieee754,buffer:buffer,child_process:child_process,cluster:cluster,console:console$1,constants:constants,crypto:crypto,_debug_agent:_debug_agent,_debugger:_debugger,dgram:dgram,dns:dns,domain:domain,events:events,freelist:freelist,fs:fs,"fs/promises":">= 10 && < 10.1",_http_agent:_http_agent,_http_client:_http_client,_http_common:_http_common,_http_incoming:_http_incoming,_http_outgoing:_http_outgoing,_http_server:_http_server,http:http,http2:http2,https:https,inspector:inspector,_linklist:_linklist,module:module$1,net:net,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:os,path:path$1,perf_hooks:perf_hooks,process:process$1,punycode:punycode,querystring:querystring,readline:readline,repl:repl,smalloc:smalloc,_stream_duplex:_stream_duplex,_stream_transform:_stream_transform,_stream_wrap:_stream_wrap,_stream_passthrough:_stream_passthrough,_stream_readable:_stream_readable,_stream_writable:_stream_writable,stream:stream,string_decoder:string_decoder,sys:sys,timers:timers$1,_tls_common:_tls_common,_tls_legacy:_tls_legacy,_tls_wrap:_tls_wrap,tls:tls,trace_events:trace_events,tty:tty,url:url,util:util,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:v8,vm:vm,worker_threads:worker_threads,zlib:zlib},core$1=Object.freeze({__proto__:null,assert:assert$1,async_hooks:async_hooks,buffer_ieee754:buffer_ieee754,buffer:buffer,child_process:child_process,cluster:cluster,console:console$1,constants:constants,crypto:crypto,_debug_agent:_debug_agent,_debugger:_debugger,dgram:dgram,dns:dns,domain:domain,events:events,freelist:freelist,fs:fs,_http_agent:_http_agent,_http_client:_http_client,_http_common:_http_common,_http_incoming:_http_incoming,_http_outgoing:_http_outgoing,_http_server:_http_server,http:http,http2:http2,https:https,inspector:inspector,_linklist:_linklist,module:module$1,net:net,os:os,path:path$1,perf_hooks:perf_hooks,process:process$1,punycode:punycode,querystring:querystring,readline:readline,repl:repl,smalloc:smalloc,_stream_duplex:_stream_duplex,_stream_transform:_stream_transform,_stream_wrap:_stream_wrap,_stream_passthrough:_stream_passthrough,_stream_readable:_stream_readable,_stream_writable:_stream_writable,stream:stream,string_decoder:string_decoder,sys:sys,timers:timers$1,_tls_common:_tls_common,_tls_legacy:_tls_legacy,_tls_wrap:_tls_wrap,tls:tls,trace_events:trace_events,tty:tty,url:url,util:util,v8:v8,vm:vm,worker_threads:worker_threads,zlib:zlib,default:core}),data$1=getCjsExportFromNamespace(core$1),current=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function specifierIncluded(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",s=(t.length>1?t[1]:t[0]).split("."),n=0;n<3;++n){var i=Number(current[n]||0),a=Number(s[n]||0);if(i!==a)return"<"===r?i<a:">="===r&&i>=a}return">="===r}function matchesRange(e){var t=e.split(/ ?&& ?/);if(0===t.length)return!1;for(var r=0;r<t.length;++r)if(!specifierIncluded(t[r]))return!1;return!0}function versionIncluded(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){for(var t=0;t<e.length;++t)if(matchesRange(e[t]))return!0;return!1}return matchesRange(e)}var core$2={};for(var mod in data$1)Object.prototype.hasOwnProperty.call(data$1,mod)&&(core$2[mod]=versionIncluded(data$1[mod]));var core_1=core$2,caller=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=(new Error).stack;return Error.prepareStackTrace=e,t[2].getFileName()},pathParse=createCommonjsModule((function(e){var t="win32"===process.platform,r=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,s=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,n={};n.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,n,i,a,o,l=(t=e,n=r.exec(t),i=(n[1]||"")+(n[2]||""),a=n[3]||"",o=s.exec(a),[i,o[1],o[2],o[3]]);if(!l||4!==l.length)throw new TypeError("Invalid path '"+e+"'");return{root:l[0],dir:l[0]+l[1].slice(0,-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}};var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};a.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,r=(t=e,i.exec(t).slice(1));if(!r||4!==r.length)throw new TypeError("Invalid path '"+e+"'");return r[1]=r[1]||"",r[2]=r[2]||"",r[3]=r[3]||"",{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}},e.exports=t?n.parse:a.parse,e.exports.posix=a.parse,e.exports.win32=n.parse})),pathParse_1=pathParse.posix,pathParse_2=pathParse.win32,parse$1=path$2__default.parse||pathParse,getNodeModulesDirs=function(e,t){var r="/";/^([A-Za-z]:)/.test(e)?r="":/^\\\\/.test(e)&&(r="\\\\");for(var s=[e],n=parse$1(e);n.dir!==s[s.length-1];)s.push(n.dir),n=parse$1(n.dir);return s.reduce((function(e,s){return e.concat(t.map((function(e){return path$2__default.resolve(r,s,e)})))}),[])},nodeModulesPaths=function(e,t,r){var s=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&"function"==typeof t.paths)return t.paths(r,e,(function(){return getNodeModulesDirs(e,s)}),t);var n=getNodeModulesDirs(e,s);return t&&t.paths?n.concat(t.paths):n},normalizeOptions=function(e,t){return t||{}},isCore=function(e){return Object.prototype.hasOwnProperty.call(core_1,e)},defaultIsFile=function(e,t){fs$2__default.stat(e,(function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isFile()||r.isFIFO())}))},defaultIsDir=function(e,t){fs$2__default.stat(e,(function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isDirectory())}))},maybeUnwrapSymlink=function(e,t,r){t&&!1===t.preserveSymlinks?fs$2__default.realpath(e,(function(t,s){t&&"ENOENT"!==t.code?r(t):r(null,t?e:s)})):r(null,e)},async=function(e,t,r){var s=r,n=t;if("function"==typeof t&&(s=n,n={}),"string"!=typeof e){var i=new TypeError("Path must be a string.");return process.nextTick((function(){s(i)}))}var a=(n=normalizeOptions(e,n)).isFile||defaultIsFile,o=n.isDirectory||defaultIsDir,l=n.readFile||fs$2__default.readFile,c=n.extensions||[".js"],h=n.basedir||path$2__default.dirname(caller()),u=n.filename||h;n.paths=n.paths||[];var p,d=path$2__default.resolve(h);function f(t,r,i){t?s(t):r?s(null,r,i):g(p,(function(t,r,i){if(t)s(t);else if(r)maybeUnwrapSymlink(r,n,(function(e,t){e?s(e):s(null,t,i)}));else{var a=new Error("Cannot find module '"+e+"' from '"+u+"'");a.code="MODULE_NOT_FOUND",s(a)}}))}function m(e,t,r){var s=t,i=r;"function"==typeof s&&(i=s,s=void 0),function e(t,r,s){if(0===t.length)return i(null,void 0,s);var o=r+t[0];var h=s;h?u(null,h):function e(t,r){if(""===t||"/"===t)return r(null);if("win32"===process.platform&&/^\w:[/\\]*$/.test(t))return r(null);if(/[/\\]node_modules[/\\]*$/.test(t))return r(null);maybeUnwrapSymlink(t,n,(function(s,i){if(s)return e(path$2__default.dirname(t),r);var o=path$2__default.join(i,"package.json");a(o,(function(s,i){if(!i)return e(path$2__default.dirname(t),r);l(o,(function(e,s){e&&r(e);try{var i=JSON.parse(s)}catch(e){}i&&n.packageFilter&&(i=n.packageFilter(i,o)),r(null,i,t)}))}))}))}(path$2__default.dirname(o),u);function u(s,l,u){if(h=l,s)return i(s);if(u&&h&&n.pathFilter){var d=path$2__default.relative(u,o),f=d.slice(0,d.length-t[0].length),m=n.pathFilter(h,r,f);if(m)return e([""].concat(c.slice()),path$2__default.resolve(u,m),h)}a(o,p)}function p(s,n){return s?i(s):n?i(null,o,h):void e(t.slice(1),r,h)}}([""].concat(c),e,s)}function g(e,t,r){var s=r,i=t;"function"==typeof i&&(s=i,i=n.package),maybeUnwrapSymlink(e,n,(function(t,r){if(t)return s(t);var o=path$2__default.join(r,"package.json");a(o,(function(t,r){return t?s(t):r?void l(o,(function(t,r){if(t)return s(t);try{var i=JSON.parse(r)}catch(e){}if(i&&n.packageFilter&&(i=n.packageFilter(i,o)),i&&i.main){if("string"!=typeof i.main){var a=new TypeError("package “"+i.name+"” `main` must be a string");return a.code="INVALID_PACKAGE_MAIN",s(a)}return"."!==i.main&&"./"!==i.main||(i.main="index"),void m(path$2__default.resolve(e,i.main),i,(function(t,r,n){return t?s(t):r?s(null,r,n):n?void g(path$2__default.resolve(e,n.main),n,(function(t,r,n){return t?s(t):r?s(null,r,n):void m(path$2__default.join(e,"index"),n,s)})):m(path$2__default.join(e,"index"),n,s)}))}m(path$2__default.join(e,"/index"),i,s)})):m(path$2__default.join(e,"index"),i,s)}))}))}function E(t,r){if(0===r.length)return t(null,void 0);var s=r[0];function i(r,i,o){return r?t(r):i?t(null,i,o):void g(path$2__default.join(s,e),n.package,a)}function a(e,s,n){return e?t(e):s?t(null,s,n):void E(t,r.slice(1))}o(s,(function(a,o){if(a)return t(a);if(!o)return E(t,r.slice(1));m(path$2__default.join(s,e),n.package,i)}))}maybeUnwrapSymlink(d,n,(function(t,r){t?s(t):function(t){/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)?(p=path$2__default.resolve(t,e),".."!==e&&"/"!==e.slice(-1)||(p+="/"),/\/$/.test(e)&&p===t?g(p,n.package,f):m(p,n.package,f)):function(e,t,r){E(r,nodeModulesPaths(t,n,e))}(e,t,(function(t,r,i){if(t)s(t);else{if(isCore(e))return s(null,e);if(r)return maybeUnwrapSymlink(r,n,(function(e,t){e?s(e):s(null,t,i)}));var a=new Error("Cannot find module '"+e+"' from '"+u+"'");a.code="MODULE_NOT_FOUND",s(a)}}))}(r)}))},defaultIsFile$1=function(e){try{var t=fs$2__default.statSync(e)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return t.isFile()||t.isFIFO()},defaultIsDir$1=function(e){try{var t=fs$2__default.statSync(e)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return t.isDirectory()},maybeUnwrapSymlink$1=function(e,t){if(t&&!1===t.preserveSymlinks)try{return fs$2__default.realpathSync(e)}catch(e){if("ENOENT"!==e.code)throw e}return e},sync$1=function(e,t){if("string"!=typeof e)throw new TypeError("Path must be a string.");var r=normalizeOptions(e,t),s=r.isFile||defaultIsFile$1,n=r.readFileSync||fs$2__default.readFileSync,i=r.isDirectory||defaultIsDir$1,a=r.extensions||[".js"],o=r.basedir||path$2__default.dirname(caller()),l=r.filename||o;r.paths=r.paths||[];var c=maybeUnwrapSymlink$1(path$2__default.resolve(o),r);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var h=path$2__default.resolve(c,e);".."!==e&&"/"!==e.slice(-1)||(h+="/");var u=f(h)||m(h);if(u)return maybeUnwrapSymlink$1(u,r)}else{if(isCore(e))return e;var p=function(e,t){for(var s=nodeModulesPaths(t,r,e),n=0;n<s.length;n++){var a=s[n];if(i(a)){var o=f(path$2__default.join(a,"/",e));if(o)return o;var l=m(path$2__default.join(a,"/",e));if(l)return l}}}(e,c);if(p)return maybeUnwrapSymlink$1(p,r)}if(isCore(e))return e;var d=new Error("Cannot find module '"+e+"' from '"+l+"'");throw d.code="MODULE_NOT_FOUND",d;function f(e){var t=function e(t){if(""===t||"/"===t)return;if("win32"===process.platform&&/^\w:[/\\]*$/.test(t))return;if(/[/\\]node_modules[/\\]*$/.test(t))return;var i=path$2__default.join(maybeUnwrapSymlink$1(t,r),"package.json");if(!s(i))return e(path$2__default.dirname(t));var a=n(i);try{var o=JSON.parse(a)}catch(e){}o&&r.packageFilter&&(o=r.packageFilter(o,t));return{pkg:o,dir:t}}(path$2__default.dirname(e));if(t&&t.dir&&t.pkg&&r.pathFilter){var i=path$2__default.relative(t.dir,e),o=r.pathFilter(t.pkg,e,i);o&&(e=path$2__default.resolve(t.dir,o))}if(s(e))return e;for(var l=0;l<a.length;l++){var c=e+a[l];if(s(c))return c}}function m(e){var t=path$2__default.join(maybeUnwrapSymlink$1(e,r),"/package.json");if(s(t)){try{var i=n(t,"UTF8"),a=JSON.parse(i)}catch(e){}if(a&&r.packageFilter&&(a=r.packageFilter(a,e)),a&&a.main){if("string"!=typeof a.main){var o=new TypeError("package “"+a.name+"” `main` must be a string");throw o.code="INVALID_PACKAGE_MAIN",o}"."!==a.main&&"./"!==a.main||(a.main="index");try{var l=f(path$2__default.resolve(e,a.main));if(l)return l;var c=m(path$2__default.resolve(e,a.main));if(c)return c}catch(e){}}}return f(path$2__default.join(e,"/index"))}},resolve=createCommonjsModule((function(e,t){(t=e.exports=async).core=core_1,t.isCore=function(e){return core_1[e]},t.sync=sync$1})),resolve_1=resolve.core,resolve_2=resolve.isCore,resolve_3=resolve.sync;function walk(e,{enter:t,leave:r}){visit(e,null,t,r)}let shouldSkip=!1;const context={skip:()=>shouldSkip=!0},childKeys={},toString$2=Object.prototype.toString;function isArray$2(e){return"[object Array]"===toString$2.call(e)}function visit(e,t,r,s,n,i){if(!e)return;if(r){const s=shouldSkip;shouldSkip=!1,r.call(context,e,t,n,i);const a=shouldSkip;if(shouldSkip=s,a)return}const a=e.type&&childKeys[e.type]||(childKeys[e.type]=Object.keys(e).filter(t=>"object"==typeof e[t]));for(let t=0;t<a.length;t+=1){const n=a[t],i=e[n];if(isArray$2(i))for(let t=0;t<i.length;t+=1)i[t]&&i[t].type&&visit(i[t],e,r,s,n,t);else i&&i.type&&visit(i,e,r,s,n,null)}s&&s(e,t,n,i)}const extractors$1={ArrayPattern(e,t){for(const r of t.elements)r&&extractors$1[r.type](e,r)},AssignmentPattern(e,t){extractors$1[t.left.type](e,t.left)},Identifier(e,t){e.push(t.name)},MemberExpression(){},ObjectPattern(e,t){for(const r of t.properties)"RestElement"===r.type?extractors$1.RestElement(e,r):extractors$1[r.value.type](e,r.value)},RestElement(e,t){extractors$1[t.argument.type](e,t.argument)}},extractAssignedNames$1=function(e){const t=[];return extractors$1[e.type](t,e),t},blockDeclarations={const:!0,let:!0};class Scope$2{constructor(e={}){this.parent=e.parent,this.isBlockScope=!!e.block,this.declarations=Object.create(null),e.params&&e.params.forEach(e=>{extractAssignedNames$1(e).forEach(e=>{this.declarations[e]=!0})})}addDeclaration(e,t,r){!t&&this.isBlockScope?this.parent.addDeclaration(e,t,r):e.id&&extractAssignedNames$1(e.id).forEach(e=>{this.declarations[e]=!0})}contains(e){return this.declarations[e]||!!this.parent&&this.parent.contains(e)}}const attachScopes=function(e,t="scope"){let r=new Scope$2;return walk(e,{enter(e,s){if(/(Function|Class)Declaration/.test(e.type)&&r.addDeclaration(e,!1,!1),"VariableDeclaration"===e.type){const t=e.kind,s=blockDeclarations[t];e.declarations.forEach(e=>{r.addDeclaration(e,s,!0)})}let n;/Function/.test(e.type)&&(n=new Scope$2({parent:r,block:!1,params:e.params}),"FunctionExpression"===e.type&&e.id&&n.addDeclaration(e,!1,!1)),"BlockStatement"!==e.type||/Function/.test(s.type)||(n=new Scope$2({parent:r,block:!0})),"CatchClause"===e.type&&(n=new Scope$2({parent:r,params:e.param?[e.param]:[],block:!0})),n&&(Object.defineProperty(e,t,{value:n,configurable:!0}),r=n)},leave(e){e[t]&&(r=r.parent)}}),r};function createCommonjsModule$2(e,t){return e(t={exports:{}},t.exports),t.exports}var utils$3=createCommonjsModule$2((function(e,t){t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,r,s=1,n)=>!1!==n&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(s)>=n),t.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];s&&(r&&s.type===r||"open"===s.type||"close"===s.type)&&!0!==s.escaped&&(s.value="\\"+s.value,s.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):(!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let s=0;s<e.length;s++){let n=e[s];Array.isArray(n)?r(n):void 0!==n&&t.push(n)}return t};return r(e),t}})),utils_1=utils$3.isInteger,utils_2=utils$3.find,utils_3=utils$3.exceedsLimit,utils_4=utils$3.escapeNode,utils_5=utils$3.encloseBrace,utils_6=utils$3.isInvalidBrace,utils_7=utils$3.isOpenOrClose,utils_8=utils$3.reduce,utils_9=utils$3.flatten,stringify=(e,t={})=>{let r=(e,s={})=>{let n=t.escapeInvalid&&utils$3.isInvalidBrace(s),i=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(n||i)&&utils$3.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=r(t);return a};return r(e)},isNumber=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))};const toRegexRange=(e,t,r)=>{if(!1===isNumber(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===isNumber(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let s=Object.assign({relaxZeros:!0},r);"boolean"==typeof s.strictZeros&&(s.relaxZeros=!1===s.strictZeros);let n=e+":"+t+"="+String(s.relaxZeros)+String(s.shorthand)+String(s.capture)+String(s.wrap);if(toRegexRange.cache.hasOwnProperty(n))return toRegexRange.cache[n].result;let i=Math.min(e,t),a=Math.max(e,t);if(1===Math.abs(i-a)){let r=e+"|"+t;return s.capture?`(${r})`:!1===s.wrap?r:`(?:${r})`}let o=hasPadding(e)||hasPadding(t),l={min:e,max:t,a:i,b:a},c=[],h=[];if(o&&(l.isPadded=o,l.maxLen=String(l.max).length),i<0){h=splitToPatterns(a<0?Math.abs(a):1,Math.abs(i),l,s),i=l.a=0}return a>=0&&(c=splitToPatterns(i,a,l,s)),l.negatives=h,l.positives=c,l.result=collatePatterns(h,c),!0===s.capture?l.result=`(${l.result})`:!1!==s.wrap&&c.length+h.length>1&&(l.result=`(?:${l.result})`),toRegexRange.cache[n]=l,l.result};function collatePatterns(e,t,r){let s=filterPatterns(e,t,"-",!1)||[],n=filterPatterns(t,e,"",!1)||[],i=filterPatterns(e,t,"-?",!0)||[];return s.concat(i).concat(n).join("|")}function splitToRanges(e,t){let r=1,s=1,n=countNines(e,r),i=new Set([t]);for(;e<=n&&n<=t;)i.add(n),n=countNines(e,r+=1);for(n=countZeros(t+1,s)-1;e<n&&n<=t;)i.add(n),n=countZeros(t+1,s+=1)-1;return(i=[...i]).sort(compare),i}function rangeToPattern(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=zip(e,t),n=s.length,i="",a=0;for(let e=0;e<n;e++){let[t,r]=s[e];t===r?i+=t:"0"!==t||"9"!==r?i+=toCharacterClass(t,r):a++}return a&&(i+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:i,count:[a],digits:n}}function splitToPatterns(e,t,r,s){let n,i=splitToRanges(e,t),a=[],o=e;for(let e=0;e<i.length;e++){let t=i[e],l=rangeToPattern(String(o),String(t),s),c="";r.isPadded||!n||n.pattern!==l.pattern?(r.isPadded&&(c=padZeros(t,r,s)),l.string=c+l.pattern+toQuantifier(l.count),a.push(l),o=t+1,n=l):(n.count.length>1&&n.count.pop(),n.count.push(l.count[0]),n.string=n.pattern+toQuantifier(n.count),o=t+1)}return a}function filterPatterns(e,t,r,s,n){let i=[];for(let n of e){let{string:e}=n;s||contains(t,"string",e)||i.push(r+e),s&&contains(t,"string",e)&&i.push(r+e)}return i}function zip(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}function compare(e,t){return e>t?1:t>e?-1:0}function contains(e,t,r){return e.some(e=>e[t]===r)}function countNines(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function countZeros(e,t){return e-e%Math.pow(10,t)}function toQuantifier(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function toCharacterClass(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function hasPadding(e){return/^-?(0+)\d/.test(e)}function padZeros(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),n=!1!==r.relaxZeros;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}toRegexRange.cache={},toRegexRange.clearCache=()=>toRegexRange.cache={};var toRegexRange_1=toRegexRange;const isObject$2=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),transform$1=e=>t=>!0===e?Number(t):String(t),isValidValue=e=>"number"==typeof e||"string"==typeof e&&""!==e,isNumber$1=e=>Number.isInteger(+e),zeros=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},stringify$1=(e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify,pad=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},toMaxLen=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},toSequence=(e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let r,s=t.capture?"":"?:",n="",i="";return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${s}${e.negatives.join("|")})`),r=n&&i?`${n}|${i}`:n||i,t.wrap?`(${s}${r})`:r},toRange=(e,t,r,s)=>{if(r)return toRegexRange_1(e,t,Object.assign({wrap:!1},s));let n=String.fromCharCode(e);return e===t?n:`[${n}-${String.fromCharCode(t)}]`},toRegex=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,s=r.capture?"":"?:";return t?`(${s}${e.join("|")})`:e.join("|")}return toRegexRange_1(e,t,r)},rangeError=(...e)=>new RangeError("Invalid range arguments: "+util$1.inspect(...e)),invalidRange=(e,t,r)=>{if(!0===r.strictRanges)throw rangeError([e,t]);return[]},invalidStep=(e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]},fillNumbers=(e,t,r=1,s={})=>{let n=Number(e),i=Number(t);if(!Number.isInteger(n)||!Number.isInteger(i)){if(!0===s.strictRanges)throw rangeError([e,t]);return[]}0===n&&(n=0),0===i&&(i=0);let a=n>i,o=String(e),l=String(t),c=String(r);r=Math.max(Math.abs(r),1);let h=zeros(o)||zeros(l)||zeros(c),u=h?Math.max(o.length,l.length,c.length):0,p=!1===h&&!1===stringify$1(e,t,s),d=s.transform||transform$1(p);if(s.toRegex&&1===r)return toRange(toMaxLen(e,u),toMaxLen(t,u),!0,s);let f={negatives:[],positives:[]},m=e=>f[e<0?"negatives":"positives"].push(Math.abs(e)),g=[],E=0;for(;a?n>=i:n<=i;)!0===s.toRegex&&r>1?m(n):g.push(pad(d(n,E),u,p)),n=a?n-r:n+r,E++;return!0===s.toRegex?r>1?toSequence(f,s):toRegex(g,null,Object.assign({wrap:!1},s)):g},fillLetters=(e,t,r=1,s={})=>{if(!isNumber$1(e)&&e.length>1||!isNumber$1(t)&&t.length>1)return invalidRange(e,t,s);let n=s.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),o=i>a,l=Math.min(i,a),c=Math.max(i,a);if(s.toRegex&&1===r)return toRange(l,c,!1,s);let h=[],u=0;for(;o?i>=a:i<=a;)h.push(n(i,u)),i=o?i-r:i+r,u++;return!0===s.toRegex?toRegex(h,null,{wrap:!1,options:s}):h},fill=(e,t,r,s={})=>{if(null==t&&isValidValue(e))return[e];if(!isValidValue(e)||!isValidValue(t))return invalidRange(e,t,s);if("function"==typeof r)return fill(e,t,1,{transform:r});if(isObject$2(r))return fill(e,t,0,r);let n=Object.assign({},s);return!0===n.capture&&(n.wrap=!0),r=r||n.step||1,isNumber$1(r)?isNumber$1(e)&&isNumber$1(t)?fillNumbers(e,t,r,n):fillLetters(e,t,Math.max(Math.abs(r),1),n):null==r||isObject$2(r)?fill(e,t,1,r):invalidStep(r,n)};var fillRange=fill;const compile=(e,t={})=>{let r=(e,s={})=>{let n=utils$3.isInvalidBrace(s),i=!0===e.invalid&&!0===t.escapeInvalid,a=!0===n||!0===i,o=!0===t.escapeInvalid?"\\":"",l="";if(!0===e.isOpen)return o+e.value;if(!0===e.isClose)return o+e.value;if("open"===e.type)return a?o+e.value:"(";if("close"===e.type)return a?o+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":a?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=utils$3.reduce(e.nodes),s=fillRange(...r,Object.assign({},t,{wrap:!1,toRegex:!0}));if(0!==s.length)return r.length>1&&s.length>1?`(${s})`:s}if(e.nodes)for(let t of e.nodes)l+=r(t,e);return l};return r(e)};var compile_1=compile;const append=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?utils$3.flatten(t).map(e=>`{${e}}`):t;for(let n of e)if(Array.isArray(n))for(let e of n)s.push(append(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),s.push(Array.isArray(e)?append(n,e,r):n+e);return utils$3.flatten(s)},expand$1=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,s=(e,n={})=>{e.queue=[];let i=n,a=n.queue;for(;"brace"!==i.type&&"root"!==i.type&&i.parent;)a=(i=i.parent).queue;if(e.invalid||e.dollar)return void a.push(append(a.pop(),stringify(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void a.push(append(a.pop(),["{}"]));if(e.nodes&&e.ranges>0){let s=utils$3.reduce(e.nodes);if(utils$3.exceedsLimit(...s,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let n=fillRange(...s,t);return 0===n.length&&(n=stringify(e,t)),a.push(append(a.pop(),n)),void(e.nodes=[])}let o=utils$3.encloseBrace(e),l=e.queue,c=e;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)l=(c=c.parent).queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?l.push(append(l.pop(),r.value)):r.nodes&&s(r,e):a.push(append(a.pop(),l,o)):(1===t&&l.push(""),l.push(""))}return l};return utils$3.flatten(s(e))};var expand_1=expand$1,constants$2={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};const{MAX_LENGTH:MAX_LENGTH,CHAR_BACKSLASH:CHAR_BACKSLASH,CHAR_BACKTICK:CHAR_BACKTICK,CHAR_COMMA:CHAR_COMMA,CHAR_DOT:CHAR_DOT,CHAR_LEFT_PARENTHESES:CHAR_LEFT_PARENTHESES,CHAR_RIGHT_PARENTHESES:CHAR_RIGHT_PARENTHESES,CHAR_LEFT_CURLY_BRACE:CHAR_LEFT_CURLY_BRACE,CHAR_RIGHT_CURLY_BRACE:CHAR_RIGHT_CURLY_BRACE,CHAR_LEFT_SQUARE_BRACKET:CHAR_LEFT_SQUARE_BRACKET,CHAR_RIGHT_SQUARE_BRACKET:CHAR_RIGHT_SQUARE_BRACKET,CHAR_DOUBLE_QUOTE:CHAR_DOUBLE_QUOTE,CHAR_SINGLE_QUOTE:CHAR_SINGLE_QUOTE,CHAR_NO_BREAK_SPACE:CHAR_NO_BREAK_SPACE,CHAR_ZERO_WIDTH_NOBREAK_SPACE:CHAR_ZERO_WIDTH_NOBREAK_SPACE}=constants$2,parse$2=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},s="number"==typeof r.maxLength?Math.min(MAX_LENGTH,r.maxLength):MAX_LENGTH;if(e.length>s)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${s})`);let n,i={type:"root",input:e,nodes:[]},a=[i],o=i,l=i,c=0,h=e.length,u=0,p=0;const d=()=>e[u++],f=e=>{if("text"===e.type&&"dot"===l.type&&(l.type="text"),!l||"text"!==l.type||"text"!==e.type)return o.nodes.push(e),e.parent=o,e.prev=l,l=e,e;l.value+=e.value};for(f({type:"bos"});u<h;)if(o=a[a.length-1],(n=d())!==CHAR_ZERO_WIDTH_NOBREAK_SPACE&&n!==CHAR_NO_BREAK_SPACE)if(n!==CHAR_BACKSLASH)if(n!==CHAR_RIGHT_SQUARE_BRACKET)if(n!==CHAR_LEFT_SQUARE_BRACKET)if(n!==CHAR_LEFT_PARENTHESES)if(n!==CHAR_RIGHT_PARENTHESES)if(n!==CHAR_DOUBLE_QUOTE&&n!==CHAR_SINGLE_QUOTE&&n!==CHAR_BACKTICK)if(n!==CHAR_LEFT_CURLY_BRACE)if(n!==CHAR_RIGHT_CURLY_BRACE)if(n===CHAR_COMMA&&p>0){if(o.ranges>0){o.ranges=0;let e=o.nodes.shift();o.nodes=[e,{type:"text",value:stringify(o)}]}f({type:"comma",value:n}),o.commas++}else if(n===CHAR_DOT&&p>0&&0===o.commas){let e=o.nodes;if(0===p||0===e.length){f({type:"text",value:n});continue}if("dot"===l.type){if(o.range=[],l.value+=n,l.type="range",3!==o.nodes.length&&5!==o.nodes.length){o.invalid=!0,o.ranges=0,l.type="text";continue}o.ranges++,o.args=[];continue}if("range"===l.type){e.pop();let t=e[e.length-1];t.value+=l.value+n,l=t,o.ranges--;continue}f({type:"dot",value:n})}else f({type:"text",value:n});else{if("brace"!==o.type){f({type:"text",value:n});continue}let e="close";(o=a.pop()).close=!0,f({type:e,value:n}),p--,o=a[a.length-1]}else{p++;let e=l.value&&"$"===l.value.slice(-1)||!0===o.dollar;o=f({type:"brace",open:!0,close:!1,dollar:e,depth:p,commas:0,ranges:0,nodes:[]}),a.push(o),f({type:"open",value:n})}else{let e,r=n;for(!0!==t.keepQuotes&&(n="");u<h&&(e=d());)if(e!==CHAR_BACKSLASH){if(e===r){!0===t.keepQuotes&&(n+=e);break}n+=e}else n+=e+d();f({type:"text",value:n})}else{if("paren"!==o.type){f({type:"text",value:n});continue}o=a.pop(),f({type:"text",value:n}),o=a[a.length-1]}else o=f({type:"paren",nodes:[]}),a.push(o),f({type:"text",value:n});else{let e;for(c++;u<h&&(e=d());)if(n+=e,e!==CHAR_LEFT_SQUARE_BRACKET)if(e!==CHAR_BACKSLASH){if(e===CHAR_RIGHT_SQUARE_BRACKET&&0===--c)break}else n+=d();else c++;f({type:"text",value:n})}else f({type:"text",value:"\\"+n});else f({type:"text",value:(t.keepEscaping?n:"")+d()});do{if("root"!==(o=a.pop()).type){o.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=a[a.length-1],t=e.nodes.indexOf(o);e.nodes.splice(t,1,...o.nodes)}}while(a.length>0);return f({type:"eos"}),i};var parse_1=parse$2;const braces=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let e=braces.create(s,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(braces.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};braces.parse=(e,t={})=>parse_1(e,t),braces.stringify=(e,t={})=>stringify("string"==typeof e?braces.parse(e,t):e,t),braces.compile=(e,t={})=>("string"==typeof e&&(e=braces.parse(e,t)),compile_1(e,t)),braces.expand=(e,t={})=>{"string"==typeof e&&(e=braces.parse(e,t));let r=expand_1(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},braces.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?braces.compile(e,t):braces.expand(e,t);var braces_1=braces;const WIN_SLASH$1="\\\\/",WIN_NO_SLASH$1="[^\\\\/]",DOT_LITERAL$1="\\.",PLUS_LITERAL$1="\\+",QMARK_LITERAL$1="\\?",SLASH_LITERAL$1="\\/",ONE_CHAR$1="(?=.)",QMARK$1="[^/]",END_ANCHOR$1="(?:\\/|$)",START_ANCHOR$1="(?:^|\\/)",DOTS_SLASH$1="\\.{1,2}(?:\\/|$)",NO_DOT$1="(?!\\.)",NO_DOTS$1="(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH$1="(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH$1="(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT$1="[^.\\/]",STAR$1="[^/]*?",POSIX_CHARS$1={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:DOTS_SLASH$1,NO_DOT:NO_DOT$1,NO_DOTS:NO_DOTS$1,NO_DOT_SLASH:NO_DOT_SLASH$1,NO_DOTS_SLASH:NO_DOTS_SLASH$1,QMARK_NO_DOT:"[^.\\/]",STAR:STAR$1,START_ANCHOR:"(?:^|\\/)"},WINDOWS_CHARS$1=Object.assign({},POSIX_CHARS$1,{SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"}),POSIX_REGEX_SOURCE$1={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var constants$1$1={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:POSIX_REGEX_SOURCE$1,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:path$2__default.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?WINDOWS_CHARS$1:POSIX_CHARS$1},utils$1$1=createCommonjsModule$2((function(e,t){const r="win32"===process.platform,{REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:n,REGEX_REMOVE_BACKSLASH:i}=constants$1$1;t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>s.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(n,"\\$1"),t.toPosixSlashes=e=>e.replace(/\\/g,"/"),t.removeBackslashes=e=>e.replace(i,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".");return 3===e.length&&+e[0]>=9||8==+e[0]&&+e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===path$2__default.sep,t.escapeLast=(e,r,s)=>{let n=e.lastIndexOf(r,s);return-1===n?e:"\\"===e[n-1]?t.escapeLast(e,r,n-1):e.slice(0,n)+"\\"+e.slice(n)}})),utils_1$1=utils$1$1.isObject,utils_2$1=utils$1$1.hasRegexChars,utils_3$1=utils$1$1.isRegexChar,utils_4$1=utils$1$1.escapeRegex,utils_5$1=utils$1$1.toPosixSlashes,utils_6$1=utils$1$1.removeBackslashes,utils_7$1=utils$1$1.supportsLookbehinds,utils_8$1=utils$1$1.isWindows,utils_9$1=utils$1$1.escapeLast;const{CHAR_ASTERISK:CHAR_ASTERISK,CHAR_AT:CHAR_AT,CHAR_BACKWARD_SLASH:CHAR_BACKWARD_SLASH,CHAR_COMMA:CHAR_COMMA$1,CHAR_DOT:CHAR_DOT$1,CHAR_EXCLAMATION_MARK:CHAR_EXCLAMATION_MARK,CHAR_FORWARD_SLASH:CHAR_FORWARD_SLASH,CHAR_LEFT_CURLY_BRACE:CHAR_LEFT_CURLY_BRACE$1,CHAR_LEFT_PARENTHESES:CHAR_LEFT_PARENTHESES$1,CHAR_LEFT_SQUARE_BRACKET:CHAR_LEFT_SQUARE_BRACKET$1,CHAR_PLUS:CHAR_PLUS,CHAR_QUESTION_MARK:CHAR_QUESTION_MARK,CHAR_RIGHT_CURLY_BRACE:CHAR_RIGHT_CURLY_BRACE$1,CHAR_RIGHT_PARENTHESES:CHAR_RIGHT_PARENTHESES$1,CHAR_RIGHT_SQUARE_BRACKET:CHAR_RIGHT_SQUARE_BRACKET$1}=constants$1$1,isPathSeparator=e=>e===CHAR_FORWARD_SLASH||e===CHAR_BACKWARD_SLASH;var scan=(e,t)=>{let r,s,n=t||{},i=e.length-1,a=-1,o=0,l=0,c=!1,h=!1,u=!1,p=0,d=!1,f=()=>a>=i,m=()=>(r=s,e.charCodeAt(++a));for(;a<i;){let t;if((s=m())!==CHAR_BACKWARD_SLASH){if(!0===d||s===CHAR_LEFT_CURLY_BRACE$1)for(p++;!f()&&(t=m());)if(t!==CHAR_BACKWARD_SLASH)if(t!==CHAR_LEFT_CURLY_BRACE$1){if(!d&&t===CHAR_DOT$1&&(t=m())===CHAR_DOT$1){c=!0;break}if(!d&&t===CHAR_COMMA$1){c=!0;break}if(t===CHAR_RIGHT_CURLY_BRACE$1&&0===--p){d=!1;break}}else p++;else h=!0,t=m();if(s!==CHAR_FORWARD_SLASH){if(s===CHAR_ASTERISK){c=!0;break}if(s===CHAR_ASTERISK||s===CHAR_QUESTION_MARK){c=!0;break}if(s===CHAR_LEFT_SQUARE_BRACKET$1)for(;!f()&&(t=m());)if(t!==CHAR_BACKWARD_SLASH){if(t===CHAR_RIGHT_SQUARE_BRACKET$1){c=!0;break}}else h=!0,t=m();if((s===CHAR_PLUS||s===CHAR_AT||s===CHAR_EXCLAMATION_MARK)&&e.charCodeAt(a+1)===CHAR_LEFT_PARENTHESES$1){c=!0;break}if(s!==CHAR_EXCLAMATION_MARK||a!==o){if(s===CHAR_LEFT_PARENTHESES$1)for(;!f()&&(t=m());)if(t!==CHAR_BACKWARD_SLASH){if(t===CHAR_RIGHT_PARENTHESES$1){c=!0;break}}else h=!0,t=m();if(c)break}else u=!0,o++}else{if(r===CHAR_DOT$1&&a===o+1){o+=2;continue}l=a+1}}else h=!0,(t=m())===CHAR_LEFT_CURLY_BRACE$1&&(d=!0)}let g="",E=e,y=e,_="";return o>0&&(g=e.slice(0,o),e=e.slice(o),l-=o),y&&!0===c&&l>0?(y=e.slice(0,l),_=e.slice(l)):!0===c?(y="",_=e):y=e,y&&""!==y&&"/"!==y&&y!==e&&isPathSeparator(y.charCodeAt(y.length-1))&&(y=y.slice(0,-1)),!0===n.unescape&&(_&&(_=utils$1$1.removeBackslashes(_)),y&&!0===h&&(y=utils$1$1.removeBackslashes(y))),{prefix:g,input:E,base:y,glob:_,negated:u,isGlob:c}};const{MAX_LENGTH:MAX_LENGTH$1,POSIX_REGEX_SOURCE:POSIX_REGEX_SOURCE$1$1,REGEX_NON_SPECIAL_CHAR:REGEX_NON_SPECIAL_CHAR,REGEX_SPECIAL_CHARS_BACKREF:REGEX_SPECIAL_CHARS_BACKREF,REPLACEMENTS:REPLACEMENTS}=constants$1$1,expandRange=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);return e.sort(),`[${e.join("-")}]`},negate=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},syntaxError=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,parse$1$1=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=REPLACEMENTS[e]||e;let r=Object.assign({},t),s="number"==typeof r.maxLength?Math.min(MAX_LENGTH$1,r.maxLength):MAX_LENGTH$1,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);let i={type:"bos",value:"",output:r.prepend||""},a=[i],o=r.capture?"":"?:",l=utils$1$1.isWindows(t);const c=constants$1$1.globChars(l),h=constants$1$1.extglobChars(c),{DOT_LITERAL:u,PLUS_LITERAL:p,SLASH_LITERAL:d,ONE_CHAR:f,DOTS_SLASH:m,NO_DOT:g,NO_DOT_SLASH:E,NO_DOTS_SLASH:y,QMARK:_,QMARK_NO_DOT:x,STAR:b,START_ANCHOR:S}=c,v=e=>`(${o}(?:(?!${S}${e.dot?m:u}).)*?)`;let C=r.dot?"":g,A=!0===r.bash?v(r):b,$=r.dot?_:x;r.capture&&(A=`(${A})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let R,N={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:a},P=[],I=[],k=i;const w=()=>N.index===n-1,O=N.peek=(t=1)=>e[N.index+t],T=N.advance=()=>e[++N.index],L=e=>{N.output+=null!=e.output?e.output:e.value,N.consumed+=e.value||""},M=e=>{N[e]++,I.push(e)},D=e=>{N[e]--,I.pop()},F=e=>{if("globstar"===k.type){let t=N.braces>0&&("comma"===e.type||"brace"===e.type),r=P.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(N.output=N.output.slice(0,-k.output.length),k.type="star",k.value="*",k.output=A,N.output+=k.output)}P.length&&"paren"!==e.type&&!h[e.value]&&(P[P.length-1].inner+=e.value),(e.value||e.output)&&L(e),k&&"text"===k.type&&"text"===e.type?k.value+=e.value:(e.prev=k,a.push(e),k=e)},B=(e,t)=>{let s=Object.assign({},h[t],{conditions:1,inner:""});s.prev=k,s.parens=N.parens,s.output=N.output;let n=(r.capture?"(":"")+s.open;F({type:e,value:t,output:N.output?"":f}),F({type:"paren",extglob:!0,value:T(),output:n}),M("parens"),P.push(s)},V=t=>{let s=t.close+(r.capture?")":"");if("negate"===t.type){let n=A;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(n=v(r)),(n!==A||w()||/^\)+$/.test(e.slice(N.index+1)))&&(s=t.close=")$))"+n),"bos"===t.prev.type&&w()&&(N.negatedExtglob=!0)}F({type:"paren",extglob:!0,value:R,output:s}),D("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,s=e.replace(REGEX_SPECIAL_CHARS_BACKREF,(e,r,s,n,i,a)=>"\\"===n?(t=!0,e):"?"===n?r?r+n+(i?_.repeat(i.length):""):0===a?$+(i?_.repeat(i.length):""):_.repeat(s.length):"."===n?u.repeat(s.length):"*"===n?r?r+n+(i?A:""):A:r?e:"\\"+e);return!0===t&&(s=!0===r.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),N.output=s,N}for(;!w();){if("\0"===(R=T()))continue;if("\\"===R){let t=O();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){F({type:"text",value:R+="\\"});continue}let s=/^\\+/.exec(e.slice(N.index+1)),n=0;if(s&&s[0].length>2&&(n=s[0].length,N.index+=n,n%2!=0&&(R+="\\")),!0===r.unescape?R=T()||"":R+=T()||"",0===N.brackets){F({type:"text",value:R});continue}}if(N.brackets>0&&("]"!==R||"["===k.value||"[^"===k.value)){if(!1!==r.posix&&":"===R){let e=k.value.slice(1);if(e.includes("[")&&(k.posix=!0,e.includes(":"))){let e=k.value.lastIndexOf("["),t=k.value.slice(0,e),r=k.value.slice(e+2),s=POSIX_REGEX_SOURCE$1$1[r];if(s){k.value=t+s,N.backtrack=!0,T(),i.output||1!==a.indexOf(k)||(i.output=f);continue}}}("["===R&&":"!==O()||"-"===R&&"]"===O())&&(R="\\"+R),"]"!==R||"["!==k.value&&"[^"!==k.value||(R="\\"+R),!0===r.posix&&"!"===R&&"["===k.value&&(R="^"),k.value+=R,L({value:R});continue}if(1===N.quotes&&'"'!==R){R=utils$1$1.escapeRegex(R),k.value+=R,L({value:R});continue}if('"'===R){N.quotes=1===N.quotes?0:1,!0===r.keepQuotes&&F({type:"text",value:R});continue}if("("===R){F({type:"paren",value:R}),M("parens");continue}if(")"===R){if(0===N.parens&&!0===r.strictBrackets)throw new SyntaxError(syntaxError("opening","("));let e=P[P.length-1];if(e&&N.parens===e.parens+1){V(P.pop());continue}F({type:"paren",value:R,output:N.parens?")":"\\)"}),D("parens");continue}if("["===R){if(!0!==r.nobracket&&e.slice(N.index+1).includes("]"))M("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(syntaxError("closing","]"));R="\\"+R}F({type:"bracket",value:R});continue}if("]"===R){if(!0===r.nobracket||k&&"bracket"===k.type&&1===k.value.length){F({type:"text",value:R,output:"\\"+R});continue}if(0===N.brackets){if(!0===r.strictBrackets)throw new SyntaxError(syntaxError("opening","["));F({type:"text",value:R,output:"\\"+R});continue}D("brackets");let e=k.value.slice(1);if(!0===k.posix||"^"!==e[0]||e.includes("/")||(R="/"+R),k.value+=R,L({value:R}),!1===r.literalBrackets||utils$1$1.hasRegexChars(e))continue;let t=utils$1$1.escapeRegex(k.value);if(N.output=N.output.slice(0,-k.value.length),!0===r.literalBrackets){N.output+=t,k.value=t;continue}k.value=`(${o}${t}|${k.value})`,N.output+=k.value;continue}if("{"===R&&!0!==r.nobrace){F({type:"brace",value:R,output:"("}),M("braces");continue}if("}"===R){if(!0===r.nobrace||0===N.braces){F({type:"text",value:R,output:"\\"+R});continue}let e=")";if(!0===N.dots){let t=a.slice(),s=[];for(let e=t.length-1;e>=0&&(a.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&s.unshift(t[e].value);e=expandRange(s,r),N.backtrack=!0}F({type:"brace",value:R,output:e}),D("braces");continue}if("|"===R){P.length>0&&P[P.length-1].conditions++,F({type:"text",value:R});continue}if(","===R){let e=R;N.braces>0&&"braces"===I[I.length-1]&&(e="|"),F({type:"comma",value:R,output:e});continue}if("/"===R){if("dot"===k.type&&1===N.index){N.start=N.index+1,N.consumed="",N.output="",a.pop(),k=i;continue}F({type:"slash",value:R,output:d});continue}if("."===R){if(N.braces>0&&"dot"===k.type){"."===k.value&&(k.output=u),k.type="dots",k.output+=R,k.value+=R,N.dots=!0;continue}F({type:"dot",value:R,output:u});continue}if("?"===R){if(k&&"paren"===k.type){let e=O(),t=R;if("<"===e&&!utils$1$1.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===k.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(O(2)))&&(t="\\"+R),F({type:"text",value:R,output:t});continue}if(!0!==r.noextglob&&"("===O()&&"?"!==O(2)){B("qmark",R);continue}if(!0!==r.dot&&("slash"===k.type||"bos"===k.type)){F({type:"qmark",value:R,output:x});continue}F({type:"qmark",value:R,output:_});continue}if("!"===R){if(!0!==r.noextglob&&"("===O()&&("?"!==O(2)||!/[!=<:]/.test(O(3)))){B("negate",R);continue}if(!0!==r.nonegate&&0===N.index){negate(N);continue}}if("+"===R){if(!0!==r.noextglob&&"("===O()&&"?"!==O(2)){B("plus",R);continue}if(k&&("bracket"===k.type||"paren"===k.type||"brace"===k.type)){let e=!0===k.extglob?"\\"+R:R;F({type:"plus",value:R,output:e});continue}if(N.parens>0&&!1!==r.regex){F({type:"plus",value:R});continue}F({type:"plus",value:p});continue}if("@"===R){if(!0!==r.noextglob&&"("===O()&&"?"!==O(2)){F({type:"at",value:R,output:""});continue}F({type:"text",value:R});continue}if("*"!==R){"$"!==R&&"^"!==R||(R="\\"+R);let t=REGEX_NON_SPECIAL_CHAR.exec(e.slice(N.index+1));t&&(R+=t[0],N.index+=t[0].length),F({type:"text",value:R});continue}if(k&&("globstar"===k.type||!0===k.star)){k.type="star",k.star=!0,k.value+=R,k.output=A,N.backtrack=!0,N.consumed+=R;continue}if(!0!==r.noextglob&&"("===O()&&"?"!==O(2)){B("star",R);continue}if("star"===k.type){if(!0===r.noglobstar){N.consumed+=R;continue}let t=k.prev,s=t.prev,n="slash"===t.type||"bos"===t.type,i=s&&("star"===s.type||"globstar"===s.type);if(!0===r.bash&&(!n||!w()&&"/"!==O())){F({type:"star",value:R,output:""});continue}let a=N.braces>0&&("comma"===t.type||"brace"===t.type),o=P.length&&("pipe"===t.type||"paren"===t.type);if(!n&&"paren"!==t.type&&!a&&!o){F({type:"star",value:R,output:""});continue}for(;"/**"===e.slice(N.index+1,N.index+4);){let t=e[N.index+4];if(t&&"/"!==t)break;N.consumed+="/**",N.index+=3}if("bos"===t.type&&w()){k.type="globstar",k.value+=R,k.output=v(r),N.output=k.output,N.consumed+=R;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!i&&w()){N.output=N.output.slice(0,-(t.output+k.output).length),t.output="(?:"+t.output,k.type="globstar",k.output=v(r)+"|$)",k.value+=R,N.output+=t.output+k.output,N.consumed+=R;continue}let l=O();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===l){let e=void 0!==O(2)?"|$":"";N.output=N.output.slice(0,-(t.output+k.output).length),t.output="(?:"+t.output,k.type="globstar",k.output=`${v(r)}${d}|${d}${e})`,k.value+=R,N.output+=t.output+k.output,N.consumed+=R+T(),F({type:"slash",value:R,output:""});continue}if("bos"===t.type&&"/"===l){k.type="globstar",k.value+=R,k.output=`(?:^|${d}|${v(r)}${d})`,N.output=k.output,N.consumed+=R+T(),F({type:"slash",value:R,output:""});continue}N.output=N.output.slice(0,-k.output.length),k.type="globstar",k.output=v(r),k.value+=R,N.output+=k.output,N.consumed+=R;continue}let t={type:"star",value:R,output:A};!0!==r.bash?!k||"bracket"!==k.type&&"paren"!==k.type||!0!==r.regex?(N.index!==N.start&&"slash"!==k.type&&"dot"!==k.type||("dot"===k.type?(N.output+=E,k.output+=E):!0===r.dot?(N.output+=y,k.output+=y):(N.output+=C,k.output+=C),"*"!==O()&&(N.output+=f,k.output+=f)),F(t)):(t.output=R,F(t)):(t.output=".*?","bos"!==k.type&&"slash"!==k.type||(t.output=C+t.output),F(t))}for(;N.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(syntaxError("closing","]"));N.output=utils$1$1.escapeLast(N.output,"["),D("brackets")}for(;N.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(syntaxError("closing",")"));N.output=utils$1$1.escapeLast(N.output,"("),D("parens")}for(;N.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(syntaxError("closing","}"));N.output=utils$1$1.escapeLast(N.output,"{"),D("braces")}if(!0===r.strictSlashes||"star"!==k.type&&"bracket"!==k.type||F({type:"maybe_slash",value:"",output:`${d}?`}),!0===N.backtrack){N.output="";for(let e of N.tokens)N.output+=null!=e.output?e.output:e.value,e.suffix&&(N.output+=e.suffix)}return N};parse$1$1.fastpaths=(e,t)=>{let r=Object.assign({},t),s="number"==typeof r.maxLength?Math.min(MAX_LENGTH$1,r.maxLength):MAX_LENGTH$1,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);e=REPLACEMENTS[e]||e;let i=utils$1$1.isWindows(t);const{DOT_LITERAL:a,SLASH_LITERAL:o,ONE_CHAR:l,DOTS_SLASH:c,NO_DOT:h,NO_DOTS:u,NO_DOTS_SLASH:p,STAR:d,START_ANCHOR:f}=constants$1$1.globChars(i);let m=r.capture?"":"?:",g=!0===r.bash?".*?":d,E=r.dot?u:h,y=r.dot?p:h;r.capture&&(g=`(${g})`);const _=e=>`(${m}(?:(?!${f}${e.dot?c:a}).)*?)`,x=e=>{switch(e){case"*":return`${E}${l}${g}`;case".*":return`${a}${l}${g}`;case"*.*":return`${E}${g}${a}${l}${g}`;case"*/*":return`${E}${g}${o}${l}${y}${g}`;case"**":return E+_(r);case"**/*":return`(?:${E}${_(r)}${o})?${y}${l}${g}`;case"**/*.*":return`(?:${E}${_(r)}${o})?${y}${g}${a}${l}${g}`;case"**/.*":return`(?:${E}${_(r)}${o})?${a}${l}${g}`;default:{let t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;let r=x(t[1]);if(!r)return;return r+a+t[2]}}};let b=x(e);return b&&!0!==r.strictSlashes&&(b+=`${o}?`),b};var parse_1$1=parse$1$1;const picomatch=(e,t,r=!1)=>{if(Array.isArray(e)){let s=e.map(e=>picomatch(e,t,r));return e=>{for(let t of s){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},n=utils$1$1.isWindows(t),i=picomatch.makeRe(e,t,!1,!0),a=i.state;delete i.state;let o=()=>!1;if(s.ignore){let e=Object.assign({},t,{ignore:null,onMatch:null,onResult:null});o=picomatch(s.ignore,e,r)}const l=(r,l=!1)=>{let{isMatch:c,match:h,output:u}=picomatch.test(r,i,t,{glob:e,posix:n}),p={glob:e,state:a,regex:i,posix:n,input:r,output:u,match:h,isMatch:c};return"function"==typeof s.onResult&&s.onResult(p),!1===c?(p.isMatch=!1,!!l&&p):o(r)?("function"==typeof s.onIgnore&&s.onIgnore(p),p.isMatch=!1,!!l&&p):("function"==typeof s.onMatch&&s.onMatch(p),!l||p)};return r&&(l.state=a),l};picomatch.test=(e,t,r,{glob:s,posix:n}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let i=r||{},a=i.format||(n?utils$1$1.toPosixSlashes:null),o=e===s,l=o&&a?a(e):e;return!1===o&&(o=(l=a?a(e):e)===s),!1!==o&&!0!==i.capture||(o=!0===i.matchBase||!0===i.basename?picomatch.matchBase(e,t,r,n):t.exec(l)),{isMatch:!!o,match:o,output:l}},picomatch.matchBase=(e,t,r,s=utils$1$1.isWindows(r))=>{return(t instanceof RegExp?t:picomatch.makeRe(t,r)).test(path$2__default.basename(e))},picomatch.isMatch=(e,t,r)=>picomatch(t,r)(e),picomatch.parse=(e,t)=>parse_1$1(e,t),picomatch.scan=(e,t)=>scan(e,t),picomatch.makeRe=(e,t,r=!1,s=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let n,i=t||{},a=i.contains?"":"^",o=i.contains?"":"$",l={negated:!1,fastpaths:!0},c="";if(e.startsWith("./")&&(e=e.slice(2),c=l.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(n=parse_1$1.fastpaths(e,t)),void 0===n&&((l=picomatch.parse(e,t)).prefix=c+(l.prefix||""),n=l.output),!0===r)return n;let h=`${a}(?:${n})${o}`;l&&!0===l.negated&&(h=`^(?!${h}).*$`);let u=picomatch.toRegex(h,t);return!0===s&&(u.state=l),u},picomatch.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},picomatch.constants=constants$1$1;var picomatch_1=picomatch,picomatch$1=picomatch_1;const isEmptyString=e=>"string"==typeof e&&(""===e||"./"===e),micromatch=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let s=new Set,n=new Set,i=new Set,a=0,o=e=>{i.add(e.output),r&&r.onResult&&r.onResult(e)};for(let i=0;i<t.length;i++){let l=picomatch$1(String(t[i]),Object.assign({},r,{onResult:o}),!0),c=l.state.negated||l.state.negatedExtglob;c&&a++;for(let t of e){let e=l(t,!0);(c?!e.isMatch:e.isMatch)&&(c?s.add(e.output):(s.delete(e.output),n.add(e.output)))}}let l=(a===t.length?[...i]:[...n]).filter(e=>!s.has(e));if(r&&0===l.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map(e=>e.replace(/\\/g,"")):t}return l};micromatch.match=micromatch,micromatch.matcher=(e,t)=>picomatch$1(e,t),micromatch.any=micromatch.isMatch=(e,t,r)=>picomatch$1(t,r)(e),micromatch.not=(e,t,r={})=>{t=[].concat(t).map(String);let s=new Set,n=[],i=micromatch(e,t,Object.assign({},r,{onResult:e=>{r.onResult&&r.onResult(e),n.push(e.output)}}));for(let e of n)i.includes(e)||s.add(e);return[...s]},micromatch.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${util$1.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>micromatch.contains(e,t,r));if("string"==typeof t){if(isEmptyString(e)||isEmptyString(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return micromatch.isMatch(e,t,Object.assign({},r,{contains:!0}))},micromatch.matchKeys=(e,t,r)=>{if(!utils$1$1.isObject(e))throw new TypeError("Expected the first argument to be an object");let s=micromatch(Object.keys(e),t,r),n={};for(let t of s)n[t]=e[t];return n},micromatch.some=(e,t,r)=>{let s=[].concat(e);for(let e of[].concat(t)){let t=picomatch$1(String(e),r);if(s.some(e=>t(e)))return!0}return!1},micromatch.every=(e,t,r)=>{let s=[].concat(e);for(let e of[].concat(t)){let t=picomatch$1(String(e),r);if(!s.every(e=>t(e)))return!1}return!0},micromatch.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${util$1.inspect(e)}"`);return[].concat(t).every(t=>picomatch$1(t,r)(e))},micromatch.capture=(e,t,r)=>{let s=utils$1$1.isWindows(r),n=picomatch$1.makeRe(String(e),Object.assign({},r,{capture:!0})).exec(s?utils$1$1.toPosixSlashes(t):t);if(n)return n.slice(1).map(e=>void 0===e?"":e)},micromatch.makeRe=(...e)=>picomatch$1.makeRe(...e),micromatch.scan=(...e)=>picomatch$1.scan(...e),micromatch.parse=(e,t)=>{let r=[];for(let s of[].concat(e||[]))for(let e of braces_1(String(s),t))r.push(picomatch$1.parse(e,t));return r},micromatch.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:braces_1(e,t)},micromatch.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return micromatch.braces(e,Object.assign({},t,{expand:!0}))};var micromatch_1=micromatch;function ensureArray$1(e){return Array.isArray(e)?e:null==e?[]:[e]}function getMatcherString(e,t){return!1===t?e:path$2.resolve(..."string"==typeof t?[t,e]:[e])}const createFilter=function(e,t,r){const s=r&&r.resolve,n=e=>e instanceof RegExp?e:{test:micromatch_1.matcher(getMatcherString(e,s).split(path$2.sep).join("/"),{dot:!0})},i=ensureArray$1(e).map(n),a=ensureArray$1(t).map(n);return function(e){if("string"!=typeof e)return!1;if(/\0/.test(e))return!1;e=e.split(path$2.sep).join("/");for(let t=0;t<a.length;++t){if(a[t].test(e))return!1}for(let t=0;t<i.length;++t){if(i[t].test(e))return!0}return!i.length}},reservedWords$2="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public",builtins$2="arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl",forbiddenIdentifiers=new Set(`${reservedWords$2} ${builtins$2}`.split(" "));forbiddenIdentifiers.add("");const makeLegalIdentifier=function(e){return e=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase()).replace(/[^$_a-zA-Z0-9]/g,"_"),(/\d/.test(e[0])||forbiddenIdentifiers.has(e))&&(e=`_${e}`),e||"_"};function stringify$2(e){return(JSON.stringify(e)||"undefined").replace(/[\u2028\u2029]/g,e=>`\\u${("000"+e.charCodeAt(0).toString(16)).slice(-4)}`)}function serializeArray(e,t,r){let s="[";const n=t?"\n"+r+t:"";for(let i=0;i<e.length;i++){s+=`${i>0?",":""}${n}${serialize(e[i],t,r+t)}`}return s+`${t?"\n"+r:""}]`}function serializeObject(e,t,r){let s="{";const n=t?"\n"+r+t:"",i=Object.keys(e);for(let a=0;a<i.length;a++){const o=i[a];s+=`${a>0?",":""}${n}${makeLegalIdentifier(o)===o?o:stringify$2(o)}:${t?" ":""}${serialize(e[o],t,r+t)}`}return s+`${t?"\n"+r:""}}`}function serialize(e,t,r){return e===1/0?"Infinity":e===-1/0?"-Infinity":0===e&&1/e==-1/0?"-0":e instanceof Date?"new Date("+e.getTime()+")":e instanceof RegExp?e.toString():e!=e?"NaN":Array.isArray(e)?serializeArray(e,t,r):null===e?"null":"object"==typeof e?serializeObject(e,t,r):stringify$2(e)}const dataToEsm=function(e,t={}){const r=t.compact?"":"indent"in t?t.indent:"\t",s=t.compact?"":" ",n=t.compact?"":"\n",i=t.preferConst?"const":"var";if(!1===t.namedExports||"object"!=typeof e||Array.isArray(e)||e instanceof Date||e instanceof RegExp||null===e){const n=serialize(e,t.compact?null:r,"");return`export default${s||(/^[{[\-\/]/.test(n)?"":" ")}${n};`}let a="";const o=[],l=Object.keys(e);for(let c=0;c<l.length;c++){const h=l[c];h===makeLegalIdentifier(h)?(t.objectShorthand?o.push(h):o.push(`${h}:${s}${h}`),a+=`export ${i} ${h}${s}=${s}${serialize(e[h],t.compact?null:r,"")};${n}`):o.push(`${stringify$2(h)}:${s}${serialize(e[h],t.compact?null:r,"")}`)}return a+`export default${s}{${n}${r}${o.join(`,${n}${r}`)}${n}};${n}`};var chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encode$1(e){for(var t=0,r=0,s=0,n=0,i="",a=0;a<e.length;a++){var o=e[a];if(a>0&&(i+=";"),0!==o.length){for(var l=0,c=[],h=0,u=o;h<u.length;h++){var p=u[h],d=encodeInteger$1(p[0]-l);l=p[0],p.length>1&&(d+=encodeInteger$1(p[1]-t)+encodeInteger$1(p[2]-r)+encodeInteger$1(p[3]-s),t=p[1],r=p[2],s=p[3]),5===p.length&&(d+=encodeInteger$1(p[4]-n),n=p[4]),c.push(d)}i+=c.join(",")}}return i}function encodeInteger$1(e){var t="";e=e<0?-e<<1|1:e<<1;do{var r=31&e;(e>>>=5)>0&&(r|=32),t+=chars$2[r]}while(e>0);return t}var Chunk$2=function(e,t,r){this.start=e,this.end=t,this.original=r,this.intro="",this.outro="",this.content=r,this.storeName=!1,this.edited=!1,Object.defineProperties(this,{previous:{writable:!0,value:null},next:{writable:!0,value:null}})};Chunk$2.prototype.appendLeft=function(e){this.outro+=e},Chunk$2.prototype.appendRight=function(e){this.intro=this.intro+e},Chunk$2.prototype.clone=function(){var e=new Chunk$2(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e},Chunk$2.prototype.contains=function(e){return this.start<e&&e<this.end},Chunk$2.prototype.eachNext=function(e){for(var t=this;t;)e(t),t=t.next},Chunk$2.prototype.eachPrevious=function(e){for(var t=this;t;)e(t),t=t.previous},Chunk$2.prototype.edit=function(e,t,r){return this.content=e,r||(this.intro="",this.outro=""),this.storeName=t,this.edited=!0,this},Chunk$2.prototype.prependLeft=function(e){this.outro=e+this.outro},Chunk$2.prototype.prependRight=function(e){this.intro=e+this.intro},Chunk$2.prototype.split=function(e){var t=e-this.start,r=this.original.slice(0,t),s=this.original.slice(t);this.original=r;var n=new Chunk$2(e,this.end,s);return n.outro=this.outro,this.outro="",this.end=e,this.edited?(n.edit("",!1),this.content=""):this.content=r,n.next=this.next,n.next&&(n.next.previous=n),n.previous=this,this.next=n,n},Chunk$2.prototype.toString=function(){return this.intro+this.content+this.outro},Chunk$2.prototype.trimEnd=function(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var t=this.content.replace(e,"");return t.length?(t!==this.content&&this.split(this.start+t.length).edit("",void 0,!0),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),!!this.intro.length||void 0)},Chunk$2.prototype.trimStart=function(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var t=this.content.replace(e,"");return t.length?(t!==this.content&&(this.split(this.end-t.length),this.edit("",void 0,!0)),!0):(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),!!this.outro.length||void 0)};var btoa$1=function(){throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")};"undefined"!=typeof window&&"function"==typeof window.btoa?btoa$1=function(e){return window.btoa(unescape(encodeURIComponent(e)))}:"function"==typeof Buffer&&(btoa$1=function(e){return Buffer.from(e,"utf-8").toString("base64")});var SourceMap$1=function(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=encode$1(e.mappings)};function guessIndent$1(e){var t=e.split("\n"),r=t.filter((function(e){return/^\t+/.test(e)})),s=t.filter((function(e){return/^ {2,}/.test(e)}));if(0===r.length&&0===s.length)return null;if(r.length>=s.length)return"\t";var n=s.reduce((function(e,t){var r=/^ +/.exec(t)[0].length;return Math.min(r,e)}),1/0);return new Array(n+1).join(" ")}function getRelativePath$1(e,t){var r=e.split(/[/\\]/),s=t.split(/[/\\]/);for(r.pop();r[0]===s[0];)r.shift(),s.shift();if(r.length)for(var n=r.length;n--;)r[n]="..";return r.concat(s).join("/")}SourceMap$1.prototype.toString=function(){return JSON.stringify(this)},SourceMap$1.prototype.toUrl=function(){return"data:application/json;charset=utf-8;base64,"+btoa$1(this.toString())};var toString$3=Object.prototype.toString;function isObject$3(e){return"[object Object]"===toString$3.call(e)}function getLocator$2(e){for(var t=e.split("\n"),r=[],s=0,n=0;s<t.length;s++)r.push(n),n+=t[s].length+1;return function(e){for(var t=0,s=r.length;t<s;){var n=t+s>>1;e<r[n]?s=n:t=n+1}var i=t-1;return{line:i,column:e-r[i]}}}var Mappings$1=function(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null};Mappings$1.prototype.addEdit=function(e,t,r,s){if(t.length){var n=[this.generatedCodeColumn,e,r.line,r.column];s>=0&&n.push(s),this.rawSegments.push(n)}else this.pending&&this.rawSegments.push(this.pending);this.advance(t),this.pending=null},Mappings$1.prototype.addUneditedChunk=function(e,t,r,s,n){for(var i=t.start,a=!0;i<t.end;)(this.hires||a||n[i])&&this.rawSegments.push([this.generatedCodeColumn,e,s.line,s.column]),"\n"===r[i]?(s.line+=1,s.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0):(s.column+=1,this.generatedCodeColumn+=1),i+=1,a=!1;this.pending=[this.generatedCodeColumn,e,s.line,s.column]},Mappings$1.prototype.advance=function(e){if(e){var t=e.split("\n");if(t.length>1){for(var r=0;r<t.length-1;r++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=t[t.length-1].length}};var n$1="\n",warned$1={insertLeft:!1,insertRight:!1,storeName:!1},MagicString$1=function(e,t){void 0===t&&(t={});var r=new Chunk$2(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:r},lastChunk:{writable:!0,value:r},lastSearchedChunk:{writable:!0,value:r},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:t.filename},indentExclusionRanges:{writable:!0,value:t.indentExclusionRanges},sourcemapLocations:{writable:!0,value:{}},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:guessIndent$1(e)}}),this.byStart[0]=r,this.byEnd[e.length]=r};function isReference$1(e,t){if("MemberExpression"===e.type)return!e.computed&&isReference$1(e.object,e);if("Identifier"===e.type){if(!t)return!0;switch(t.type){case"MemberExpression":return t.computed||e===t.object;case"MethodDefinition":return t.computed;case"Property":return t.computed||e===t.value;case"ExportSpecifier":case"ImportSpecifier":return e===t.local;case"LabeledStatement":case"BreakStatement":case"ContinueStatement":return!1;default:return!0}}return!1}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var r=[],s=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(s=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);s=!0);}catch(e){n=!0,i=e}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}MagicString$1.prototype.addSourcemapLocation=function(e){this.sourcemapLocations[e]=!0},MagicString$1.prototype.append=function(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.outro+=e,this},MagicString$1.prototype.appendLeft=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byEnd[e];return r?r.appendLeft(t):this.intro+=t,this},MagicString$1.prototype.appendRight=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byStart[e];return r?r.appendRight(t):this.outro+=t,this},MagicString$1.prototype.clone=function(){for(var e=new MagicString$1(this.original,{filename:this.filename}),t=this.firstChunk,r=e.firstChunk=e.lastSearchedChunk=t.clone();t;){e.byStart[r.start]=r,e.byEnd[r.end]=r;var s=t.next,n=s&&s.clone();n&&(r.next=n,n.previous=r,r=n),t=s}return e.lastChunk=r,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),Object.keys(this.sourcemapLocations).forEach((function(t){e.sourcemapLocations[t]=!0})),e.intro=this.intro,e.outro=this.outro,e},MagicString$1.prototype.generateDecodedMap=function(e){var t=this;e=e||{};var r=Object.keys(this.storedNames),s=new Mappings$1(e.hires),n=getLocator$2(this.original);return this.intro&&s.advance(this.intro),this.firstChunk.eachNext((function(e){var i=n(e.start);e.intro.length&&s.advance(e.intro),e.edited?s.addEdit(0,e.content,i,e.storeName?r.indexOf(e.original):-1):s.addUneditedChunk(0,e,t.original,i,t.sourcemapLocations),e.outro.length&&s.advance(e.outro)})),{file:e.file?e.file.split(/[/\\]/).pop():null,sources:[e.source?getRelativePath$1(e.file||"",e.source):null],sourcesContent:e.includeContent?[this.original]:[null],names:r,mappings:s.raw}},MagicString$1.prototype.generateMap=function(e){return new SourceMap$1(this.generateDecodedMap(e))},MagicString$1.prototype.getIndentString=function(){return null===this.indentStr?"\t":this.indentStr},MagicString$1.prototype.indent=function(e,t){var r=/^[^\r\n]/gm;if(isObject$3(e)&&(t=e,e=void 0),""===(e=void 0!==e?e:this.indentStr||"\t"))return this;var s={};(t=t||{}).exclude&&("number"==typeof t.exclude[0]?[t.exclude]:t.exclude).forEach((function(e){for(var t=e[0];t<e[1];t+=1)s[t]=!0}));var n=!1!==t.indentStart,i=function(t){return n?""+e+t:(n=!0,t)};this.intro=this.intro.replace(r,i);for(var a=0,o=this.firstChunk;o;){var l=o.end;if(o.edited)s[a]||(o.content=o.content.replace(r,i),o.content.length&&(n="\n"===o.content[o.content.length-1]));else for(a=o.start;a<l;){if(!s[a]){var c=this.original[a];"\n"===c?n=!0:"\r"!==c&&n&&(n=!1,a===o.start?o.prependRight(e):(this._splitChunk(o,a),(o=o.next).prependRight(e)))}a+=1}a=o.end,o=o.next}return this.outro=this.outro.replace(r,i),this},MagicString$1.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")},MagicString$1.prototype.insertLeft=function(e,t){return warned$1.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),warned$1.insertLeft=!0),this.appendLeft(e,t)},MagicString$1.prototype.insertRight=function(e,t){return warned$1.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),warned$1.insertRight=!0),this.prependRight(e,t)},MagicString$1.prototype.move=function(e,t,r){if(r>=e&&r<=t)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(t),this._split(r);var s=this.byStart[e],n=this.byEnd[t],i=s.previous,a=n.next,o=this.byStart[r];if(!o&&n===this.lastChunk)return this;var l=o?o.previous:this.lastChunk;return i&&(i.next=a),a&&(a.previous=i),l&&(l.next=s),o&&(o.previous=n),s.previous||(this.firstChunk=n.next),n.next||(this.lastChunk=s.previous,this.lastChunk.next=null),s.previous=l,n.next=o||null,l||(this.firstChunk=s),o||(this.lastChunk=n),this},MagicString$1.prototype.overwrite=function(e,t,r,s){if("string"!=typeof r)throw new TypeError("replacement content must be a string");for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(t>this.original.length)throw new Error("end is out of bounds");if(e===t)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(e),this._split(t),!0===s&&(warned$1.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),warned$1.storeName=!0),s={storeName:!0});var n=void 0!==s&&s.storeName,i=void 0!==s&&s.contentOnly;if(n){var a=this.original.slice(e,t);this.storedNames[a]=!0}var o=this.byStart[e],l=this.byEnd[t];if(o){if(t>o.end&&o.next!==this.byStart[o.end])throw new Error("Cannot overwrite across a split point");if(o.edit(r,n,i),o!==l){for(var c=o.next;c!==l;)c.edit("",!1),c=c.next;c.edit("",!1)}}else{var h=new Chunk$2(e,t,"").edit(r,n);l.next=h,h.previous=l}return this},MagicString$1.prototype.prepend=function(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this},MagicString$1.prototype.prependLeft=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byEnd[e];return r?r.prependLeft(t):this.intro=t+this.intro,this},MagicString$1.prototype.prependRight=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var r=this.byStart[e];return r?r.prependRight(t):this.outro=t+this.outro,this},MagicString$1.prototype.remove=function(e,t){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(e===t)return this;if(e<0||t>this.original.length)throw new Error("Character is out of bounds");if(e>t)throw new Error("end must be greater than start");this._split(e),this._split(t);for(var r=this.byStart[e];r;)r.intro="",r.outro="",r.edit(""),r=t>r.end?this.byStart[r.end]:null;return this},MagicString$1.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""},MagicString$1.prototype.lastLine=function(){var e=this.outro.lastIndexOf(n$1);if(-1!==e)return this.outro.substr(e+1);var t=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(-1!==(e=r.outro.lastIndexOf(n$1)))return r.outro.substr(e+1)+t;t=r.outro+t}if(r.content.length>0){if(-1!==(e=r.content.lastIndexOf(n$1)))return r.content.substr(e+1)+t;t=r.content+t}if(r.intro.length>0){if(-1!==(e=r.intro.lastIndexOf(n$1)))return r.intro.substr(e+1)+t;t=r.intro+t}}while(r=r.previous);return-1!==(e=this.intro.lastIndexOf(n$1))?this.intro.substr(e+1)+t:this.intro+t},MagicString$1.prototype.slice=function(e,t){for(void 0===e&&(e=0),void 0===t&&(t=this.original.length);e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;for(var r="",s=this.firstChunk;s&&(s.start>e||s.end<=e);){if(s.start<t&&s.end>=t)return r;s=s.next}if(s&&s.edited&&s.start!==e)throw new Error("Cannot use replaced character "+e+" as slice start anchor.");for(var n=s;s;){!s.intro||n===s&&s.start!==e||(r+=s.intro);var i=s.start<t&&s.end>=t;if(i&&s.edited&&s.end!==t)throw new Error("Cannot use replaced character "+t+" as slice end anchor.");var a=n===s?e-s.start:0,o=i?s.content.length+t-s.end:s.content.length;if(r+=s.content.slice(a,o),!s.outro||i&&s.end!==t||(r+=s.outro),i)break;s=s.next}return r},MagicString$1.prototype.snip=function(e,t){var r=this.clone();return r.remove(0,e),r.remove(t,r.original.length),r},MagicString$1.prototype._split=function(e){if(!this.byStart[e]&&!this.byEnd[e])for(var t=this.lastSearchedChunk,r=e>t.end;t;){if(t.contains(e))return this._splitChunk(t,e);t=r?this.byStart[t.end]:this.byEnd[t.start]}},MagicString$1.prototype._splitChunk=function(e,t){if(e.edited&&e.content.length){var r=getLocator$2(this.original)(t);throw new Error("Cannot split a chunk that has already been edited ("+r.line+":"+r.column+' – "'+e.original+'")')}var s=e.split(t);return this.byEnd[t]=e,this.byStart[t]=s,this.byEnd[s.end]=s,e===this.lastChunk&&(this.lastChunk=s),this.lastSearchedChunk=e,!0},MagicString$1.prototype.toString=function(){for(var e=this.intro,t=this.firstChunk;t;)e+=t.toString(),t=t.next;return e+this.outro},MagicString$1.prototype.isEmpty=function(){var e=this.firstChunk;do{if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1}while(e=e.next);return!0},MagicString$1.prototype.length=function(){var e=this.firstChunk,t=0;do{t+=e.intro.length+e.content.length+e.outro.length}while(e=e.next);return t},MagicString$1.prototype.trimLines=function(){return this.trim("[\\r\\n]")},MagicString$1.prototype.trim=function(e){return this.trimStart(e).trimEnd(e)},MagicString$1.prototype.trimEndAborted=function(e){var t=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;var r=this.lastChunk;do{var s=r.end,n=r.trimEnd(t);if(r.end!==s&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),n)return!0;r=r.previous}while(r);return!1},MagicString$1.prototype.trimEnd=function(e){return this.trimEndAborted(e),this},MagicString$1.prototype.trimStartAborted=function(e){var t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;var r=this.firstChunk;do{var s=r.end,n=r.trimStart(t);if(r.end!==s&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),n)return!0;r=r.next}while(r);return!1},MagicString$1.prototype.trimStart=function(e){return this.trimStartAborted(e),this};var peerDependencies={rollup:">=1.12.0"};const PROXY_SUFFIX="?commonjs-proxy",getProxyId=e=>`\0${e}${PROXY_SUFFIX}`,getIdFromProxyId=e=>e.slice(1,-PROXY_SUFFIX.length),EXTERNAL_SUFFIX="?commonjs-external",getExternalProxyId=e=>`\0${e}${EXTERNAL_SUFFIX}`,getIdFromExternalProxyId=e=>e.slice(1,-EXTERNAL_SUFFIX.length),HELPERS_ID="\0commonjsHelpers.js",HELPERS="\nexport var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nexport function commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');\n}\n\nexport function unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nexport function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nexport function getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}",isCjsPromises=new Map;function getIsCjsPromise(e){let t=isCjsPromises.get(e);if(t)return t.promise;const r=new Promise(r=>{t={resolve:r,promise:void 0},isCjsPromises.set(e,t)});return t.promise=r,r}function setIsCjsPromise(e,t){const r=isCjsPromises.get(e);r?r.resolve&&(r.resolve(t),r.resolve=void 0):isCjsPromises.set(e,{promise:Promise.resolve(t),resolve:void 0})}function getCandidatesForExtension(e,t){return[e+t,e+`${path$2.sep}index${t}`]}function getCandidates(e,t){return t.reduce((t,r)=>t.concat(getCandidatesForExtension(e,r)),[e])}function getResolveId(e){return function(t,r){const s=t.endsWith(PROXY_SUFFIX);if(s)t=getIdFromProxyId(t);else if(t.startsWith("\0"))return t===HELPERS_ID?t:null;return r&&r.endsWith(PROXY_SUFFIX)&&(r=getIdFromProxyId(r)),this.resolve(t,r,{skipSelf:!0}).then(n=>(n||(n=function(t,r){if("."!==t[0]||!r)return;const s=getCandidates(path$2.resolve(path$2.dirname(r),t),e);for(let e=0;e<s.length;e+=1)try{if(fs$2.statSync(s[e]).isFile())return{id:s[e]}}catch(e){}}(t,r)),s?n?(n.id=(n.external?getExternalProxyId:getProxyId)(n.id),n.external=!1,n):{id:getExternalProxyId(t),external:!1}:n))}}function flatten(e){const t=[];for(;"MemberExpression"===e.type;){if(e.computed)return null;t.unshift(e.property.name),e=e.object}if("Identifier"!==e.type)return null;const r=e.name;return t.unshift(r),{name:r,keypath:t.join(".")}}function isTruthy(e){return"Literal"===e.type?!!e.value:"ParenthesizedExpression"===e.type?isTruthy(e.expression):e.operator in operators?operators[e.operator](e):void 0}function isFalsy(e){return not(isTruthy(e))}function not(e){return void 0===e?e:!e}function equals(e,t,r){if(e.type===t.type)return"Literal"===e.type?r?e.value===t.value:e.value==t.value:void 0}const operators={"==":e=>equals(e.left,e.right,!1),"!=":e=>not(operators["=="](e)),"===":e=>equals(e.left,e.right,!0),"!==":e=>not(operators["==="](e)),"!":e=>isFalsy(e.argument),"&&":e=>isTruthy(e.left)&&isTruthy(e.right),"||":e=>isTruthy(e.left)||isTruthy(e.right)};function getName(e){const t=makeLegalIdentifier(path$2.basename(e,path$2.extname(e)));if("index"!==t)return t;{const t=path$2.dirname(e).split(path$2.sep);return makeLegalIdentifier(t[t.length-1])}}const reserved="process location abstract arguments boolean break byte case catch char class const continue debugger default delete do double else enum eval export extends false final finally float for from function goto if implements import in instanceof int interface let long native new null package private protected public return short static super switch synchronized this throw throws transient true try typeof var void volatile while with yield".split(" "),blacklist={__esModule:!0};reserved.forEach(e=>blacklist[e]=!0);const exportsPattern=/^(?:module\.)?exports(?:\.([a-zA-Z_$][a-zA-Z_$0-9]*))?$/,firstpassGlobal=/\b(?:require|module|exports|global)\b/,firstpassNoGlobal=/\b(?:require|module|exports)\b/,importExportDeclaration=/^(?:Import|Export(?:Named|Default))Declaration/,functionType=/^(?:FunctionDeclaration|FunctionExpression|ArrowFunctionExpression)$/;function deconflict(e,t,r){let s=1,n=r;for(;e.contains(n)||t.has(n)||n in blacklist;)n=`${r}_${s++}`;return e.declarations[n]=!0,n}function tryParse$1(e,t,r){try{return e(t,{allowReturnOutsideFunction:!0})}catch(e){throw e.message+=` in ${r}`,e}}function hasCjsKeywords(e,t){return(t?firstpassNoGlobal:firstpassGlobal).test(e)}function checkEsModule(e,t,r){const s=tryParse$1(e,t,r);let n=!1;var i=!0,a=!1,o=void 0;try{for(var l,c=s.body[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){const e=l.value;if("ExportDefaultDeclaration"===e.type)return{isEsModule:!0,hasDefaultExport:!0,ast:s};if("ExportNamedDeclaration"===e.type){n=!0;var h=!0,u=!1,p=void 0;try{for(var d,f=e.specifiers[Symbol.iterator]();!(h=(d=f.next()).done);h=!0){if("default"===d.value.exported.name)return{isEsModule:!0,hasDefaultExport:!0,ast:s}}}catch(e){u=!0,p=e}finally{try{h||null==f.return||f.return()}finally{if(u)throw p}}}else importExportDeclaration.test(e.type)&&(n=!0)}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return{isEsModule:n,hasDefaultExport:!1,ast:s}}function transformCommonjs(e,t,r,s,n,i,a,o,l,c){const h=c||tryParse$1(e,t,r),u=new MagicString$1(t),p={},d=[];let f=0,m=attachScopes(h,"scope");const g={module:!1,exports:!1,global:!1,require:!1};let E=0,y=0;const _=new Set,x=deconflict(m,_,"commonjsHelpers"),b={};let S=/__esModule/.test(t);function v(e){if(function(e){if(e&&"CallExpression"===e.type&&"require"===e.callee.name&&!m.contains("require")&&0!==e.arguments.length)return!0}(e)&&!function(e){return e.arguments.length>1||"Literal"!==e.arguments[0].type&&("TemplateLiteral"!==e.arguments[0].type||e.arguments[0].expressions.length>0)}(e)&&!i(e.arguments[0].value))return!0}function C(e,t){const r=function(e){return"Literal"===e.arguments[0].type?e.arguments[0].value:e.arguments[0].quasis[0].value.cooked}(e);if(void 0===p[r]){if(!t)do{t=`require$$${f++}`}while(m.contains(t));d.push(r),p[r]={source:r,name:t,importsDefault:!1}}return p[r]}const A=new Set;if(walk(h,{enter(e){"AssignmentExpression"===e.type&&"MemberExpression"!==e.left.type&&extractAssignedNames$1(e.left).forEach(e=>{A.add(e)})}}),walk(h,{enter(e,t){if(o&&(u.addSourcemapLocation(e.start),u.addSourcemapLocation(e.end)),t&&("IfStatement"===t.type||"ConditionalExpression"===t.type)){if(e===t.consequent&&isFalsy(t.test))return this.skip();if(e===t.alternate&&isTruthy(t.test))return this.skip()}if(e._skip)return this.skip();if(y+=1,e.scope&&(m=e.scope),functionType.test(e.type)&&(E+=1),"ReturnStatement"===e.type&&0===E&&(S=!0),"ThisExpression"===e.type&&0===E)return g.global=!0,void(n||u.overwrite(e.start,e.end,`${x}.commonjsGlobal`,{storeName:!0}));if("UnaryExpression"===e.type&&"typeof"===e.operator){const t=flatten(e.argument);if(!t)return;if(m.contains(t.name))return;"module.exports"!==t.keypath&&"module"!==t.keypath&&"exports"!==t.keypath||u.overwrite(e.start,e.end,"'object'",{storeName:!1})}if("Identifier"===e.type){if(isReference$1(e,t)&&!m.contains(e.name)){if(e.name in g){if("require"===e.name){if(l)return;u.overwrite(e.start,e.end,`${x}.commonjsRequire`,{storeName:!0})}g[e.name]=!0,"global"!==e.name||n||u.overwrite(e.start,e.end,`${x}.commonjsGlobal`,{storeName:!0}),"module"!==e.name&&"exports"!==e.name||(S=!0)}"define"===e.name&&u.overwrite(e.start,e.end,"undefined",{storeName:!0}),_.add(e.name)}return}if("AssignmentExpression"===e.type){if("MemberExpression"!==e.left.type)return;const t=flatten(e.left);if(!t)return;if(m.contains(t.name))return;const r=exportsPattern.exec(t.keypath);if(!r||"exports"===t.keypath)return;return g[t.name]=!0,y>3&&(S=!0),e.left._skip=!0,"module.exports"===t.keypath&&"ObjectExpression"===e.right.type?e.right.properties.forEach(e=>{if(e.computed||"Identifier"!==e.key.type)return;const t=e.key.name;t===makeLegalIdentifier(t)&&(b[t]=!0)}):void(r[1]&&(b[r[1]]=!0))}if("VariableDeclarator"===e.type&&"Identifier"===e.id.type&&v(e.init)){if(m.parent)return;if(A.has(e.id.name))return;const t=C(e.init,e.id.name);t.importsDefault=!0,t.name===e.id.name&&(e._shouldRemove=!0)}if(!v(e))return;const r=C(e);"ExpressionStatement"===t.type?u.remove(t.start,t.end):(r.importsDefault=!0,u.overwrite(e.start,e.end,r.name)),e.callee._skip=!0},leave(e){if(y-=1,e.scope&&(m=m.parent),functionType.test(e.type)&&(E-=1),"VariableDeclaration"===e.type){let t=!1,r=e.declarations[0].start;for(let s=0;s<e.declarations.length;s+=1){const n=e.declarations[s];n._shouldRemove?u.remove(r,n.end):(t||(u.remove(r,n.start),t=!0),r=n.end)}t||u.remove(e.start,e.end)}}}),!d.length&&!g.module&&!g.exports&&!g.require&&(n||!g.global)){if(Object.keys(b).length)throw new Error(`Custom named exports were specified for ${r} but it does not appear to be a CommonJS module`);return null}const $=(S||g.global||g.require?[`import * as ${x} from '${HELPERS_ID}';`]:[]).concat(d.map(e=>`import '${e}';`),d.map(e=>{const t=p[e],r=t.name;return`import ${t.importsDefault?`${r} from `:""}'${getProxyId(e)}';`})).join("\n")+"\n\n",R=[];let N="",P="";const I=deconflict(m,_,getName(r));if(!s){const e={str:`export { ${I} as __moduleExports };`,name:"__moduleExports"};R.push(e)}const k=getName(r);function w(e){const t=deconflict(m,_,k),r=t===k?`export var ${e} = ${I}.${e};`:`var ${t} = ${I}.${e};\nexport { ${t} as ${e} };`;R.push({str:r,name:e})}a&&a.forEach(w);const O=[];let T=!1;if(S){const e=`module${g.exports?", exports":""}`;N=`var ${I} = ${x}.createCommonjsModule(function (${e}) {\n`,P="\n});"}else{const e=[];h.body.forEach(t=>{if("ExpressionStatement"===t.type&&"AssignmentExpression"===t.expression.type){const r=t.expression.left,s=flatten(r);if(!s)return;const n=exportsPattern.exec(s.keypath);if(!n)return;if("module.exports"===s.keypath)T=!0,u.overwrite(r.start,r.end,`var ${I}`);else{const s=n[1],i=deconflict(m,_,s);e.push({name:s,deconflicted:i}),u.overwrite(t.start,r.end,`var ${i}`);const a=s===i?`export { ${s} };`:`export { ${i} as ${s} };`;"default"!==s&&(R.push({str:a,name:s}),delete b[s]),O.push(`${I}.${s} = ${i};`)}}}),T||(P=`\n\nvar ${I} = {\n${e.map(({name:e,deconflicted:t})=>`\t${e}: ${t}`).join(",\n")}\n};`)}Object.keys(b).filter(e=>!blacklist[e]).forEach(w);const L=/__esModule/.test(t)?`export default ${x}.unwrapExports(${I});`:`export default ${I};`,M=R.filter(e=>"default"!==e.name||!T).map(e=>e.str),D="\n\n"+[L].concat(M).concat(T?O:[]).join("\n");return u.trim().prepend($+N).trim().append(P+D),{code:t=u.toString(),map:o?u.generateMap():null}}function commonjs(e={}){const t=e.extensions||[".js"],r=createFilter(e.include,e.exclude),s=e.ignoreGlobal,n={};e.namedExports&&Object.keys(e.namedExports).forEach(t=>{let r,s=t;resolve_2(t)&&(s+="/");try{r=resolve_3(s,{basedir:process.cwd()})}catch(e){r=path$2.resolve(t)}if(n[r]=e.namedExports[t],fs$2.existsSync(r)){const s=fs$2.realpathSync(r);s!==r&&(n[s]=e.namedExports[t])}});const i=new Set,a=new Set,o=!!e.ignore,l="function"==typeof e.ignore?e.ignore:Array.isArray(e.ignore)?t=>e.ignore.includes(t):()=>!1,c=getResolveId(t),h=!1!==e.sourceMap;function u(e,t){{const r=checkEsModule(this.parse,e,t),c=r.isEsModule,u=r.hasDefaultExport,p=r.ast;if(c)return(u?a:i).add(t),null;if(!hasCjsKeywords(e,s))return i.add(t),null;const d=path$2.normalize(t),f=transformCommonjs(this.parse,e,t,this.getModuleInfo(t).isEntry,s,l,n[d],h,o,p);return f||(i.add(t),null)}}return{name:"commonjs",buildStart(){const e=_slicedToArray(this.meta.rollupVersion.split(".").map(Number),2),t=e[0],r=e[1],s=peerDependencies.rollup.slice(2),n=_slicedToArray(s.split(".").map(Number),2),i=n[0],a=n[1];(t<i||t===i&&r<a)&&this.error(`Insufficient Rollup version: "rollup-plugin-commonjs" requires at least rollup@${s} but found rollup@${this.meta.rollupVersion}.`)},resolveId:c,load(e){if(e===HELPERS_ID)return HELPERS;if(e.endsWith(EXTERNAL_SUFFIX)){const t=getIdFromExternalProxyId(e),r=getName(t);return`import ${r} from ${JSON.stringify(t)}; export default ${r};`}if(e.endsWith(PROXY_SUFFIX)){const t=getIdFromProxyId(e),r=getName(t);return getIsCjsPromise(t).then(e=>e?`import { __moduleExports } from ${JSON.stringify(t)}; export default __moduleExports;`:i.has(t)?`import * as ${r} from ${JSON.stringify(t)}; export default ${r};`:a.has(t)?`export {default} from ${JSON.stringify(t)};`:`import * as ${r} from ${JSON.stringify(t)}; import {getCjsExportFromNamespace} from "${HELPERS_ID}"; export default getCjsExportFromNamespace(${r})`)}},transform(e,s){if(!r(s)||-1===t.indexOf(path$2.extname(s)))return setIsCjsPromise(s,null),null;let n;try{n=u.call(this,e,s)}catch(e){n=null,this.error(e,e.loc)}return setIsCjsPromise(s,Boolean(n)),n}}}const{builtinModules:builtinModules}=module$2,blacklist$1=["sys"];var builtinModules_1=(builtinModules||Object.keys(process.binding("natives"))).filter(e=>!/^_|^(internal|v8|node-inspect)\/|\//.test(e)&&!blacklist$1.includes(e)).sort(),ES6ImportExportRegExp=/(?:^\s*|[}{\(\);,\n]\s*)(import\s+['"]|(import|module)\s+[^"'\(\)\n;]+\s+from\s+['"]|export\s+(\*|\{|default|function|var|const|let|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*))/,ES6AliasRegExp=/(?:^\s*|[}{\(\);,\n]\s*)(export\s*\*\s*from\s*(?:'([^']+)'|"([^"]+)"))/,isModule=function(e){return ES6ImportExportRegExp.test(e)||ES6AliasRegExp.test(e)};function _slicedToArray$1(e,t){return _arrayWithHoles$1(e)||_iterableToArrayLimit$1(e,t)||_nonIterableRest$1()}function _arrayWithHoles$1(e){if(Array.isArray(e))return e}function _iterableToArrayLimit$1(e,t){var r=[],s=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(s=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);s=!0);}catch(e){n=!0,i=e}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return r}function _nonIterableRest$1(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var peerDependencies$1={rollup:">=1.11.0"};const builtins$3=new Set(builtinModules_1),ES6_BROWSER_EMPTY="\0node-resolve:empty.js",DEFAULT_EXTS=[".mjs",".js",".json",".node"],existsAsync=e=>new Promise(t=>fs$2__default.exists(e,t)),readFileAsync=e=>new Promise((t,r)=>fs$2__default.readFile(e,(e,s)=>e?r(e):t(s))),realpathAsync=e=>new Promise((t,r)=>fs$2__default.realpath(e,(e,s)=>e?r(e):t(s))),statAsync=e=>new Promise((t,r)=>fs$2__default.stat(e,(e,s)=>e?r(e):t(s))),cache=e=>{const t=new Map,r=(r,s)=>(!1===t.has(r)&&t.set(r,e(r).catch(e=>{throw t.delete(r),e})),t.get(r).then(e=>s(null,e),s));return r.clear=()=>t.clear(),r},ignoreENOENT=e=>{if("ENOENT"===e.code)return!1;throw e},readFileCached=cache(readFileAsync),isDirCached=cache(e=>statAsync(e).then(e=>e.isDirectory(),ignoreENOENT)),isFileCached=cache(e=>statAsync(e).then(e=>e.isFile(),ignoreENOENT));function getMainFields(e){let t;if(e.mainFields){if("module"in e||"main"in e||"jsnext"in e)throw new Error("node-resolve: do not use deprecated 'module', 'main', 'jsnext' options with 'mainFields'");t=e.mainFields}else t=[],[["module","module",!0],["jsnext","jsnext:main",!1],["main","main",!0]].forEach(([r,s,n])=>{r in e?(console.warn(`node-resolve: setting options.${r} is deprecated, please override options.mainFields instead`),e[r]&&t.push(s)):n&&t.push(s)});if(e.browser&&-1===t.indexOf("browser"))return["browser"].concat(t);if(!t.length)throw new Error("Please ensure at least one 'mainFields' value is specified");return t}const alwaysNull=()=>null,resolveIdAsync=(e,t)=>new Promise((r,s)=>resolve(e,t,(e,t)=>e?s(e):r(t)));function resolveImportSpecifiers(e,t){let r=Promise.resolve();for(let s=0;s<e.length;s++)r=r.then(r=>r||resolveIdAsync(e[s],t)),s<e.length-1&&(r=r.catch(e=>{if("MODULE_NOT_FOUND"!==e.code)throw e}));return r}function nodeResolve(e={}){const t=getMainFields(e),r=-1!==t.indexOf("browser"),s=e.dedupe||[],n=!0===e.preferBuiltins||!1===e.preferBuiltins,i=!n||e.preferBuiltins,a=e.customResolveOptions||{},o=e.jail,l=Array.isArray(e.only)?e.only.map(e=>e instanceof RegExp?e:new RegExp("^"+String(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")+"$")):null,c=new Map;if(e.skip)throw new Error("options.skip is no longer supported — you should use the main Rollup `external` option instead");const h=e.extensions||DEFAULT_EXTS,u=new Map,p="function"==typeof s?s:e=>s.includes(e);let d;return{name:"node-resolve",buildStart(e){d=e.preserveSymlinks;const t=_slicedToArray$1(this.meta.rollupVersion.split(".").map(Number),2),r=t[0],s=t[1],n=peerDependencies$1.rollup.slice(2),i=_slicedToArray$1(n.split(".").map(Number),2),a=i[0],o=i[1];(r<a||r===a&&s<o)&&this.error(`Insufficient Rollup version: "rollup-plugin-node-resolve" requires at least rollup@${n} but found rollup@${this.meta.rollupVersion}.`)},generateBundle(){readFileCached.clear(),isFileCached.clear(),isDirCached.clear()},resolveId(s,f){if(s===ES6_BROWSER_EMPTY)return s;if(/\0/.test(s))return null;const m=f?path$2.dirname(f):process.cwd();p(s)&&(s=path$2.join(process.cwd(),"node_modules",s));const g=c.get(f);if(r&&g){const e=path$2.resolve(m,s);if(!1===g[s]||!1===g[e])return ES6_BROWSER_EMPTY;const t=g[s]||g[e]||g[e+".js"]||g[e+".json"];t&&(s=t)}const E=s.split(/[/\\]/);let y=E.shift();if("@"===y[0]&&E.length>0?y+=`/${E.shift()}`:"."===y[0]&&(y=path$2.resolve(m,s)),l&&!l.some(e=>e.test(y)))return null;let _=alwaysNull,x=!0,b=!1;const S={basedir:m,packageFilter(e,s){let n;var i=function(e,s){if(u.has(s))return u.get(s);const n=path$2.dirname(s);let i=!1;for(let r=0;r<t.length;r++){const s=t[r];if("string"==typeof e[s]){e.main=e[s],i=!0;break}}const a={cachedPkg:e,hasModuleSideEffects:alwaysNull,hasPackageEntry:!1!==i||-1!==t.indexOf("main"),packageBrowserField:r&&"object"==typeof e.browser&&Object.keys(e.browser).reduce((t,r)=>{let s=e.browser[r];if(s&&"."===s[0]&&(s=path$2.resolve(n,s)),t[r]=s,"."===r[0]){const e=path$2.resolve(n,r);t[e]=s,path$2.extname(r)||h.reduce((t,s)=>(t[e+s]=t[r],t),t)}return t},{})},o=e.sideEffects;return"boolean"==typeof o?a.hasModuleSideEffects=()=>o:Array.isArray(o)&&(a.hasModuleSideEffects=createFilter(o,null,{resolve:n})),u.set(s,a),a}(e,s);return n=i.cachedPkg,_=i.hasModuleSideEffects,x=i.hasPackageEntry,b=i.packageBrowserField,n},readFile:readFileCached,isFile:isFileCached,isDirectory:isDirCached,extensions:h};void 0!==d&&(S.preserveSymlinks=d);const v=[];void 0!==f||s[0].match(/^\.?\.?\//)||v.push("./"+s);const C=builtins$3.has(s);return!C||i&&n||v.push(s+"/"),v.push(s),resolveImportSpecifiers(v,Object.assign(S,a)).then(e=>{if(e&&b){if(Object.prototype.hasOwnProperty.call(b,e)){if(!b[e])return c.set(e,b),ES6_BROWSER_EMPTY;e=b[e]}c.set(e,b)}return x&&!d&&e?existsAsync(e).then(t=>t?realpathAsync(e):e):e}).then(t=>{if(x){if(builtins$3.has(t)&&i&&n)return null;if(C&&i)return n||this.warn(`preferring built-in module '${s}' over local alternative `+`at '${t}', pass 'preferBuiltins: false' to disable this `+"behavior or 'preferBuiltins: true' to disable this warning"),null;if(o&&0!==t.indexOf(path$2.normalize(o.trim(path$2.sep))))return null}return t&&e.modulesOnly?readFileAsync(t).then(e=>isModule(e)?{id:t,moduleSideEffects:_(t)}:null):{id:t,moduleSideEffects:_(t)}}).catch(()=>null)},load:e=>e===ES6_BROWSER_EMPTY?"export default {};":null}}function escape(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function ensureFunction(e){return"function"==typeof e?e:function(){return e}}function longest(e,t){return t.length-e.length}function getReplacements(e){if(e.values)return Object.assign({},e.values);var t=Object.assign({},e);return delete t.delimiters,delete t.include,delete t.exclude,delete t.sourcemap,delete t.sourceMap,t}function mapToFunctions(e){return Object.keys(e).reduce((function(t,r){return t[r]=ensureFunction(e[r]),t}),{})}function replace(e){void 0===e&&(e={});var t=createFilter(e.include,e.exclude),r=e.delimiters,s=mapToFunctions(getReplacements(e)),n=Object.keys(s).sort(longest).map(escape),i=r?new RegExp(escape(r[0])+"("+n.join("|")+")"+escape(r[1]),"g"):new RegExp("\\b("+n.join("|")+")\\b","g");return{name:"replace",transform:function(r,n){if(!t(n))return null;for(var a,o,l,c,h=new MagicString$1(r),u=!1;a=i.exec(r);)u=!0,l=(o=a.index)+a[0].length,c=String(s[a[1]](n)),h.overwrite(o,l,c);if(!u)return null;var p={code:h.toString()};return!1!==e.sourceMap&&!1!==e.sourcemap&&(p.map=h.generateMap({hires:!0})),p}}}function json(e){void 0===e&&(e={});var t=createFilter(e.include,e.exclude),r="indent"in e?e.indent:"\t";return{name:"json",transform:function(s,n){return".json"===n.slice(-5)&&t(n)?{code:dataToEsm(JSON.parse(s),{preferConst:e.preferConst,compact:e.compact,namedExports:e.namedExports,indent:r}),map:{mappings:""}}:null}}}const NodeRollup={rollup:rollup,plugins:{commonjs:commonjs,nodeResolve:nodeResolve,replace:replace,json:json}};class NodeStorage{constructor(e){this.fs=e;const t=`stencil-storage-${crypto$1.createHash("md5").update(__dirname).digest("base64").replace(/\W/g,"")}.json`;this.storagePath=path$2.join(os$1.tmpdir(),t)}async get(e){return(await this.readData())[e]}async set(e,t){(await this.readData())[e]=t,this.writeData()}async readData(){if(!this.data)try{const e=await this.fs.readFile(this.storagePath);this.data=JSON.parse(e)}catch(e){this.data={}}return this.data}writeData(){try{const e=JSON.stringify(this.data,null,2);this.fs.writeFileSync(this.storagePath,e)}catch(e){}}}var isWsl_1=createCommonjsModule((function(e){const t=()=>{if("linux"!==process.platform)return!1;if(os$1__default.release().includes("Microsoft"))return!0;try{return fs$2__default.readFileSync("/proc/version","utf8").includes("Microsoft")}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=t:e.exports=t()}));const{promisify:promisify}=util$1,pAccess=promisify(fs$2__default.access),pExecFile=promisify(child_process$1__default.execFile),localXdgOpenPath=path$2__default.join(__dirname,"xdg-open"),wslToWindowsPath=async e=>{const{stdout:t}=await pExecFile("wslpath",["-w",e]);return t.trim()};var open=async(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a `target`");let r;t={wait:!1,background:!1,...t};let s=[];const n=[],i={};if(Array.isArray(t.app)&&(s=t.app.slice(1),t.app=t.app[0]),"darwin"===process.platform)r="open",t.wait&&n.push("--wait-apps"),t.background&&n.push("--background"),t.app&&n.push("-a",t.app);else if("win32"===process.platform||isWsl_1){if(r="cmd"+(isWsl_1?".exe":""),n.push("/c","start",'""',"/b"),e=e.replace(/&/g,"^&"),t.wait&&n.push("/wait"),t.app){if(isWsl_1&&t.app.startsWith("/mnt/")){const e=await wslToWindowsPath(t.app);t.app=e}n.push(t.app)}s.length>0&&n.push(...s)}else{if(t.app)r=t.app;else{const e=!__dirname||"/"===__dirname;let t=!1;try{await pAccess(localXdgOpenPath,fs$2__default.constants.X_OK),t=!0}catch(e){}r=process.versions.electron||"android"===process.platform||e||!t?"xdg-open":localXdgOpenPath}s.length>0&&n.push(...s),t.wait||(i.stdio="ignore",i.detached=!0)}n.push(e),"darwin"===process.platform&&s.length>0&&n.push("--args",...s);const a=child_process$1__default.spawn(r,n,i);return t.wait?new Promise((e,t)=>{a.once("error",t),a.once("close",r=>{r>0?t(new Error(`Exited with code ${r}`)):e(a)})}):(a.unref(),a)},semver=createCommonjsModule((function(e,t){var r;t=e.exports=p,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var s=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],a=t.src=[],o=t.tokens={},l=0;function c(e){o[e]=l++}c("NUMERICIDENTIFIER"),a[o.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),a[o.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),a[o.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),a[o.MAINVERSION]="("+a[o.NUMERICIDENTIFIER]+")\\.("+a[o.NUMERICIDENTIFIER]+")\\.("+a[o.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),a[o.MAINVERSIONLOOSE]="("+a[o.NUMERICIDENTIFIERLOOSE]+")\\.("+a[o.NUMERICIDENTIFIERLOOSE]+")\\.("+a[o.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),a[o.PRERELEASEIDENTIFIER]="(?:"+a[o.NUMERICIDENTIFIER]+"|"+a[o.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),a[o.PRERELEASEIDENTIFIERLOOSE]="(?:"+a[o.NUMERICIDENTIFIERLOOSE]+"|"+a[o.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),a[o.PRERELEASE]="(?:-("+a[o.PRERELEASEIDENTIFIER]+"(?:\\."+a[o.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),a[o.PRERELEASELOOSE]="(?:-?("+a[o.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+a[o.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),a[o.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),a[o.BUILD]="(?:\\+("+a[o.BUILDIDENTIFIER]+"(?:\\."+a[o.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),a[o.FULLPLAIN]="v?"+a[o.MAINVERSION]+a[o.PRERELEASE]+"?"+a[o.BUILD]+"?",a[o.FULL]="^"+a[o.FULLPLAIN]+"$",c("LOOSEPLAIN"),a[o.LOOSEPLAIN]="[v=\\s]*"+a[o.MAINVERSIONLOOSE]+a[o.PRERELEASELOOSE]+"?"+a[o.BUILD]+"?",c("LOOSE"),a[o.LOOSE]="^"+a[o.LOOSEPLAIN]+"$",c("GTLT"),a[o.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),a[o.XRANGEIDENTIFIERLOOSE]=a[o.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),a[o.XRANGEIDENTIFIER]=a[o.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),a[o.XRANGEPLAIN]="[v=\\s]*("+a[o.XRANGEIDENTIFIER]+")(?:\\.("+a[o.XRANGEIDENTIFIER]+")(?:\\.("+a[o.XRANGEIDENTIFIER]+")(?:"+a[o.PRERELEASE]+")?"+a[o.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),a[o.XRANGEPLAINLOOSE]="[v=\\s]*("+a[o.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[o.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[o.XRANGEIDENTIFIERLOOSE]+")(?:"+a[o.PRERELEASELOOSE]+")?"+a[o.BUILD]+"?)?)?",c("XRANGE"),a[o.XRANGE]="^"+a[o.GTLT]+"\\s*"+a[o.XRANGEPLAIN]+"$",c("XRANGELOOSE"),a[o.XRANGELOOSE]="^"+a[o.GTLT]+"\\s*"+a[o.XRANGEPLAINLOOSE]+"$",c("COERCE"),a[o.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),i[o.COERCERTL]=new RegExp(a[o.COERCE],"g"),c("LONETILDE"),a[o.LONETILDE]="(?:~>?)",c("TILDETRIM"),a[o.TILDETRIM]="(\\s*)"+a[o.LONETILDE]+"\\s+",i[o.TILDETRIM]=new RegExp(a[o.TILDETRIM],"g");c("TILDE"),a[o.TILDE]="^"+a[o.LONETILDE]+a[o.XRANGEPLAIN]+"$",c("TILDELOOSE"),a[o.TILDELOOSE]="^"+a[o.LONETILDE]+a[o.XRANGEPLAINLOOSE]+"$",c("LONECARET"),a[o.LONECARET]="(?:\\^)",c("CARETTRIM"),a[o.CARETTRIM]="(\\s*)"+a[o.LONECARET]+"\\s+",i[o.CARETTRIM]=new RegExp(a[o.CARETTRIM],"g");c("CARET"),a[o.CARET]="^"+a[o.LONECARET]+a[o.XRANGEPLAIN]+"$",c("CARETLOOSE"),a[o.CARETLOOSE]="^"+a[o.LONECARET]+a[o.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),a[o.COMPARATORLOOSE]="^"+a[o.GTLT]+"\\s*("+a[o.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),a[o.COMPARATOR]="^"+a[o.GTLT]+"\\s*("+a[o.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),a[o.COMPARATORTRIM]="(\\s*)"+a[o.GTLT]+"\\s*("+a[o.LOOSEPLAIN]+"|"+a[o.XRANGEPLAIN]+")",i[o.COMPARATORTRIM]=new RegExp(a[o.COMPARATORTRIM],"g");c("HYPHENRANGE"),a[o.HYPHENRANGE]="^\\s*("+a[o.XRANGEPLAIN]+")\\s+-\\s+("+a[o.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),a[o.HYPHENRANGELOOSE]="^\\s*("+a[o.XRANGEPLAINLOOSE]+")\\s+-\\s+("+a[o.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),a[o.STAR]="(<|>)?=?\\s*\\*";for(var h=0;h<l;h++)r(h,a[h]),i[h]||(i[h]=new RegExp(a[h]));function u(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p)return e;if("string"!=typeof e)return null;if(e.length>s)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new p(e,t)}catch(e){return null}}function p(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>s)throw new TypeError("version is longer than "+s+" characters");if(!(this instanceof p))return new p(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var a=e.trim().match(t.loose?i[o.LOOSE]:i[o.FULL]);if(!a)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}t.parse=u,t.valid=function(e,t){var r=u(e,t);return r?r.version:null},t.clean=function(e,t){var r=u(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=p,p.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},p.prototype.toString=function(){return this.version},p.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof p||(e=new p(e,this.options)),this.compareMain(e)||this.comparePre(e)},p.prototype.compareMain=function(e){return e instanceof p||(e=new p(e,this.options)),f(this.major,e.major)||f(this.minor,e.minor)||f(this.patch,e.patch)},p.prototype.comparePre=function(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var s=this.prerelease[t],n=e.prerelease[t];if(r("prerelease compare",t,s,n),void 0===s&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===s)return-1;if(s!==n)return f(s,n)}while(++t)},p.prototype.compareBuild=function(e){e instanceof p||(e=new p(e,this.options));var t=0;do{var s=this.build[t],n=e.build[t];if(r("prerelease compare",t,s,n),void 0===s&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===s)return-1;if(s!==n)return f(s,n)}while(++t)},p.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,s){"string"==typeof r&&(s=r,r=void 0);try{return new p(e,r).inc(t,s).version}catch(e){return null}},t.diff=function(e,t){if(y(e,t))return null;var r=u(e),s=u(t),n="";if(r.prerelease.length||s.prerelease.length){n="pre";var i="prerelease"}for(var a in r)if(("major"===a||"minor"===a||"patch"===a)&&r[a]!==s[a])return n+a;return i},t.compareIdentifiers=f;var d=/^[0-9]+$/;function f(e,t){var r=d.test(e),s=d.test(t);return r&&s&&(e=+e,t=+t),e===t?0:r&&!s?-1:s&&!r?1:e<t?-1:1}function m(e,t,r){return new p(e,r).compare(new p(t,r))}function g(e,t,r){return m(e,t,r)>0}function E(e,t,r){return m(e,t,r)<0}function y(e,t,r){return 0===m(e,t,r)}function _(e,t,r){return 0!==m(e,t,r)}function x(e,t,r){return m(e,t,r)>=0}function b(e,t,r){return m(e,t,r)<=0}function S(e,t,r,s){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return y(e,r,s);case"!=":return _(e,r,s);case">":return g(e,r,s);case">=":return x(e,r,s);case"<":return E(e,r,s);case"<=":return b(e,r,s);default:throw new TypeError("Invalid operator: "+t)}}function v(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof v){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof v))return new v(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===C?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return f(t,e)},t.major=function(e,t){return new p(e,t).major},t.minor=function(e,t){return new p(e,t).minor},t.patch=function(e,t){return new p(e,t).patch},t.compare=m,t.compareLoose=function(e,t){return m(e,t,!0)},t.compareBuild=function(e,t,r){var s=new p(e,r),n=new p(t,r);return s.compare(n)||s.compareBuild(n)},t.rcompare=function(e,t,r){return m(t,e,r)},t.sort=function(e,r){return e.sort((function(e,s){return t.compareBuild(e,s,r)}))},t.rsort=function(e,r){return e.sort((function(e,s){return t.compareBuild(s,e,r)}))},t.gt=g,t.lt=E,t.eq=y,t.neq=_,t.gte=x,t.lte=b,t.cmp=S,t.Comparator=v;var C={};function A(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof A)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new A(e.raw,t);if(e instanceof v)return new A(e.value,t);if(!(this instanceof A))return new A(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function $(e,t){for(var r=!0,s=e.slice(),n=s.pop();r&&s.length;)r=s.every((function(e){return n.intersects(e,t)})),n=s.pop();return r}function R(e){return!e||"x"===e.toLowerCase()||"*"===e}function N(e,t,r,s,n,i,a,o,l,c,h,u,p){return((t=R(r)?"":R(s)?">="+r+".0.0":R(n)?">="+r+"."+s+".0":">="+t)+" "+(o=R(l)?"":R(c)?"<"+(+l+1)+".0.0":R(h)?"<"+l+"."+(+c+1)+".0":u?"<="+l+"."+c+"."+h+"-"+u:"<="+o)).trim()}function P(e,t,s){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!s.includePrerelease){for(n=0;n<e.length;n++)if(r(e[n].semver),e[n].semver!==C&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function I(e,t,r){try{t=new A(t,r)}catch(e){return!1}return t.test(e)}function k(e,t,r,s){var n,i,a,o,l;switch(e=new p(e,s),t=new A(t,s),r){case">":n=g,i=b,a=E,o=">",l=">=";break;case"<":n=E,i=x,a=g,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(e,t,s))return!1;for(var c=0;c<t.set.length;++c){var h=t.set[c],u=null,d=null;if(h.forEach((function(e){e.semver===C&&(e=new v(">=0.0.0")),u=u||e,d=d||e,n(e.semver,u.semver,s)?u=e:a(e.semver,d.semver,s)&&(d=e)})),u.operator===o||u.operator===l)return!1;if((!d.operator||d.operator===o)&&i(e,d.semver))return!1;if(d.operator===l&&a(e,d.semver))return!1}return!0}v.prototype.parse=function(e){var t=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new p(r[2],this.options.loose):this.semver=C},v.prototype.toString=function(){return this.value},v.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===C||e===C)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return S(e,this.operator,this.semver,this.options)},v.prototype.intersects=function(e,t){if(!(e instanceof v))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new A(e.value,t),I(this.value,r,t));if(""===e.operator)return""===e.value||(r=new A(this.value,t),I(e.semver,r,t));var s=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=S(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=S(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return s||n||i&&a||o||l},t.Range=A,A.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},A.prototype.toString=function(){return this.range},A.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var s=t?i[o.HYPHENRANGELOOSE]:i[o.HYPHENRANGE];e=e.replace(s,N),r("hyphen replace",e),e=e.replace(i[o.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,i[o.COMPARATORTRIM]),e=(e=(e=e.replace(i[o.TILDETRIM],"$1~")).replace(i[o.CARETTRIM],"$1^")).split(/\s+/).join(" ");var n=t?i[o.COMPARATORLOOSE]:i[o.COMPARATOR],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var s=t.loose?i[o.CARETLOOSE]:i[o.CARET];return e.replace(s,(function(t,s,n,i,a){var o;return r("caret",e,t,s,n,i,a),R(s)?o="":R(n)?o=">="+s+".0.0 <"+(+s+1)+".0.0":R(i)?o="0"===s?">="+s+"."+n+".0 <"+s+"."+(+n+1)+".0":">="+s+"."+n+".0 <"+(+s+1)+".0.0":a?(r("replaceCaret pr",a),o="0"===s?"0"===n?">="+s+"."+n+"."+i+"-"+a+" <"+s+"."+n+"."+(+i+1):">="+s+"."+n+"."+i+"-"+a+" <"+s+"."+(+n+1)+".0":">="+s+"."+n+"."+i+"-"+a+" <"+(+s+1)+".0.0"):(r("no pr"),o="0"===s?"0"===n?">="+s+"."+n+"."+i+" <"+s+"."+n+"."+(+i+1):">="+s+"."+n+"."+i+" <"+s+"."+(+n+1)+".0":">="+s+"."+n+"."+i+" <"+(+s+1)+".0.0"),r("caret return",o),o}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var s=t.loose?i[o.TILDELOOSE]:i[o.TILDE];return e.replace(s,(function(t,s,n,i,a){var o;return r("tilde",e,t,s,n,i,a),R(s)?o="":R(n)?o=">="+s+".0.0 <"+(+s+1)+".0.0":R(i)?o=">="+s+"."+n+".0 <"+s+"."+(+n+1)+".0":a?(r("replaceTilde pr",a),o=">="+s+"."+n+"."+i+"-"+a+" <"+s+"."+(+n+1)+".0"):o=">="+s+"."+n+"."+i+" <"+s+"."+(+n+1)+".0",r("tilde return",o),o}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var s=t.loose?i[o.XRANGELOOSE]:i[o.XRANGE];return e.replace(s,(function(s,n,i,a,o,l){r("xRange",e,s,n,i,a,o,l);var c=R(i),h=c||R(a),u=h||R(o),p=u;return"="===n&&p&&(n=""),l=t.includePrerelease?"-0":"",c?s=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(h&&(a=0),o=0,">"===n?(n=">=",h?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):"<="===n&&(n="<",h?i=+i+1:a=+a+1),s=n+i+"."+a+"."+o+l):h?s=">="+i+".0.0"+l+" <"+(+i+1)+".0.0"+l:u&&(s=">="+i+"."+a+".0"+l+" <"+i+"."+(+a+1)+".0"+l),r("xRange return",s),s}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[o.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(n)}))),a=a.map((function(e){return new v(e,this.options)}),this)},A.prototype.intersects=function(e,t){if(!(e instanceof A))throw new TypeError("a Range is required");return this.set.some((function(r){return $(r,t)&&e.set.some((function(e){return $(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new A(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},A.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1},t.satisfies=I,t.maxSatisfying=function(e,t,r){var s=null,n=null;try{var i=new A(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(s&&-1!==n.compare(e)||(n=new p(s=e,r)))})),s},t.minSatisfying=function(e,t,r){var s=null,n=null;try{var i=new A(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(s&&1!==n.compare(e)||(n=new p(s=e,r)))})),s},t.minVersion=function(e,t){e=new A(e,t);var r=new p("0.0.0");if(e.test(r))return r;if(r=new p("0.0.0-0"),e.test(r))return r;r=null;for(var s=0;s<e.set.length;++s){e.set[s].forEach((function(e){var t=new p(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!g(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new A(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return k(e,t,"<",r)},t.gtr=function(e,t,r){return k(e,t,">",r)},t.outside=k,t.prerelease=function(e,t){var r=u(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new A(e,r),t=new A(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof p)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var s;(s=i[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&s.index+s[0].length===r.index+r[0].length||(r=s),i[o.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;i[o.COERCERTL].lastIndex=-1}else r=e.match(i[o.COERCE]);if(null===r)return null;return u(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}})),semver_1=semver.SEMVER_SPEC_VERSION,semver_2=semver.re,semver_3=semver.src,semver_4=semver.tokens,semver_5=semver.parse,semver_6=semver.valid,semver_7=semver.clean,semver_8=semver.SemVer,semver_9=semver.inc,semver_10=semver.diff,semver_11=semver.compareIdentifiers,semver_12=semver.rcompareIdentifiers,semver_13=semver.major,semver_14=semver.minor,semver_15=semver.patch,semver_16=semver.compare,semver_17=semver.compareLoose,semver_18=semver.compareBuild,semver_19=semver.rcompare,semver_20=semver.sort,semver_21=semver.rsort,semver_22=semver.gt,semver_23=semver.lt,semver_24=semver.eq,semver_25=semver.neq,semver_26=semver.gte,semver_27=semver.lte,semver_28=semver.cmp,semver_29=semver.Comparator,semver_30=semver.Range,semver_31=semver.toComparators,semver_32=semver.satisfies,semver_33=semver.maxSatisfying,semver_34=semver.minSatisfying,semver_35=semver.minVersion,semver_36=semver.validRange,semver_37=semver.ltr,semver_38=semver.gtr,semver_39=semver.outside,semver_40=semver.prerelease,semver_41=semver.intersects,semver_42=semver.coerce;class WorkerMain extends events$1.EventEmitter{constructor(e,t){super(),this.id=e,this.tasks=[],this.exitCode=null,this.processQueue=!0,this.sendQueue=[],this.stopped=!1,this.successfulMessage=!1,this.totalTasksAssigned=0,this.workerKeys=[],this.fork(t)}fork(e){const t={execArgv:process.execArgv.filter(e=>!/^--(debug|inspect)/.test(e)),env:process.env,cwd:process.cwd()};this.childProcess=child_process$1.fork(e,["--start-worker"],t),this.childProcess.on("message",this.receiveFromWorker.bind(this)),this.childProcess.once("exit",e=>{this.exitCode=e,this.emit("exit",e)}),this.childProcess.on("error",e=>{this.emit("error",e)})}run(e){this.totalTasksAssigned++,this.tasks.push(e),this.sendToWorker({taskId:e.taskId,method:e.method,args:e.args})}sendToWorker(e){if(!this.processQueue)return void this.sendQueue.push(e);this.childProcess.send(e,e=>{if(!(e&&e instanceof Error)&&(this.processQueue=!0,this.sendQueue.length>0)){const e=this.sendQueue.slice();this.sendQueue=[],e.forEach(e=>this.sendToWorker(e))}})&&!/^win/.test(process.platform)||(this.processQueue=!1)}receiveFromWorker(e){if(this.successfulMessage=!0,this.stopped)return;const t=this.tasks.find(t=>t.taskId===e.taskId);if(!t)return void(null!=e.error&&this.emit("error",e.error));null!=e.error?t.reject(e.error):t.resolve(e.value);const r=this.tasks.indexOf(t);r>-1&&this.tasks.splice(r,1),this.emit("response",e)}stop(){this.stopped=!0;for(const e of this.tasks)e.reject(utils$4.TASK_CANCELED_MSG);this.tasks.length=0,this.successfulMessage?(this.childProcess.send({exit:!0}),setTimeout(()=>{null===this.exitCode&&this.childProcess.kill("SIGKILL")},100)):this.childProcess.kill("SIGKILL")}}class WorkerManager extends events$1.EventEmitter{constructor(e,t){super(),this.modulePath=e,this.options=t,this.workerIds=0,this.taskIds=0,this.isEnding=!1,this.taskQueue=[],this.workers=[],this.useForkedWorkers=!1,this.useForkedWorkers=this.options.maxConcurrentWorkers>1,this.useForkedWorkers&&this.startWorkers()}onError(e,t){if("ERR_IPC_CHANNEL_CLOSED"===e.code)return this.stopWorker(t);this.options.logger&&"EPIPE"!==e.code&&this.options.logger.error(e)}onExit(e){setTimeout(()=>{let t=!1;const r=this.workers.find(t=>t.id===e);if(r&&r.tasks.length>0){for(const e of r.tasks)e.retries++,this.taskQueue.unshift(e),t=!0;r.tasks.length=0}this.stopWorker(e),t&&this.processTaskQueue()},10)}startWorkers(){for(;this.workers.length<this.options.maxConcurrentWorkers;)this.startWorker()}startWorker(){const e=this.workerIds++,t=new WorkerMain(e,this.modulePath);t.on("response",this.processTaskQueue.bind(this)),t.once("exit",()=>{this.onExit(e)}),t.on("error",t=>{this.onError(t,e)}),this.workers.push(t)}stopWorker(e){const t=this.workers.find(t=>t.id===e);if(t){t.successfulMessage||(this.useForkedWorkers=!1),t.stop();const e=this.workers.indexOf(t);e>-1&&this.workers.splice(e,1)}}processTaskQueue(){if(!this.isEnding&&0!==this.taskQueue.length)for(this.startWorkers();this.taskQueue.length>0;){const e=getWorker(this.taskQueue[0],this.workers,this.options.maxConcurrentTasksPerWorker);if(!e)break;e.run(this.taskQueue.shift())}}run(e,t,r={}){if(this.isEnding)return Promise.reject(utils$4.TASK_CANCELED_MSG);if(this.useForkedWorkers)return new Promise((s,n)=>{const i={taskId:this.taskIds++,method:e,args:t,retries:0,resolve:s,reject:n,isLongRunningTask:!!r.isLongRunningTask,workerKey:r.workerKey};this.taskQueue.push(i),this.processTaskQueue()});if(!this.mainThreadRunner){const e=require(this.modulePath);this.mainThreadRunner=new e.createRunner}return this.mainThreadRunner(e,t)}cancelTasks(){for(const e of this.workers){for(const t of e.tasks)t.reject(utils$4.TASK_CANCELED_MSG);e.tasks.length=0}this.taskQueue.length=0,this.taskIds=0}destroy(){if(!this.isEnding){this.isEnding=!0;for(const e of this.taskQueue)e.reject(utils$4.TASK_CANCELED_MSG);this.taskQueue.length=0;const e=this.workers.map(e=>e.id);for(const t of e)this.stopWorker(t)}}}function getWorker(e,t,r){return e.workerKey?getWorkerFromKey(t,r,e.workerKey):getNextWorker(t,r)}function getWorkerFromKey(e,t,r){let s=e.find(e=>e.workerKeys.includes(r));return s||((s=getNextWorker(e,t))||(s=e.find(e=>0===e.workerKeys.length))||(s=e[0]),s.workerKeys.push(r),s)}function getNextWorker(e,t){const r=e.filter(e=>!e.stopped&&(!(e.tasks.length>=t)&&!e.tasks.some(e=>e.isLongRunningTask)));return 0===r.length?null:r.sort((e,t)=>e.tasks.length<t.tasks.length?-1:e.tasks.length>t.tasks.length?1:e.totalTasksAssigned<t.totalTasksAssigned?-1:e.totalTasksAssigned>t.totalTasksAssigned?1:0)[0]}class NodeSystem{constructor(e){this.destroys=[],this.semver={lt:semver.lt,lte:semver.lte,gt:semver.gt,gte:semver.gte,prerelease:semver.prerelease,satisfies:semver.satisfies},this.fs=e||new NodeFs(process),this.path=Object.assign({},path$2__default);const t=path$2__default.join;this.path.join=function(...e){return utils$4.normalizePath(t.apply(path$2__default,e))},this.nodeResolveModule=new NodeResolveModule,this.storage=new NodeStorage(this.fs),this.packageDir=path$2__default.join(__dirname,"..","..",".."),this.distDir=path$2__default.join(this.packageDir,"dist"),this.nextTick=process.nextTick.bind(process);try{this.packageJsonData=require(path$2__default.join(this.packageDir,"package.json"))}catch(e){throw new Error(`unable to resolve "package.json" from: ${this.packageDir}`)}try{this.typescriptPackageJson=require(this.resolveModule(this.packageDir,"typescript"))}catch(e){throw new Error(`unable to resolve "typescript" from: ${this.packageDir}`)}}initWorkers(e,t,r){if(this.sysWorker)return this.sysWorker.options;const s=require.resolve(path$2__default.join(this.distDir,"sys","node","sys-worker.js")),n=os$1.cpus().length;return e="number"==typeof e?Math.max(1,Math.min(n,e)):n,this.sysWorker=new WorkerManager(s,{maxConcurrentWorkers:e,maxConcurrentTasksPerWorker:t,logger:r}),this.addDestroy(()=>{this.sysWorker&&this.sysWorker.destroy()}),this.sysWorker.options}cancelWorkerTasks(){this.sysWorker&&this.sysWorker.cancelTasks()}destroy(){this.destroys.forEach(e=>{e()}),this.destroys.length=0}addDestroy(e){this.destroys.push(e)}cloneDocument(e){return mockDoc.cloneDocument(e)}get compiler(){return{name:this.packageJsonData.name,version:"0.0.0-stencil-dev",runtime:path$2__default.join(this.distDir,"compiler","index.js"),packageDir:this.packageDir,distDir:this.distDir,typescriptVersion:this.typescriptPackageJson.version}}async copy(e,t){return this.sysWorker.run("copy",[e,t],{isLongRunningTask:!0})}createDocument(e){return mockDoc.createDocument(e)}async createFsWatcher(e,t,r){const s=new FsWatcher(e,t,r);return this.addDestroy(()=>{s.close()}),s}generateContentHash(e,t){return new Promise(r=>{let s=crypto$1.createHash("md5").update(e).digest("base64");"number"==typeof t&&(s=s.replace(/\W/g,"").substr(0,t).toLowerCase()),r(s)})}getClientPath(e){return utils$4.normalizePath(path$2__default.join(this.distDir,"client",e))}getClientCoreFile(e){const t=this.getClientPath(e.staticName);return this.fs.readFile(t)}getLatestCompilerVersion(e,t){return getLatestCompilerVersion(this.storage,e,t)}glob(e,t){return new Promise((r,s)=>{glob_1(e,t,(e,t)=>{e?s(e):r(t)})})}loadConfigFile(e,t){return loadConfigFile(this.fs,e,t)}get lazyRequire(){return this.nodeLazyRequire||(this.nodeLazyRequire=new NodeLazyRequire(this.semver,this.nodeResolveModule,this.packageJsonData)),this.nodeLazyRequire}optimizeCss(e){return this.sysWorker.run("optimizeCss",[e])}minifyJs(e,t){return this.sysWorker.run("minifyJs",[e,t])}open(e,t){return open(e,t)}get details(){const e={cpuModel:"",cpus:-1,freemem:()=>os$1.freemem(),platform:"",release:"",runtime:"node",runtimeVersion:"",tmpDir:os$1.tmpdir(),totalmem:-1};try{const t=os$1.cpus();e.cpuModel=t[0].model,e.cpus=t.length,e.platform=os$1.platform(),e.release=os$1.release(),e.runtimeVersion=process.version,e.totalmem=os$1.totalmem()}catch(e){}return e}prerenderUrl(e){return this.sysWorker.run("prerenderUrl",[e])}resolveModule(e,t,r){return this.nodeResolveModule.resolveModule(e,t,r)}get rollup(){return NodeRollup}scopeCss(e,t,r){return this.sysWorker.run("scopeCss",[e,t,r])}get color(){return ansiColors}serializeNodeToHtml(e){return mockDoc.serializeNodeToHtml(e)}async transpileToEs5(e,t,r){return this.sysWorker.run("transpileToEs5",[e,t,r])}validateTypes(e,t,r,s,n){return this.sysWorker.run("validateTypes",[e,t,r,s,n],{isLongRunningTask:!0,workerKey:"validateTypes"})}}const logger=new NodeLogger,sys$1=new NodeSystem;exports.NodeFs=NodeFs,exports.NodeLogger=NodeLogger,exports.NodeSystem=NodeSystem,exports.logger=logger,exports.sys=sys$1;